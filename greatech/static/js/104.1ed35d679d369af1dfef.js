webpackJsonp([104],{s1wC:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l("Dd8w"),a=l.n(r),i=l("T452"),n=l("pxwZ"),o=l("lStc"),s=l("uUlv"),c={name:"deliveryNote",data:function(){return{form:{deliveryDate:o.a.renderTime(new Date).slice(0,10),receivingUnit:"东莞市广正模具塑胶有限公司",arrivalDate:o.a.renderTime(new Date).slice(0,10),currency:"RMB"},CountState:!0,submitState:!0,fullscreenLoading:!1}},computed:a()({},Object(s.c)(["username","stateDelivery"])),filters:{filtersPurchaseDate:function(e){if(e)return o.a.renderTime(e).slice(0,10)},filtersQuantity:function(e){return o.a.Remainder(e)},filterIsGift:function(e){return"0"==e?"否":"是"}},methods:{save:function(){var e=this;this.submitState&&this.$refs.form.validate(function(t){if(t){for(var l=0;l<e.stateDelivery.length;l++){if(e.stateDelivery[l].deliverableQuantity<1){e.CountState=!1;break}e.CountState=!0}if(e.CountState){e.submitState=!1,e.fullscreenLoading=!0,e.stateDelivery.map(function(e){e.quantity=e.deliverableQuantity});var r={deliveryDate:e.form.deliveryDate,arrivalDate:e.form.arrivalDate,receivingUnit:e.form.receivingUnit,currency:e.form.currency,erpno:e.stateDelivery[0].erpno,deliveryProductList:e.stateDelivery};n.a.post(i.a.api,"/delivery/saveDelivery.do",r).then(function(t){e.submitState=!0,e.fullscreenLoading=!1,0==t.status?e.$alert(t.msg,{confirmButtonText:"确定",center:!0,callback:function(t){e.$router.push("detailed")}}):e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})}}})}}},u={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"inquiry_warp"},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",size:"mini","label-position":"right"}},[l("el-row",[l("el-col",{attrs:{span:4}},[l("el-form-item",{attrs:{label:"日期"}},[l("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",disabled:""},model:{value:e.form.deliveryDate,callback:function(t){e.$set(e.form,"deliveryDate",t)},expression:"form.deliveryDate"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:4,offset:1}},[l("el-form-item",{attrs:{label:"收货单位"}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入收货单位"},model:{value:e.form.receivingUnit,callback:function(t){e.$set(e.form,"receivingUnit",t)},expression:"form.receivingUnit"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:4,offset:2}},[l("el-form-item",{attrs:{label:"送货日期"}},[l("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"请选择送货日期"},model:{value:e.form.arrivalDate,callback:function(t){e.$set(e.form,"arrivalDate",t)},expression:"form.arrivalDate"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:4}},[l("el-form-item",{attrs:{label:"币种"}},[l("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"币种",disabled:""},model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}},[l("el-option",{attrs:{label:"人民币",value:"RMB"}})],1)],1)],1),e._v(" "),l("el-col",{attrs:{span:4,offset:1}},[l("el-form-item",{attrs:{label:"操作人"}},[l("el-input",{staticStyle:{width:"150px"},attrs:{disabled:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:3,offset:2}},[l("el-form-item",[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1)],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%"},attrs:{data:e.stateDelivery,border:"",size:"mini","element-loading-background":"rgba(0, 0, 0, 0.8)",height:"550"}},[l("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),e._v(" "),l("el-table-column",{attrs:{label:"采购日期",align:"center","show-overflow-tooltip":"",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{class:[{zhensong:1==t.row.isGift}]},[e._v(e._s(e._f("filtersPurchaseDate")(t.row.purchaseDate)))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"采购单号",align:"center","show-overflow-tooltip":"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{class:[{zhensong:1==t.row.isGift}]},[e._v(e._s(t.row.purchaseOrder))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"供货商",align:"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{class:[{zhensong:1==t.row.isGift}]},[e._v(e._s(t.row.supplierName))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"品号",align:"center","show-overflow-tooltip":"","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{class:[{zhensong:1==t.row.isGift}]},[e._v(e._s(t.row.productNumber))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"品名",align:"center","show-overflow-tooltip":"","min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{class:[{zhensong:1==t.row.isGift}]},[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"规格",align:"center","show-overflow-tooltip":"",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{class:[{zhensong:1==t.row.isGift}]},[e._v(e._s(t.row.specification))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"是否赠送",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{class:[{zhensong:1==t.row.isGift}]},[e._v(e._s(e._f("filterIsGift")(t.row.isGift)))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"单位",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{class:[{zhensong:1==t.row.isGift}]},[e._v(e._s(t.row.unit))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"收货数量","show-overflow-tooltip":"",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("input",{directives:[{name:"model",rawName:"v-model",value:t.row.deliverableQuantity,expression:"scope.row.deliverableQuantity"}],staticStyle:{width:"100%","line-height":"20px","padding-left":"5px","box-sizing":"border-box",outline:"none"},attrs:{type:"text"},domProps:{value:t.row.deliverableQuantity},on:{input:function(l){l.target.composing||e.$set(t.row,"deliverableQuantity",l.target.value)}}}),e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:t.row.deliverableQuantity<1,expression:"scope.row.deliverableQuantity<1"}],staticStyle:{"font-size":"9px",color:"red"}},[e._v("数量不能为0")])]}}])})],1)],1)},staticRenderFns:[]};var f=l("VU/8")(c,u,!1,function(e){l("vyc9")},"data-v-1ab32102",null);t.default=f.exports},vyc9:function(e,t){}});
//# sourceMappingURL=104.1ed35d679d369af1dfef.js.map