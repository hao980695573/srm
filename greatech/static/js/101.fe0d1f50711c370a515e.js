webpackJsonp([101],{h1ut:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),o=a("T452"),l=a("pxwZ"),c=a("uUlv"),r={name:"bankAccount",props:{bankList:{type:Array}},data:function(){return{header:{Authorization:localStorage.getItem("token")},bankAccountShow:!1,bankeDitShow:!1,multipleSelection:[],addBankData:{accountName:"",openAccountBankName:"",account:"",bankCode:"",invoiceDocuments:""},rules:{accountName:[{required:!0,message:"开户名不能为空",trigger:"blur"}],openAccountBankName:[{required:!0,message:"开户行不能为空",trigger:"blur"}],account:[{required:!0,message:"银行账户不能为空",trigger:"blur"}],bankCode:[{required:!0,message:"银行代码不能为空",trigger:"blur"}],invoiceDocuments:[{required:!0,message:"附件不能为空",trigger:["change","blur"]}]},editUuid:"",uploadfile:""}},computed:i()({},Object(c.c)(["uuid"])),methods:{haldAddBank:function(){var t=this;this.bankAccountShow=!0,setTimeout(function(){t.$refs.addBankData.resetFields()},50)},bankeDit:function(t){this.bankeDitShow=!0,this.editUuid=t.row.uuid,this.uploadfile=""},handleSelectionChange:function(t){var e=this;this.multipleSelection=[],t.map(function(t){e.multipleSelection.push(t.uuid)})},additions:function(){var t=this;this.$refs.addBankData.validate(function(e){if(e){var a={supplierUuid:t.uuid,accountName:t.addBankData.accountName,openAccountBankName:t.addBankData.openAccountBankName,account:t.addBankData.account,bankCode:t.addBankData.bankCode,invoiceDocuments:t.addBankData.invoiceDocuments};l.a.post(o.a.api,"/supplier/addSupplierBank.do",a).then(function(e){0==e.status?t.$alert("保存成功",{confirmButtonText:"确定",center:!0,callback:function(e){t.bankAccountShow=!1,t.$emit("againLoad")}}):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}})},upEdit:function(){var t=this,e={uuid:this.editUuid,invoiceDocuments:this.uploadfile};l.a.post(o.a.api,"/supplier/editSupplierBank.do",e).then(function(e){0==e.status?t.$alert("保存成功",{confirmButtonText:"确定",center:!0,callback:function(e){t.bankeDitShow=!1,t.$emit("againLoad")}}):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},fastDeleteBth:function(){var t=this,e={tableName:"supplier_bank",uuidList:this.multipleSelection};l.a.post(o.a.api,"/supplier/deleteSupplierExtraInformation.do",e).then(function(e){0==e.status?t.$alert("删除成功",{confirmButtonText:"确定",center:!0,callback:function(e){t.$emit("againLoad")}}):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},otherFileChange:function(t){this.addBankData.invoiceDocuments=t.data[0],this.$refs.addBankData.clearValidate("invoiceDocuments")},removeOtherFile:function(){this.addBankData.invoiceDocuments=""},editFileChange:function(t){this.uploadfile=t.data[0]},removeeditFile:function(){this.uploadfile=""}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contacTitleWarp"},[a("div",{staticClass:"contacTitle"},[t._v("银行信息账号")]),t._v(" "),a("div",{staticClass:"contacTitleButton"},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.haldAddBank}},[t._v("新增银行账号")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.fastDeleteBth}},[t._v("一键删除")])],1)]),t._v(" "),a("div",{staticClass:"contacTinformation"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bankList,border:"",size:"mini"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"accountName",label:"开户名称",align:"center",width:"220"}}),t._v(" "),a("el-table-column",{attrs:{prop:"openAccountBankName",label:"开户银行 (具体到分行)",align:"center","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"银行账号",align:"center","min-width":"90"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bankCode",label:"银行代码",align:"center",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"附件","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticStyle:{color:"#409EFF","font-size":"12px",cursor:"pointer"},attrs:{href:e.row.invoiceDocuments,download:"",target:"_blank"}},[t._v("下载")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.bankeDit(e)}}},[t._v("\n            编辑\n          ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增银行账号",visible:t.bankAccountShow},on:{"update:visible":function(e){t.bankAccountShow=e}}},[a("div",{staticClass:"addContactsWarp"},[a("el-form",{ref:"addBankData",attrs:{model:t.addBankData,rules:t.rules,"label-width":"80px",size:"medium","label-position":"top"}},[a("el-form-item",{attrs:{label:"开户名称",prop:"accountName"}},[a("el-input",{attrs:{placeholder:"请输入开户名称"},model:{value:t.addBankData.accountName,callback:function(e){t.$set(t.addBankData,"accountName",e)},expression:"addBankData.accountName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"开户银行（具体到分行）",prop:"openAccountBankName"}},[a("el-input",{attrs:{placeholder:"请输入开户银行"},model:{value:t.addBankData.openAccountBankName,callback:function(e){t.$set(t.addBankData,"openAccountBankName",e)},expression:"addBankData.openAccountBankName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"银行账号",prop:"account"}},[a("el-input",{attrs:{placeholder:"请输入银行账号"},model:{value:t.addBankData.account,callback:function(e){t.$set(t.addBankData,"account",e)},expression:"addBankData.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"银行代码",prop:"bankCode"}},[a("el-input",{attrs:{placeholder:"请输入银行代码"},model:{value:t.addBankData.bankCode,callback:function(e){t.$set(t.addBankData,"bankCode",e)},expression:"addBankData.bankCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上传附件",prop:"invoiceDocuments"}},[a("el-upload",{staticClass:"upload-demo",attrs:{multiple:!1,limit:1,action:"http://www.srm-greatech.com/gzSrm/system/file/upFile.do?fileType=qualification.path","on-success":t.otherFileChange,headers:t.header,"on-remove":t.removeOtherFile,"file-list":[]}},[a("el-button",{staticStyle:{"margin-left":"30px","margin-top":"3px",width:"200px"},attrs:{size:"small",type:"primary"}},[t._v("上传")])],1)],1)],1),t._v(" "),a("div",{staticClass:"defineWarp"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.additions}},[t._v("确定")])],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"更新附件",visible:t.bankeDitShow},on:{"update:visible":function(e){t.bankeDitShow=e}}},[a("div",{staticClass:"addContactsWarp"},[a("el-form",{ref:"bankeDit",attrs:{rules:t.rules,"label-width":"80px",size:"medium","label-position":"top"}},[a("el-form-item",{attrs:{label:"上传附件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{multiple:!1,limit:1,action:"http://www.srm-greatech.com/gzSrm/system/file/upFile.do?fileType=qualification.path","on-success":t.editFileChange,headers:t.header,"on-remove":t.removeeditFile,"file-list":[]}},[a("el-button",{staticStyle:{"margin-left":"30px","margin-top":"3px",width:"200px"},attrs:{size:"small",type:"primary"}},[t._v("上传")])],1)],1)],1),t._v(" "),a("div",{staticClass:"defineWarp"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.upEdit}},[t._v("确定")])],1)],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(r,s,!1,function(t){a("r8qG")},"data-v-1efb64b0",null);e.default=u.exports},r8qG:function(t,e){}});
//# sourceMappingURL=101.fe0d1f50711c370a515e.js.map