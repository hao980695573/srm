webpackJsonp([55],{"3YVJ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Dd8w"),n=r.n(a),i=r("T452"),l=r("pxwZ"),o=r("lStc"),s=r("uUlv"),u={name:"detailed",data:function(){return{form:{dateArr:[],startDate:"",endDate:"",search:"",stockStatus:"2",erpno:"",erpnoList:[],totalNum:0,pageNum:1,pageSize:6},deliveryList:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]}}},filters:{filtersDate:function(e){if(e)return o.a.renderTime(e).slice(0,10)},filerStockStatus:function(e){if(e)return"已入库"},filteHurry:function(e){return"1"==e?"紧急":"否"}},activated:function(){this.handleCurrentChange(),this.getSupplierList()},computed:n()({},Object(s.c)(["supplierUUid","userRole"])),methods:n()({},Object(s.b)(["changeUuid"]),{changeDate:function(){null!=this.form.dateArr?(this.form.startDate=this.form.dateArr[0],this.form.endDate=this.form.dateArr[1]):(this.form.startDate="",this.form.endDate="")},getSupplierList:function(){var e=this,t={uuid:this.supplierUUid,companyType:"",isNeedExamination:"",conditionContent:"",pageSize:3e3,pageNum:1};l.a.post(i.a.api,"/supplier/getSupplierList.do",t).then(function(t){0==t.status?e.form.erpnoList=t.data:e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})},handleCurrentChange:function(e){var t=this;"screen"==e&&(this.form.pageNum=1);var r={uuid:"",stockStatus:this.form.stockStatus,search:this.form.search,startDate:this.form.startDate,endDate:this.form.endDate,pageNum:this.form.pageNum,pageSize:this.form.pageSize,erpno:this.form.erpno};l.a.post(i.a.api,"/delivery/getDeliveryList.do",r).then(function(e){0==e.status?(t.deliveryList=e.data,e.data.length>0&&(t.form.totalNum=e.data[0].totalNum)):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},enterDeliveryDetail:function(e){this.changeUuid(e.row.uuid),this.$router.push("deliveryDetail")}})},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"inquiry_warp"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",size:"mini","label-position":"right",inline:!0}},["FIRMMANAGER"!=e.userRole&&"FIRMUSER"!=e.userRole?r("el-form-item",{attrs:{label:"厂商","label-width":"50px"}},[r("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择厂商"},model:{value:e.form.erpno,callback:function(t){e.$set(e.form,"erpno",t)},expression:"form.erpno"}},[r("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.form.erpnoList,function(e){return r("el-option",{key:e.uuid,attrs:{label:e.companyName,value:e.erpno}})})],2)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"模糊搜索",prop:"receivingUnit"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.search,callback:function(t){e.$set(e.form,"search",t)},expression:"form.search"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入库条件"}},[r("el-select",{attrs:{placeholder:"请选择入库条件"},model:{value:e.form.stockStatus,callback:function(t){e.$set(e.form,"stockStatus",t)},expression:"form.stockStatus"}},[r("el-option",{attrs:{label:"未入库",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"已入库",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"全部",value:"2"}})],1)],1),e._v(" "),r("div",[r("el-form-item",{attrs:{label:"日期","label-width":"50px"}},[r("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:e.changeDate},model:{value:e.form.dateArr,callback:function(t){e.$set(e.form,"dateArr",t)},expression:"form.dateArr"}})],1),e._v(" "),r("el-form-item",[r("el-button",{staticClass:"Fuzzy",attrs:{type:"primary"},on:{click:function(t){return e.handleCurrentChange("screen")}}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.deliveryList,border:"",size:"mini",height:414}},[r("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"紧急状态","show-overflow-tooltip":"",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{class:[{jinji:1==t.row.isHurry}]},[e._v(e._s(e._f("filteHurry")(t.row.isHurry)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"deliveryNumber",label:"送货单号",align:"center","show-overflow-tooltip":"","min-width":"150"}}),e._v(" "),r("el-table-column",{attrs:{label:"送货日期",align:"center","show-overflow-tooltip":"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e._f("filtersDate")(t.row.deliveryDate)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"预计到货时间",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e._f("filtersDate")(t.row.arrivalDate)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"receivingUnit",label:"送货单位",align:"center","min-width":"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"currency",label:"币种",align:"center",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{label:"入库状态",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e._f("filerStockStatus")(t.row.stockNumber)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作员名字",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.operatorName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return e.enterDeliveryDetail(t)}}},[e._v("\n          详情\n        ")])]}}])})],1),e._v(" "),r("div",{staticClass:"page_fen"},[r("el-pagination",{attrs:{background:"","page-size":e.form.pageSize,layout:"prev, pager, next",total:e.form.totalNum,"current-page":e.form.pageNum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.form,"pageNum",t)},"update:current-page":function(t){return e.$set(e.form,"pageNum",t)}}})],1)],1)},staticRenderFns:[]};var p=r("VU/8")(u,c,!1,function(e){r("jAm4")},"data-v-754477fa",null);t.default=p.exports},jAm4:function(e,t){}});
//# sourceMappingURL=55.8c9f8910b649bb158deb.js.map