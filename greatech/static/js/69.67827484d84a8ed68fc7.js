webpackJsonp([69],{fqeh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),l=a.n(n),o=a("T452"),s=a("pxwZ"),r=a("uUlv"),i={name:"contaclnformation",props:{contractList:{type:Array}},data:function(){return{addContacts:!1,multipleSelection:[],addContactsData:{name:"",sex:"",post:"",telephone:"",phone:"",remark:""},rules:{name:[{required:!0,message:"名字不能为空",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],post:[{required:!0,message:"职位不能为空",trigger:"change"}],telephone:[{required:!1,message:"电话不能为空",trigger:"blur"}],phone:[{required:!0,message:"手机不能为空",trigger:"blur"}],remark:[{required:!1,message:"备注不能为空",trigger:"blur"}]}}},computed:l()({},Object(r.c)(["uuid"])),filters:{filtersSex:function(t){return 0==t?"女":1==t?"男":void 0}},methods:{haldAddContacts:function(){this.addContacts=!0,this.addContactsData.name="",this.addContactsData.sex="",this.addContactsData.post="",this.addContactsData.telephone="",this.addContactsData.phone="",this.addContactsData.remark=""},additions:function(){var t=this;this.$refs.addContactsData.validate(function(e){if(e){var a={supplierUuid:t.uuid,name:t.addContactsData.name,sex:t.addContactsData.sex,post:t.addContactsData.post,telephone:t.addContactsData.telephone,phone:t.addContactsData.phone,remark:t.addContactsData.remark};s.a.post(o.a.api,"/supplier/addSupplierContract.do",a).then(function(e){0==e.status?t.$alert("保存成功",{confirmButtonText:"确定",center:!0,callback:function(e){t.addContacts=!1,t.$emit("againLoad")}}):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}})},handleSelectionChange:function(t){var e=this;this.multipleSelection=[],t.map(function(t){e.multipleSelection.push(t.uuid)})},fastDeleteBth:function(){var t=this,e={tableName:"supplier_contract",uuidList:this.multipleSelection};s.a.post(o.a.api,"/supplier/deleteSupplierExtraInformation.do",e).then(function(e){0==e.status?t.$alert("删除成功",{confirmButtonText:"确定",center:!0,callback:function(e){t.$emit("againLoad")}}):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},deleteBth:function(t){var e=this,a={tableName:"supplier_contract",uuidList:Array(t.uuid)};s.a.post(o.a.api,"/supplier/deleteSupplierExtraInformation.do",a).then(function(t){0==t.status?e.$alert("删除成功",{confirmButtonText:"确定",center:!0,callback:function(t){e.$emit("againLoad")}}):e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contacTitleWarp"},[a("div",{staticClass:"contacTitle"},[t._v("联系人方式")]),t._v(" "),a("div",{staticClass:"contacTitleButton"},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.haldAddContacts}},[t._v("新增联系人")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.fastDeleteBth}},[t._v("一键删除")])],1)]),t._v(" "),a("div",{staticClass:"contacTinformation"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.contractList,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"性别",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("filtersSex")(e.row.sex)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"post",label:"职位",align:"center",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"telephone",label:"电话",align:"center",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteBth(e.row)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增联系人",visible:t.addContacts},on:{"update:visible":function(e){t.addContacts=e}}},[a("div",{staticClass:"addContactsWarp"},[a("el-form",{ref:"addContactsData",attrs:{rules:t.rules,model:t.addContactsData,"label-width":"80px",size:"medium"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.addContactsData.name,callback:function(e){t.$set(t.addContactsData,"name",e)},expression:"addContactsData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:t.addContactsData.sex,callback:function(e){t.$set(t.addContactsData,"sex",e)},expression:"addContactsData.sex"}},[a("el-radio",{attrs:{label:"1"}},[t._v("男")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("女")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"post"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择职位"},model:{value:t.addContactsData.post,callback:function(e){t.$set(t.addContactsData,"post",e)},expression:"addContactsData.post"}},[a("el-option",{attrs:{label:"报价员",value:"报价员"}}),t._v(" "),a("el-option",{attrs:{label:"跟单员",value:"跟单员"}}),t._v(" "),a("el-option",{attrs:{label:"财务员",value:"财务员"}}),t._v(" "),a("el-option",{attrs:{label:"仓库员",value:"仓库员"}}),t._v(" "),a("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"telephone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:t.addContactsData.telephone,callback:function(e){t.$set(t.addContactsData,"telephone",e)},expression:"addContactsData.telephone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.addContactsData.phone,callback:function(e){t.$set(t.addContactsData,"phone",e)},expression:"addContactsData.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:4,resize:"none",placeholder:"请输入内容"},model:{value:t.addContactsData.remark,callback:function(e){t.$set(t.addContactsData,"remark",e)},expression:"addContactsData.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"defineWarp"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.additions}},[t._v("确定")])],1)],1)])],1)},staticRenderFns:[]};var d=a("VU/8")(i,c,!1,function(t){a("yIGD")},"data-v-5c20ea5f",null);e.default=d.exports},yIGD:function(t,e){}});
//# sourceMappingURL=69.67827484d84a8ed68fc7.js.map