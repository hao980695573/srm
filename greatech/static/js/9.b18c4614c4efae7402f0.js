webpackJsonp([9,32,38,41,89,105],{"+FXd":function(t,e){},"6QT3":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Dd8w"),i=r.n(a),n=r("T452"),s=r("pxwZ"),o=r("/ksa"),l=r("lStc"),u=r("uUlv"),c=new(r("7blw").a),d={name:"normalAuxillary",data:function(){var t=this;return{form:{deliveryNumber:"",printableQuantity:"",mpAmount:"",qgPeriod:"",dProductUuid:"",materialCodingName:"",materialCoding:"",quantity:"",deliveryCount:"",mpCount:"",issuanceDate:l.a.getToday("-"),manufactureDate:l.a.getToday("-")},restaurants:[],materielList:[],rules:{deliveryNumber:[{required:!0,message:"请输入送货单号",trigger:["blur","change"]}],deliveryCount:[{validator:function(e,r,a){return""===r?a(new Error("送货数不能为空")):/^[0-9]*[1-9][0-9]*$/.test(r)?Number(t.form.deliveryCount)>Number(t.form.printableQuantity)?a(new Error("送货数不能大于可打印数")):void a():a(new Error("只能输入整数"))},required:!0,trigger:"blur"}],mpAmount:[{validator:o.e,required:!0,trigger:"blur"}],issuanceDate:[{required:!0,message:"请选择日期",trigger:["change"]}],materialCodingName:[{required:!0,message:"内容不能为空",trigger:["blur","change"]}],qgPeriod:[{required:!0,message:"请选择日期",trigger:["change"]}],manufactureDate:[{required:!0,message:"请选择日期",trigger:["change"]}]},selcetDeliveryNumber:"",erpno:""}},mounted:function(){this.getDeliveryNote(),this.changeBarCodeList([])},methods:i()({},Object(u.b)(["changeBarCodeList"]),{querySearch:function(t,e){var r=this.restaurants;e(t?r.filter(this.createFilter(t)):r)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},materielSearch:function(t,e){var r=this.materielList;e(t?r.filter(this.materielFilter(t)):r)},materielFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},getDeliveryNote:function(){var t=this;s.a.post(n.a.api,"/delivery/getDeliveryList.do",{uuid:"",search:"",startDate:"",endDate:"",pageNum:1,pageSize:1e3}).then(function(e){if(0==e.status){var r=[];e.data.map(function(t){r.push({value:t.deliveryNumber,uuid:t.uuid,erpno:t.erpno})}),t.restaurants=r}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},handleSelect:function(t){var e=this;this.selcetDeliveryNumber=t.value;var r={deliveryNumber:t.value,uuid:t.uuid};this.erpno=t.erpno,this.form.materialCodingName="",s.a.post(n.a.api,"/barcode/getDeliveryInfo.do",r).then(function(t){if(0==t.status){var r=[];t.data.deliveryProductList.map(function(t){r.push({value:t.productName,dproductUuid:t.uuid,quantity:t.quantity,bpCount:t.bpCount})}),e.materielList=r}else e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})},materielSelect:function(t){var e=this;this.form.dproductUuid=t.dproductUuid,this.form.quantity=t.quantity,this.materielList.map(function(r){r.dproductUuid==t.dproductUuid&&(e.form.printableQuantity=t.quantity)})},mpAmountBlur:function(){this.form.mpCount="Infinity"==Math.ceil(this.form.deliveryCount/this.form.mpAmount)?0:Math.ceil(this.form.deliveryCount/this.form.mpAmount)},generatingBarcode:function(t){var e=this;this.PrintType="label"==t?"label":"middle"==t?"middle":"accessories",this.$emit("PrintType",this.PrintType),this.$refs.form.validate(function(t){if(t){c.open();var r={deliveryNumber:e.form.deliveryNumber,printableQuantity:e.form.printableQuantity,mpAmount:e.form.mpAmount,qgPeriod:e.form.qgPeriod,dproductUuid:e.form.dproductUuid,materialCoding:e.form.materialCoding,deliveryCount:e.form.deliveryCount,mpCount:e.form.mpCount,issuanceDate:e.form.issuanceDate,erpno:e.erpno,manufactureDate:e.form.manufactureDate};s.a.post(n.a.api,"/barcode/addAuxiliaryLabel.do",r).then(function(t){0==t.status?(e.getBarcodeList(t.data),c.close()):e.$alert(t.msg,{confirmButtonText:"确定",center:!0,callback:function(t){c.close()}})})}})},getBarcodeList:function(t){var e=this,r={uuid:t,type:0};s.a.post(n.a.api,"/barcode/getAuxiliaryDetailList.do",r).then(function(t){0==t.status?(e.changeBarCodeList(t.data),e.$refs.form.resetFields(),e.form.mpCount="",e.form.zhengCount="",e.form.beiCount="",e.form.printableQuantity=""):e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})}})},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"register"},[r("div",{staticClass:"register_center"},[r("el-form",{ref:"form",staticClass:"register_center_center",attrs:{"label-width":"150px",model:t.form,rules:t.rules,size:"mini"}},[r("div",{staticClass:"register_center_left"},[r("el-form-item",{attrs:{label:"送货单号",prop:"deliveryNumber"}},[r("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":t.querySearch,placeholder:"请输入送货单号"},on:{select:t.handleSelect},model:{value:t.form.deliveryNumber,callback:function(e){t.$set(t.form,"deliveryNumber",e)},expression:"form.deliveryNumber"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"可打印数量"}},[r("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"打印数量",readonly:""},model:{value:t.form.printableQuantity,callback:function(e){t.$set(t.form,"printableQuantity",e)},expression:"form.printableQuantity"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"最小包装量",prop:"mpAmount"}},[r("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入最小包装数",disabled:""==t.form.deliveryCount},on:{blur:t.mpAmountBlur},model:{value:t.form.mpAmount,callback:function(e){t.$set(t.form,"mpAmount",e)},expression:"form.mpAmount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"保质期",prop:"qgPeriod"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.form.qgPeriod,callback:function(e){t.$set(t.form,"qgPeriod",e)},expression:"form.qgPeriod"}})],1)],1),t._v(" "),r("div",{staticClass:"register_center_right"},[r("el-form-item",{attrs:{label:"物料编码",prop:"materialCodingName"}},[r("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":t.materielSearch,placeholder:"请输入物料编码"},on:{select:t.materielSelect},model:{value:t.form.materialCodingName,callback:function(e){t.$set(t.form,"materialCodingName",e)},expression:"form.materialCodingName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"送货数",prop:"deliveryCount"}},[r("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入送货数",disabled:""==t.form.printableQuantity},on:{blur:t.mpAmountBlur},model:{value:t.form.deliveryCount,callback:function(e){t.$set(t.form,"deliveryCount",e)},expression:"form.deliveryCount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"最小包装数"}},[r("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"最小包装数",readonly:""},model:{value:t.form.mpCount,callback:function(e){t.$set(t.form,"mpCount",e)},expression:"form.mpCount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"送货日期",prop:"issuanceDate"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"送货日期"},model:{value:t.form.issuanceDate,callback:function(e){t.$set(t.form,"issuanceDate",e)},expression:"form.issuanceDate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"生产日期",prop:"manufactureDate"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"生产日期"},model:{value:t.form.manufactureDate,callback:function(e){t.$set(t.form,"manufactureDate",e)},expression:"form.manufactureDate"}})],1)],1)]),t._v(" "),r("div",{staticClass:"register_bth_warp"},[r("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("label")}}},[t._v("生成条形码(100*70)")]),t._v(" "),r("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("middle")}}},[t._v("生成条形码(100*60)")]),t._v(" "),r("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("accessories")}}},[t._v("生成条形码(70*45)")])],1)],1)])},staticRenderFns:[]};var p=r("VU/8")(d,m,!1,function(t){r("Vzqz")},"data-v-19f7351e",null);e.default=p.exports},GBgi:function(t,e){},HTEt:function(t,e){},KaBC:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Dd8w"),i=r.n(a),n=r("T452"),s=r("pxwZ"),o=r("lStc"),l=r("uUlv"),u=r("4HuK"),c={name:"barPrint",data:function(){return{printMargin:"printMargin",remarkFalse:!1,remarkTrue:!0}},filters:{filterDate:function(t){if(t)return o.a.renderTime(t).slice(0,10)}},computed:i()({},Object(l.c)(["barCodeList","companyName"]),{pages:function(){if(this.barCodeList.length>0){var t=this.barCodeList.length;return t<=0?1:t}}}),watch:{pages:function(){setTimeout(function(){o.a.Font_Max("specification",26),o.a.Font_Max("pinming",14)},500)}},methods:{largePrintPdf:function(){var t=this,e={uuid:this.barCodeList[0].biUuid};s.a.post(n.a.api,"/barcode/updateBarcodeStatus.do",e).then(function(e){if(0==e.status){var r=t;r.remarkTrue=!1,r.remarkFalse=!0,setTimeout(function(){LODOP=Object(u.a)();var t="<head><link href='../../../../static/styles/auxiliaryMiddlePrint.css' type='text/css' rel='stylesheet'></head><body>"+document.getElementById("largePrinting").innerHTML+"</body>";LODOP.ADD_PRINT_HTM("3mm","12mm","RightMargin:5cm","1300",t),LODOP.SET_PRINT_MODE("PRINT_PAGE_PERCENT","Auto-Width"),LODOP.SET_PRINT_MODE("RESELECT_PAGESIZE",!0),LODOP.PREVIEW()},500)}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages>0"}],staticClass:"yulan_warp"},[r("div",{attrs:{id:"largePrinting"}},t._l(t.pages,function(e,a){return r("div",{key:a,staticClass:"a"},[r("div",{staticClass:"tab_company_out"},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[t._m(0,!0),t._v(" "),r("tr",[r("td",{staticStyle:{height:"42px"}},[t._v("供应商")]),t._v(" "),r("td",{attrs:{colspan:"4"}},[t._v(t._s(t.companyName))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("订单号")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].purchaseOrder))]),t._v(" "),r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("保质期")]),t._v(" "),r("td",[t._v(t._s(t._f("filterDate")(t.barCodeList[a].qgPeriod)))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("料号")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].productNumber))]),t._v(" "),r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("批次")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].batchNumber))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("规格")]),t._v(" "),r("td",{staticClass:"specification",staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[a].specification))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"25px"}},[t._v("数量/单位")]),t._v(" "),r("td",{staticStyle:{height:"25px"},attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[a].count)+" / "+t._s(t.barCodeList[a].unit))]),t._v(" "),r("td",{attrs:{rowspan:"3"}},[r("img",{staticStyle:{width:"147px",height:"147px"},attrs:{src:t.barCodeList[a].filePath}})])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"30px"}},[t._v("生产日期")]),t._v(" "),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("filterDate")(t.barCodeList[a].manufactureDate)))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"30px"}},[t._v("品名")]),t._v(" "),r("td",{staticClass:"pinming",staticStyle:{"font-size":"18px"},attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[a].productName))])])])])])}),0),t._v(" "),r("div",{staticClass:"printBth"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.largePrintPdf}},[t._v("打印")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"title",attrs:{colspan:"4"}},[this._v("\n              东莞市广正模具塑胶有限公司\n            ")])])}]};var m=r("VU/8")(c,d,!1,function(t){r("HTEt")},"data-v-b3758c90",null);e.default=m.exports},LcXa:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("invL"),i=r("KaBC"),n=r("msSa"),s=r("6QT3"),o=r("yOfV"),l={name:"auxiliaryLabelPrinting",data:function(){return{PrintType:"",barcode:{barcodeType:"replenish"}}},methods:{PrintTypePros:function(t){this.PrintType=t},changeBarcode:function(t){this.barcode.barcodeType=t}},components:{LabelPrinting:a.default,LargeSizePrint:n.default,auxiliaryMiddlePrint:i.default,normalAuxillary:s.default,replenishAuxiliary:o.default}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"warp"},[r("div",{staticClass:"barcode_warp"},[r("el-form",{attrs:{model:t.barcode,"label-width":"80px",size:"mini"}},[r("el-form-item",{attrs:{label:"条码类型"}},[r("el-select",{attrs:{placeholder:"请选择标签类型"},on:{change:t.changeBarcode},model:{value:t.barcode.barcodeType,callback:function(e){t.$set(t.barcode,"barcodeType",e)},expression:"barcode.barcodeType"}},[r("el-option",{attrs:{label:"正常",value:"normal"}}),t._v(" "),r("el-option",{attrs:{label:"补货",value:"replenish"}})],1)],1)],1),t._v(" "),"normal"==t.barcode.barcodeType?r("normalAuxillary",{on:{PrintType:t.PrintTypePros}}):r("replenishAuxiliary",{on:{PrintType:t.PrintTypePros}})],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"label"==t.PrintType,expression:'PrintType=="label"'}]},[r("LargeSizePrint")],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"middle"==t.PrintType,expression:'PrintType=="middle"'}]},[r("auxiliaryMiddlePrint")],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"accessories"==t.PrintType,expression:'PrintType=="accessories"'}]},[r("LabelPrinting")],1)])},staticRenderFns:[]};var c=r("VU/8")(l,u,!1,function(t){r("m+11")},"data-v-7701078d",null);e.default=c.exports},MsoX:function(t,e){},Vzqz:function(t,e){},invL:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Dd8w"),i=r.n(a),n=r("T452"),s=r("pxwZ"),o=r("lStc"),l=r("uUlv"),u=r("4HuK"),c={name:"barPrint",data:function(){return{printMargin:"printMargin",remarkFalse:!1,remarkTrue:!0}},filters:{filterDate:function(t){if(t)return o.a.renderTime(t).slice(0,10)}},computed:i()({},Object(l.c)(["barCodeList","companyName"]),{pages:function(){if(this.barCodeList.length>0){var t=this.barCodeList.length;return t<=0?1:t}}}),watch:{pages:function(){setTimeout(function(){o.a.Font_Max("specification",26),o.a.Font_Max("pinming",14)},500)}},methods:{labelprintPdf:function(){var t=this,e={uuid:this.barCodeList[0].biUuid};s.a.post(n.a.api,"/barcode/updateBarcodeStatus.do",e).then(function(e){if(0==e.status){var r=t;r.remarkTrue=!1,r.remarkFalse=!0,setTimeout(function(){LODOP=Object(u.a)();var t="<head><link href='../../../../static/styles/labelPringting11.css' type='text/css' rel='stylesheet'></head><body>"+document.getElementById("labelPrinting").innerHTML+"</body>";LODOP.ADD_PRINT_HTM("2.5mm","2.5mm","RightMargin:5cm","1150",t),LODOP.SET_PRINT_MODE("PRINT_PAGE_PERCENT","Auto-Width"),LODOP.SET_PRINT_MODE("RESELECT_PAGESIZE",!0),LODOP.PREVIEW()},500)}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages>0"}],staticClass:"yulan_warp"},[r("div",{attrs:{id:"labelPrinting"}},t._l(t.pages,function(e,a){return r("div",{key:a,class:[a%2==0?"":["a","margintow"]]},[r("div",{class:[a%2==0?"":["a","margintow"]]},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[t._m(0,!0),t._v(" "),r("tr",[r("td",{staticStyle:{height:"42px"}},[t._v("供应商")]),t._v(" "),r("td",{attrs:{colspan:"4"}},[t._v(t._s(t.companyName))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("订单号")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].purchaseOrder))]),t._v(" "),r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("保质期")]),t._v(" "),r("td",[t._v(t._s(t._f("filterDate")(t.barCodeList[a].qgPeriod)))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("料号")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].productNumber))]),t._v(" "),r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("批次")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].batchNumber))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("规格")]),t._v(" "),r("td",{staticClass:"specification",staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[a].specification))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"25px"}},[t._v("数量/单位")]),t._v(" "),r("td",{staticStyle:{height:"25px"},attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[a].count)+" / "+t._s(t.barCodeList[a].unit))]),t._v(" "),r("td",{attrs:{rowspan:"3"}},[r("img",{staticStyle:{width:"147px",height:"147px"},attrs:{src:t.barCodeList[a].filePath}})])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"30px"}},[t._v("生产日期")]),t._v(" "),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("filterDate")(t.barCodeList[a].manufactureDate)))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"30px"}},[t._v("品名")]),t._v(" "),r("td",{staticClass:"pinming",staticStyle:{"font-size":"18px"},attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[a].productName))])])])])])}),0),t._v(" "),r("div",{staticClass:"printBth"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.labelprintPdf}},[t._v("打印")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"title",attrs:{colspan:"4"}},[this._v("\n              东莞市广正模具塑胶有限公司\n            ")])])}]};var m=r("VU/8")(c,d,!1,function(t){r("GBgi")},"data-v-c3348f56",null);e.default=m.exports},"m+11":function(t,e){},msSa:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Dd8w"),i=r.n(a),n=r("T452"),s=r("pxwZ"),o=r("lStc"),l=r("uUlv"),u=r("4HuK"),c={name:"barPrint",data:function(){return{printMargin:"printMargin",remarkFalse:!1,remarkTrue:!0}},filters:{filterDate:function(t){if(t)return o.a.renderTime(t).slice(0,10)}},computed:i()({},Object(l.c)(["barCodeList","companyName"]),{pages:function(){if(this.barCodeList.length>0){var t=this.barCodeList.length;return t<=0?1:t}}}),watch:{pages:function(){setTimeout(function(){o.a.Font_Max("specification",26),o.a.Font_Max("pinming",14)},500)}},methods:{largePrintPdf:function(){var t=this,e={uuid:this.barCodeList[0].biUuid};s.a.post(n.a.api,"/barcode/updateBarcodeStatus.do",e).then(function(e){if(0==e.status){var r=t;r.remarkTrue=!1,r.remarkFalse=!0,setTimeout(function(){LODOP=Object(u.a)();var t="<head><link href='../../../../static/styles/LargeSizePrint.css' type='text/css' rel='stylesheet'></head><body>"+document.getElementById("largePrinting").innerHTML+"</body>";LODOP.ADD_PRINT_HTM("2.5mm","3mm","RightMargin:5cm","1100",t),LODOP.SET_PRINT_MODE("PRINT_PAGE_PERCENT","Auto-Width"),LODOP.SET_PRINT_MODE("RESELECT_PAGESIZE",!0),LODOP.PREVIEW()},500)}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages>0"}],staticClass:"yulan_warp"},[r("div",{attrs:{id:"largePrinting"}},t._l(t.pages,function(e,a){return r("div",{key:a,staticClass:"a"},[r("div",{staticClass:"tab_company_out"},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[t._m(0,!0),t._v(" "),r("tr",[r("td",{staticStyle:{height:"42px"}},[t._v("供应商")]),t._v(" "),r("td",{attrs:{colspan:"4"}},[t._v(t._s(t.companyName))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("订单号")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].purchaseOrder))]),t._v(" "),r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("保质期")]),t._v(" "),r("td",[t._v(t._s(t._f("filterDate")(t.barCodeList[a].qgPeriod)))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("料号")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].productNumber))]),t._v(" "),r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("批次")]),t._v(" "),r("td",[t._v(t._s(t.barCodeList[a].batchNumber))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"90px",height:"44px"}},[t._v("规格")]),t._v(" "),r("td",{staticClass:"specification",staticStyle:{"text-align":"left"},attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[a].specification))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"25px"}},[t._v("数量/单位")]),t._v(" "),r("td",{staticStyle:{height:"25px"},attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[a].count)+" / "+t._s(t.barCodeList[a].unit))]),t._v(" "),r("td",{attrs:{rowspan:"3"}},[r("img",{staticStyle:{width:"147px",height:"147px"},attrs:{src:t.barCodeList[a].filePath}})])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"30px"}},[t._v("生产日期")]),t._v(" "),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("filterDate")(t.barCodeList[a].manufactureDate)))])]),t._v(" "),r("tr",[r("td",{staticStyle:{width:"120px",height:"30px"}},[t._v("品名")]),t._v(" "),r("td",{staticClass:"pinming",staticStyle:{"font-size":"18px"},attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[a].productName))])])])])])}),0),t._v(" "),r("div",{staticClass:"printBth"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.largePrintPdf}},[t._v("打印")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"title",attrs:{colspan:"4"}},[this._v("\n              东莞市广正模具塑胶有限公司\n            ")])])}]};var m=r("VU/8")(c,d,!1,function(t){r("+FXd")},"data-v-98aa30e0",null);e.default=m.exports},yOfV:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Dd8w"),i=r.n(a),n=r("T452"),s=r("pxwZ"),o=r("/ksa"),l=r("lStc"),u=r("uUlv"),c=new(r("7blw").a),d={name:"replenishAuxiliary",data:function(){var t=this;return{form:{rmNumber:"",printableQuantity:"",mpAmount:"",qgPeriod:"",dProductUuid:"",materialCodingName:"",materialCoding:"",quantity:"",deliveryCount:"",mpCount:"",issuanceDate:l.a.getToday("-"),manufactureDate:l.a.getToday("-")},restaurants:[],materielList:[],rules:{rmNumber:[{required:!0,message:"请输入补货单号",trigger:["blur","change"]}],deliveryCount:[{validator:function(e,r,a){return""===r?a(new Error("送货数不能为空")):/^[0-9]*[1-9][0-9]*$/.test(r)?Number(t.form.deliveryCount)>Number(t.form.printableQuantity)?a(new Error("送货数不能大于可打印数")):void a():a(new Error("只能输入整数"))},required:!0,trigger:"blur"}],mpAmount:[{validator:o.e,required:!0,trigger:"blur"}],issuanceDate:[{required:!0,message:"请选择日期",trigger:["change"]}],materialCodingName:[{required:!0,message:"内容不能为空",trigger:["blur","change"]}],qgPeriod:[{required:!0,message:"请选择日期",trigger:["change"]}],manufactureDate:[{required:!0,message:"请选择日期",trigger:["change"]}]},selcetRmNumber:"",erpno:""}},mounted:function(){this.getDeliveryNote(),this.changeBarCodeList([])},methods:i()({},Object(u.b)(["changeBarCodeList"]),{querySearch:function(t,e){var r=this.restaurants;e(t?r.filter(this.createFilter(t)):r)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},materielSearch:function(t,e){var r=this.materielList;e(t?r.filter(this.materielFilter(t)):r)},materielFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},getDeliveryNote:function(){var t=this;s.a.post(n.a.api,"/replenishment/getReplenishmentList.do",{uuid:"",search:"",startDate:"",endDate:"",pageNum:1,pageSize:1e3}).then(function(e){if(0==e.status){var r=[];e.data.map(function(t){r.push({value:t.rmNumber,uuid:t.uuid,erpno:t.erpno})}),t.restaurants=r}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},handleSelect:function(t){var e=this;this.selcetRmNumber=t.value;var r={rmNumber:t.value,uuid:t.uuid};this.erpno=t.erpno,this.form.materialCodingName="",s.a.post(n.a.api,"/replenishment/getReplenishmentInfo.do",r).then(function(t){if(0==t.status){var r=[];t.data.rmProductList.map(function(t){r.push({value:t.productName,dproductUuid:t.uuid,quantity:t.quantity})}),e.materielList=r}else e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})},materielSelect:function(t){this.form.dproductUuid=t.dproductUuid,this.form.quantity=t.quantity,this.getPrintableCount()},getPrintableCount:function(){var t=this;c.open();var e={opid:this.form.dproductUuid,deliveryNumber:this.selcetRmNumber,quantity:this.form.quantity};s.a.post(n.a.api,"/barcode/getMaxPrintableCount.do",e).then(function(e){0==e.status?(t.form.printableQuantity=e.data,c.close()):t.$alert(e.msg,{confirmButtonText:"确定",center:!0,callback:function(t){c.close()}})})},mpAmountBlur:function(){this.form.mpCount="Infinity"==Math.ceil(this.form.deliveryCount/this.form.mpAmount)?0:Math.ceil(this.form.deliveryCount/this.form.mpAmount)},generatingBarcode:function(t){var e=this;this.PrintType="label"==t?"label":"middle"==t?"middle":"accessories",this.$emit("PrintType",this.PrintType),this.$refs.form.validate(function(t){if(t){c.open();var r={deliveryNumber:e.form.rmNumber,printableQuantity:e.form.printableQuantity,mpAmount:e.form.mpAmount,qgPeriod:e.form.qgPeriod,dproductUuid:e.form.dproductUuid,materialCoding:e.form.materialCoding,deliveryCount:e.form.deliveryCount,mpCount:e.form.mpCount,issuanceDate:e.form.issuanceDate,erpno:e.erpno,manufactureDate:e.form.manufactureDate};s.a.post(n.a.api,"/barcode/addAuxiliaryLabel.do",r).then(function(t){0==t.status?(e.getBarcodeList(t.data),c.close()):e.$alert(t.msg,{confirmButtonText:"确定",center:!0,callback:function(t){c.close()}})})}})},getBarcodeList:function(t){var e=this,r={uuid:t,type:1};s.a.post(n.a.api,"/barcode/getAuxiliaryDetailList.do",r).then(function(t){0==t.status?(e.changeBarCodeList(t.data),e.$refs.form.resetFields(),e.form.mpCount=""):e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})}})},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"register"},[r("div",{staticClass:"register_center"},[r("el-form",{ref:"form",staticClass:"register_center_center",attrs:{"label-width":"150px",model:t.form,rules:t.rules,size:"mini"}},[r("div",{staticClass:"register_center_left"},[r("el-form-item",{attrs:{label:"补货单号",prop:"rmNumber"}},[r("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":t.querySearch,placeholder:"请输入送货单号"},on:{select:t.handleSelect},model:{value:t.form.rmNumber,callback:function(e){t.$set(t.form,"rmNumber",e)},expression:"form.rmNumber"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"可打印数量"}},[r("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"打印数量",readonly:""},model:{value:t.form.printableQuantity,callback:function(e){t.$set(t.form,"printableQuantity",e)},expression:"form.printableQuantity"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"最小包装量",prop:"mpAmount"}},[r("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入最小包装数",disabled:""==t.form.deliveryCount},on:{blur:t.mpAmountBlur},model:{value:t.form.mpAmount,callback:function(e){t.$set(t.form,"mpAmount",e)},expression:"form.mpAmount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"保质期",prop:"qgPeriod"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.form.qgPeriod,callback:function(e){t.$set(t.form,"qgPeriod",e)},expression:"form.qgPeriod"}})],1)],1),t._v(" "),r("div",{staticClass:"register_center_right"},[r("el-form-item",{attrs:{label:"物料编码",prop:"materialCodingName"}},[r("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":t.materielSearch,placeholder:"请输入物料编码"},on:{select:t.materielSelect},model:{value:t.form.materialCodingName,callback:function(e){t.$set(t.form,"materialCodingName",e)},expression:"form.materialCodingName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"送货数",prop:"deliveryCount"}},[r("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入送货数",disabled:""==t.form.printableQuantity},on:{blur:t.mpAmountBlur},model:{value:t.form.deliveryCount,callback:function(e){t.$set(t.form,"deliveryCount",e)},expression:"form.deliveryCount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"最小包装数"}},[r("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"最小包装数",readonly:""},model:{value:t.form.mpCount,callback:function(e){t.$set(t.form,"mpCount",e)},expression:"form.mpCount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"送货日期",prop:"issuanceDate"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"送货日期"},model:{value:t.form.issuanceDate,callback:function(e){t.$set(t.form,"issuanceDate",e)},expression:"form.issuanceDate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"生产日期",prop:"manufactureDate"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"生产日期"},model:{value:t.form.manufactureDate,callback:function(e){t.$set(t.form,"manufactureDate",e)},expression:"form.manufactureDate"}})],1)],1)]),t._v(" "),r("div",{staticClass:"register_bth_warp"},[r("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("label")}}},[t._v("生成条形码(100*70)")]),t._v(" "),r("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("middle")}}},[t._v("生成条形码(100*60)")]),t._v(" "),r("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("accessories")}}},[t._v("生成条形码(70*45)")])],1)],1)])},staticRenderFns:[]};var p=r("VU/8")(d,m,!1,function(t){r("MsoX")},"data-v-3734417e",null);e.default=p.exports}});
//# sourceMappingURL=9.b18c4614c4efae7402f0.js.map