{"version":3,"sources":["webpack:///src/commponent/InquiryChoice/InquiryChoice.vue","webpack:///./src/commponent/InquiryChoice/InquiryChoice.vue?3477","webpack:///./src/commponent/InquiryChoice/InquiryChoice.vue"],"names":["InquiryChoice","name","data","screen_data","tenderId","fuzzySearch","form","pageIndex","pageSize","totalNum","mounted","this","handleCurrentChange","filters","filterWhetherbid","val","methods","extends_default","Object","vuex_esm","type","_this","params","approval","axios","post","config","api","then","res","status","length","WinningBid","scope","_this2","uuid","row","whetherbid","$alert","msg","confirmButtonText","center","callback","action","enterDetails","changePagePresentState","changeUuid","$router","push","downloadFiles","pagePresentation","getFile","noNeedLogionApi","response","link","document","createElement","href","window","URL","createObjectURL","Blob","target","download","body","appendChild","click","removeChild","InquiryChoice_InquiryChoice","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","inline","size","label","placeholder","value","$$v","$set","expression","_v","on","$event","staticStyle","width","border","element-loading-background","height","align","prop","show-overflow-tooltip","min-width","scopedSlots","_u","key","fn","_s","projectName","background","page-size","layout","total","current-page","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/61.3769a0b2b1f8ecd130e5.js","sourcesContent":["<template>\n  <div>\n    <!--搜索-->\n    <div class='inquiry_warp'>\n      <el-form ref=\"screen_data\" :model=\"screen_data\" label-width=\"80px\" :inline=\"true\" size='mini'>\n        <el-form-item label=\"报价标号\">\n          <el-input v-model=\"screen_data.tenderId\" placeholder=\"请输入询报价标号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"模糊搜索\">\n          <el-input v-model=\"screen_data.fuzzySearch\" placeholder=\"模糊搜索\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class='Fuzzy' @click='handleCurrentChange(\"screen\")'>搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--表单-->\n    <el-table :data=\"form\" style=\"width: 100%\"\n              border\n              element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n              height='415'\n              size='mini'\n    >\n      <el-table-column\n        align=\"center\"\n        prop=\"tenderId\"\n        label=\"报价编号\"\n        show-overflow-tooltip\n        min-width=\"130\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"vendorname\"\n        label=\"供应商\"\n        min-width='180'>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"项目名称\"\n        min-width='220'>\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.projectName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"tenderingType\"\n        label=\"询报价类别\"\n        align='center'\n        width=\"100\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"轮次\"\n        prop='temderNumber'\n        width='60'>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"unitprice\"\n        label=\"单价\"\n        width='100'>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"操作\"\n        width=\"92\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" @click='enterDetails(scope)'>\n            详情\n          </el-button>\n          <el-button type=\"text\" size=\"mini\" @click='downloadFiles(scope)'>\n            下载\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页-->\n    <div class='page_fen'>\n      <el-pagination\n        background\n        :page-size=\"pageSize\"\n        layout=\"prev, pager, next\"\n        :total=\"totalNum\"\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"pageIndex\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  // 引入公共配置\n  import {config} from 'api/config.js';\n  //引入接口文件请求文件\n  import axios from 'api/axios.js'\n  // Vuex语法糖\n  import {mapMutations} from 'Vuex'\n\n  export default {\n    name: 'InquiryChoice',\n    data() {\n      return {\n        // 选择\n        screen_data: {\n          // 标号\n          tenderId: '',\n          // 模糊搜索\n          fuzzySearch: ''\n        },\n        // 表格\n        form: [],\n        // 当前页码\n        pageIndex: 1,\n        // 请求页数\n        pageSize: 12,\n        // 总条数\n        totalNum: 0\n      }\n    },\n    mounted() {\n      // 获取列表\n      this.handleCurrentChange()\n    },\n    filters: {\n      // 状态\n      filterWhetherbid: function (val) {\n        if (val == 0) {\n          return '未选择'\n        } else if (val == 1) {\n          return '中标'\n        } else if (val == 2) {\n          return '未中标'\n        }\n      }\n    },\n    methods: {\n      ...mapMutations(['changeUuid','changePagePresentState']),\n      // 获取列表\n      handleCurrentChange(type) {\n        // 如果是快捷搜索\n        if (type == 'screen') {\n          this.pageIndex = 1\n        }\n        const params = {\n          approval: this.screen_data.approval,\n          tenderId: this.screen_data.tenderId,\n          fuzzySearch: this.screen_data.fuzzySearch,\n          pageIndex: this.pageIndex,\n          pageSize: this.pageSize\n        }\n        axios.post(config.api, '/replymanagement/listBySupplier.do', params).then((res) => {\n          console.log(res)\n          if (res.status == 0) {\n            this.form = res.data\n\n            if(res.data.length>0){\n              this.totalNum = res.data[0].totalNum\n            }\n          }\n        })\n      },\n      // 中标\n      WinningBid(scope, type) {\n        const params = {\n          uuid: scope.row.uuid,\n          whetherbid: type\n        }\n        axios.post(config.api, '/replymanagement/updateByWhetherbid.do', params).then((res) => {\n          console.log(res)\n          if (res.status == 0) {\n            // 错误提示\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true,\n              callback: action => {\n                // 重新获取数据\n                this.handleCurrentChange()\n              }\n            });\n          }\n        })\n      },\n      // 进入详情\n      enterDetails(scope) {\n        // 改变查看详情类型状态\n        this.changePagePresentState('Choice')\n        this.changeUuid(scope.row.uuid)\n        this.$router.push('selectView')\n      },\n      // 下载文件\n      downloadFiles(scope){\n        const params={\n          pagePresentation:\"Details\",\n          uuid:scope.row.uuid\n        }\n        axios.getFile(config.noNeedLogionApi, 'skip/exportData.do', params).then((response) => {\n          let link = document.createElement(\"a\");\n          link.href = window.URL.createObjectURL(new Blob([response]));\n          link.target = \"_blank\";\n          link.download = '报价单.xls';\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        })\n      }\n    }\n  }\n</script>\n\n<style lang='stylus' scoped>\n  .inquiry_warp\n    width: 100%;\n    height: 40px;\n    background: #ddd;\n    padding-top: 10px;\n    margin-bottom: 10px;\n\n\n  /*分页*/\n  .page_fen {\n    width: 100%;\n    height: 50px;\n    background: #ddd;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 20px;\n    padding: 0px 20px;\n    box-sizing: border-box;\n  }\n\n  .Fuzzy {\n    width: 65px;\n    margin: 0px 10px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/InquiryChoice/InquiryChoice.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"inquiry_warp\"},[_c('el-form',{ref:\"screen_data\",attrs:{\"model\":_vm.screen_data,\"label-width\":\"80px\",\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"报价标号\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入询报价标号\"},model:{value:(_vm.screen_data.tenderId),callback:function ($$v) {_vm.$set(_vm.screen_data, \"tenderId\", $$v)},expression:\"screen_data.tenderId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模糊搜索\"}},[_c('el-input',{attrs:{\"placeholder\":\"模糊搜索\"},model:{value:(_vm.screen_data.fuzzySearch),callback:function ($$v) {_vm.$set(_vm.screen_data, \"fuzzySearch\", $$v)},expression:\"screen_data.fuzzySearch\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"Fuzzy\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleCurrentChange(\"screen\")}}},[_vm._v(\"搜索\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.form,\"border\":\"\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"height\":\"415\",\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"tenderId\",\"label\":\"报价编号\",\"show-overflow-tooltip\":\"\",\"min-width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"vendorname\",\"label\":\"供应商\",\"min-width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"项目名称\",\"min-width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.projectName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tenderingType\",\"label\":\"询报价类别\",\"align\":\"center\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"轮次\",\"prop\":\"temderNumber\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"unitprice\",\"label\":\"单价\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"92\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.enterDetails(scope)}}},[_vm._v(\"\\n          详情\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.downloadFiles(scope)}}},[_vm._v(\"\\n          下载\\n        \")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"page_fen\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next\",\"total\":_vm.totalNum,\"current-page\":_vm.pageIndex},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.pageIndex=$event},\"update:current-page\":function($event){_vm.pageIndex=$event}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6bb0d9dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/InquiryChoice/InquiryChoice.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6bb0d9dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InquiryChoice.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InquiryChoice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InquiryChoice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bb0d9dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./InquiryChoice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6bb0d9dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/InquiryChoice/InquiryChoice.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}