webpackJsonp([23],{Cf0L:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),o=a.n(n),l=a("T452"),i=a("pxwZ"),r=a("uUlv"),s={name:"Inquiry",data:function(){return{headerToken:{Authorization:localStorage.getItem("token")},screen_data:{companyType:"",isNeedExamination:"",conditionContent:""},tableData:[],totalNum:1,currentPage:1,ShowPage:15,AuditorShow:!1,form:{isAuditor:""},AuditorDataShow:!1,AuditorData:{auditorOpinion:"",dataUpload:"",type:"",isNeedExamination:""}}},filters:{formatState:function(t){return 0==t?"待审核":1==t?"现场审核中":2==t?"审厂通过":3==t?"审厂不通过":4==t?"初步审核通过":5==t?"初步审核不通过":6==t?"终审通过":7==t?"终审不通过":void 0},formatType:function(t){return 0==t?"国有企业":1==t?"集体企业":2==t?"私营企业":3==t?"个体工商户":4==t?"合作企业":5==t?"联营企业":6==t?"股份合作制企业":7==t?"有限责任公司":8==t?"股份有限公司":void 0},formatAuditor:function(t){return 0==t?"否":1==t?"是":void 0}},mounted:function(){this.changePage()},computed:o()({},Object(r.c)(["supplierUUid","userRole"])),methods:o()({},Object(r.b)(["changeUuid"]),{haldEditor:function(t){this.changeUuid(t.row.uuid),this.$router.push("manufacturer")},changePage:function(t){var e=this;"screen"==t&&(this.currentPage=1);var a={uuid:this.supplierUUid,companyType:this.screen_data.companyType,isNeedExamination:this.screen_data.isNeedExamination,conditionContent:this.screen_data.conditionContent,pageSize:this.ShowPage,pageNum:this.currentPage};i.a.post(l.a.api,"/supplier/getSupplierList.do",a).then(function(t){0==t.status?(e.tableData=t.data,t.data.length>0&&(e.totalNum=t.data[0].totalNum)):e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})},downloadfile:function(t){window.open(t.row.certificateList[0].filePath)}})},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"inquiry_warp"},[a("el-form",{ref:"screen_data",attrs:{model:t.screen_data,"label-width":"80px",inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"企业类型"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:t.screen_data.companyType,callback:function(e){t.$set(t.screen_data,"companyType",e)},expression:"screen_data.companyType"}},[a("el-option",{attrs:{label:"请选择",value:" "}}),t._v(" "),a("el-option",{attrs:{label:"生产商",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"代理商",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"承运商",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"服务类",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"其他",value:"4"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"现场审厂"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:t.screen_data.isNeedExamination,callback:function(e){t.$set(t.screen_data,"isNeedExamination",e)},expression:"screen_data.isNeedExamination"}},[a("el-option",{attrs:{label:"请选择",value:" "}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"模糊搜索"}},[a("el-input",{attrs:{placeholder:"模糊搜索"},model:{value:t.screen_data.conditionContent,callback:function(e){t.$set(t.screen_data,"conditionContent",e)},expression:"screen_data.conditionContent"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"Fuzzy",attrs:{type:"primary"},on:{click:function(e){return t.changePage("screen")}}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","element-loading-background":"rgba(0, 0, 0, 0.8)",height:"415",size:"mini"}},[a("el-table-column",{attrs:{align:"center",prop:"companyName",label:"公司名称","show-overflow-tooltip":"",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"企业性质",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("formatType")(e.row.companyNature)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"contractList[0].name","show-overflow-tooltip":"",label:"联系人","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"contractList[0].post",label:"职位",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"contractList[0].phone",label:"电话",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"是否审厂",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("formatAuditor")(e.row.isNeedExamination)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:[{pass:2==e.row.status||4==e.row.status||6==e.row.status},{fail:3==e.row.status||5==e.row.status||7==e.row.status}]},[t._v(t._s(t._f("formatState")(e.row.status)))])]}}])}),t._v(" "),"ROLE_ADMIN"==t.userRole?a("el-table-column",{attrs:{align:"center",label:"审厂资料",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.certificateList[0],expression:"scope.row.certificateList[0]"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.downloadfile(e)}}},[t._v("下载")])]}}],null,!1,3210535160)}):t._e(),t._v(" "),"ROLE_ADMIN"==t.userRole?a("el-table-column",{attrs:{align:"center",prop:"auditOpinion",label:"审厂意见","show-overflow-tooltip":"",width:"200"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注","show-overflow-tooltip":"",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.haldEditor(e)}}},[t._v("\n          编辑\n        ")])]}}])})],1),t._v(" "),a("div",{staticClass:"page_fen"},[a("el-pagination",{attrs:{background:"","page-size":t.ShowPage,layout:"prev, pager, next",total:t.totalNum,"current-page":t.currentPage},on:{"current-change":t.changePage,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(t){a("bSR/")},"data-v-f791baa6",null);e.default=u.exports},"bSR/":function(t,e){}});
//# sourceMappingURL=23.df4ae37007124dddd3e4.js.map