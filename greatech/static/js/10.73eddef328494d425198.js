webpackJsonp([10,29,73,82,86,114],{"3YCN":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),s=a("T452"),o=a("pxwZ"),n=a("lStc"),l=a("uUlv"),d=a("4HuK"),u={name:"MiddlePrint",data:function(){return{printMargin:"printMargin",beizhu:"",remarkFalse:!1,remarkTrue:!0}},filters:{filterDate:function(t){if(t)return n.a.renderTime(t).slice(0,10)}},computed:i()({},Object(l.c)(["barCodeList","companyName"]),{pages:function(){if(setTimeout(function(){n.a.Font_Max("guige",20),n.a.Font_Max("pinming",24)},700),this.barCodeList.length>0){var t=this.barCodeList.length;return t<=0?1:t}}}),methods:{printPdf:function(){var t=this,e={uuid:this.barCodeList[0].biUuid};o.a.post(s.a.api,"/barcode/updateBarcodeStatus.do",e).then(function(e){if(0==e.status){var a=t;a.remarkTrue=!1,a.remarkFalse=!0,setTimeout(function(){LODOP=Object(d.a)();var t="<head><link href='../../../../static/styles/MiddlePrint.css' type='text/css' rel='stylesheet'></head><body>"+document.getElementById("middlePrinting").innerHTML+"</body>";LODOP.ADD_PRINT_HTM("5mm","8mm","RightMargin:5cm","1200",t),LODOP.SET_PRINT_MODE("PRINT_PAGE_PERCENT","Auto-Width"),LODOP.SET_PRINT_MODE("RESELECT_PAGESIZE",!0),LODOP.PREVIEW()},500)}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages>0"}],staticClass:"yulan_warp"},[a("div",{attrs:{id:"middlePrinting"}},t._l(t.barCodeList,function(e,r){return a("div",{key:r,staticClass:"a",class:t.printMargin},[a("div",{staticClass:"tab_company_out"},[a("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[a("tr",[t._m(0,!0),t._v(" "),a("td",{staticClass:"imgWarp"},[a("img",{staticClass:"img_code",attrs:{src:t.barCodeList[r].filePath}})])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("二维码")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[r].barcodeNumber))]),t._v(" "),a("td",{attrs:{colspan:"2"}},["0"==t.barCodeList[r].type?a("span",[t._v("外箱码")]):a("span",[t._v("内箱码")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==t.barCodeList[r].isTailbox,expression:'barCodeList[index].isTailbox=="1"'}]},[t._v(" / 尾箱")])])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("供应商")]),t._v(" "),a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].supplierName))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("品名")]),t._v(" "),a("td",{staticClass:"pinming",attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].productName))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("规格")]),t._v(" "),a("td",{staticClass:"guige",attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].specification))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("料号")]),t._v(" "),a("td",{staticClass:"liaohao"},[t._v(t._s(t.barCodeList[r].productNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("订单")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].purchaseOrder))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("数量/单位")]),t._v(" "),a("td",{staticClass:"shuliangdanwei"},[t._v(t._s(t.barCodeList[r].count)+" / "+t._s(t.barCodeList[r].unit))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("日期")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("filterDate")(t.barCodeList[r].issuanceDate)))])]),t._v(" "),"1"==t.barCodeList[r].type?a("tr",[a("td",{staticClass:"td_width"},[t._v("所属外箱")]),t._v(" "),a("td",[t._v(t._s(t.barCodeList[r].belongBNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("批号")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].batchNumber))])]):a("tr",[a("td",{staticClass:"td_width"},[t._v("内箱数")]),t._v(" "),a("td",[t._v(t._s(t.barCodeList[r].cboxNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("批号")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].batchNumber))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("备注")]),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:t.remarkTrue,expression:"remarkTrue"}],attrs:{colspan:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.barCodeList[r].remark,expression:"barCodeList[index].remark"}],staticStyle:{width:"100%",height:"100%",outline:"none",border:"none"},attrs:{type:"text",name:"remark"},domProps:{value:t.barCodeList[r].remark},on:{input:function(e){e.target.composing||t.$set(t.barCodeList[r],"remark",e.target.value)}}})]),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:t.remarkFalse,expression:"remarkFalse"}],attrs:{colspan:"4"}},[a("span",[t._v(t._s(t.barCodeList[r].remark))])])])])])])}),0),t._v(" "),a("div",{staticClass:"printBth"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.printPdf}},[t._v("打印")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"800px",height:"100px"},attrs:{colspan:"3"}},[e("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[e("img",{staticStyle:{width:"60px",height:"60px",position:"absolute",left:"23px",top:"30px"},attrs:{src:a("/kaw")}}),this._v(" "),e("div",{staticStyle:{"margin-left":"20px","font-size":"25px",position:"absolute",left:"76px",top:"30px"}},[e("div",[this._v("东莞市广正模具塑胶有限公司")]),this._v(" "),e("div",[this._v("Greatech Moulding CO.,Ltd")])])])])}]};var m=a("VU/8")(u,c,!1,function(t){a("bhzJ")},"data-v-494b301a",null);e.default=m.exports},"4U+G":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("P0oM"),i=a("Isfl"),s=a("Al+b"),o=a("3YCN"),n=a("hwq3"),l={name:"register",data:function(){return{PrintType:"",barcode:{barcodeType:"normal"}}},methods:{PrintTypePros:function(t){this.PrintType=t},changeBarcode:function(t){this.barcode.barcodeType=t}},components:{barPrint:s.default,smallBarPrint:n.default,MiddlePrint:o.default,normal:r.default,replenish:i.default}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warp"},[a("div",{staticClass:"barcode_warp"},[a("el-form",{attrs:{model:t.barcode,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"条码类型"}},[a("el-select",{attrs:{placeholder:"请选择标签类型"},on:{change:t.changeBarcode},model:{value:t.barcode.barcodeType,callback:function(e){t.$set(t.barcode,"barcodeType",e)},expression:"barcode.barcodeType"}},[a("el-option",{attrs:{label:"正常",value:"normal"}}),t._v(" "),a("el-option",{attrs:{label:"补货",value:"replenish"}})],1)],1)],1),t._v(" "),"normal"==t.barcode.barcodeType?a("normal",{on:{PrintType:t.PrintTypePros}}):a("replenish",{on:{PrintType:t.PrintTypePros}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"label"==t.PrintType,expression:'PrintType=="label"'}]},[a("barPrint")],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"middle"==t.PrintType,expression:'PrintType=="middle"'}]},[a("MiddlePrint")],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"accessories"==t.PrintType,expression:'PrintType=="accessories"'}]},[a("smallBarPrint")],1)])},staticRenderFns:[]};var u=a("VU/8")(l,d,!1,function(t){a("nNSI")},"data-v-2f5b8dc5",null);e.default=u.exports},"5Xyy":function(t,e){},"Al+b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),s=a("T452"),o=a("pxwZ"),n=a("lStc"),l=a("uUlv"),d=a("4HuK"),u={name:"barPrint",data:function(){return{printMargin:"printMargin",beizhu:"1312",remarkFalse:!1,remarkTrue:!0}},filters:{filterDate:function(t){if(t)return n.a.renderTime(t).slice(0,10)}},computed:i()({},Object(l.c)(["barCodeList","companyName"]),{pages:function(){if(setTimeout(function(){n.a.Font_Max("guige",20),n.a.Font_Max("pinming",24)},700),this.barCodeList.length>0){var t=this.barCodeList.length;return t<=0?1:t}}}),methods:{printPdf:function(){var t=this,e={uuid:this.barCodeList[0].biUuid};o.a.post(s.a.api,"/barcode/updateBarcodeStatus.do",e).then(function(e){if(0==e.status){var a=t;a.remarkTrue=!1,a.remarkFalse=!0,setTimeout(function(){LODOP=Object(d.a)();var t="<head><link href='../../../../static/styles/uu.css' type='text/css' rel='stylesheet'></head><body>"+document.getElementById("Printing").innerHTML+"</body>";LODOP.ADD_PRINT_HTM("5mm","8mm","RightMargin:5cm","1100",t),LODOP.SET_PRINT_MODE("PRINT_PAGE_PERCENT","Auto-Width"),LODOP.SET_PRINT_MODE("RESELECT_PAGESIZE",!0),LODOP.PREVIEW()},500)}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages>0"}],staticClass:"yulan_warp"},[a("div",{attrs:{id:"Printing"}},t._l(t.barCodeList,function(e,r){return a("div",{key:r,staticClass:"a",class:t.printMargin},[a("div",{staticClass:"tab_company_out"},[a("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[a("tr",[t._m(0,!0),t._v(" "),a("td",{staticClass:"imgWarp"},[a("img",{staticClass:"img_code",attrs:{src:t.barCodeList[r].filePath}})])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("二维码")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[r].barcodeNumber))]),t._v(" "),a("td",{attrs:{colspan:"2"}},["0"==t.barCodeList[r].type?a("span",[t._v("外箱码")]):a("span",[t._v("内箱码")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==t.barCodeList[r].isTailbox,expression:'barCodeList[index].isTailbox=="1"'}]},[t._v(" / 尾箱")])])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("供应商")]),t._v(" "),a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].supplierName))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("品名")]),t._v(" "),a("td",{staticClass:"pinming",attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].productName))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("规格")]),t._v(" "),a("td",{staticClass:"guige",attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].specification))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("料号")]),t._v(" "),a("td",{staticClass:"liaohao"},[t._v(t._s(t.barCodeList[r].productNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("订单")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].purchaseOrder))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("数量/单位")]),t._v(" "),a("td",{staticClass:"shuliangdanwei"},[t._v(t._s(t.barCodeList[r].count)+" / "+t._s(t.barCodeList[r].unit))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("日期")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("filterDate")(t.barCodeList[r].issuanceDate)))])]),t._v(" "),"1"==t.barCodeList[r].type?a("tr",[a("td",{staticClass:"td_width"},[t._v("所属外箱")]),t._v(" "),a("td",[t._v(t._s(t.barCodeList[r].belongBNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("批号")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].batchNumber))])]):a("tr",[a("td",{staticClass:"td_width"},[t._v("内箱数")]),t._v(" "),a("td",[t._v(t._s(t.barCodeList[r].cboxNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("批号")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].batchNumber))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("备注")]),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:t.remarkTrue,expression:"remarkTrue"}],attrs:{colspan:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.barCodeList[r].remark,expression:"barCodeList[index].remark"}],staticStyle:{width:"100%",height:"100%",outline:"none",border:"none"},attrs:{type:"text",name:"remark"},domProps:{value:t.barCodeList[r].remark},on:{input:function(e){e.target.composing||t.$set(t.barCodeList[r],"remark",e.target.value)}}})]),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:t.remarkFalse,expression:"remarkFalse"}],attrs:{colspan:"4"}},[a("span",[t._v(t._s(t.barCodeList[r].remark))])])])])])])}),0),t._v(" "),a("div",{staticClass:"printBth"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.printPdf}},[t._v("打印")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"800px",height:"100px"},attrs:{colspan:"3"}},[e("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[e("img",{staticStyle:{width:"60px",height:"60px",position:"absolute",left:"23px",top:"30px"},attrs:{src:a("/kaw")}}),this._v(" "),e("div",{staticStyle:{"margin-left":"20px","font-size":"25px",position:"absolute",left:"76px",top:"30px"}},[e("div",[this._v("东莞市广正模具塑胶有限公司")]),this._v(" "),e("div",[this._v("Greatech Moulding CO.,Ltd")])])])])}]};var m=a("VU/8")(u,c,!1,function(t){a("CXWp")},"data-v-0eb8c48e",null);e.default=m.exports},B4Vl:function(t,e){},CXWp:function(t,e){},Cd9F:function(t,e){},Isfl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),s=a("T452"),o=a("pxwZ"),n=a("/ksa"),l=a("lStc"),d=a("uUlv"),u=new(a("7blw").a),c={name:"replenish",data:function(){var t=this;return{form:{rmNumber:"",printableQuantity:"",mpAmount:"",mpioQuantity:"",remark:"",dProductUuid:"",materialCodingName:"",materialCoding:"",quantity:"",deliveryCount:"",mpCount:"",opCount:"",issuanceDate:l.a.getToday("-"),qgPeriod:"",manufactureDate:l.a.getToday("-")},restaurants:[],materielList:[],PrintType:"",rules:{rmNumber:[{required:!0,message:"请输入补货单号",trigger:["blur","change"]}],printableQuantity:[{validator:n.e,required:!0,trigger:"blur"}],deliveryCount:[{validator:function(e,a,r){return""===a?r(new Error("送货数不能为空")):/^[0-9]*[1-9][0-9]*$/.test(a)?Number(t.form.deliveryCount)>Number(t.form.printableQuantity)?r(new Error("送货数不能大于可打印数")):void r():r(new Error("只能输入整数"))},required:!0,trigger:"blur"}],mpAmount:[{validator:n.e,required:!0,trigger:"blur"}],mpioQuantity:[{validator:n.e,required:!0,trigger:"blur"}],issuanceDate:[{required:!0,message:"请选择日期",trigger:["change","blur"]}],materialCodingName:[{required:!0,message:"内容不能为空",trigger:["blur","change"]}],manufactureDate:[{required:!0,message:"请选择日期",trigger:["change","blur"]}],qgPeriod:[{required:!0,message:"请选择日期",trigger:["change","blur"]}]},selcetRmNumber:"",erpno:""}},mounted:function(){this.getDeliveryNote(),this.changeBarCodeList([])},methods:i()({},Object(d.b)(["changeBarCodeList"]),{querySearch:function(t,e){var a=this.restaurants;e(t?a.filter(this.createFilter(t)):a)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},materielSearch:function(t,e){var a=this.materielList;e(t?a.filter(this.materielFilter(t)):a)},materielFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},getDeliveryNote:function(){var t=this;o.a.post(s.a.api,"/replenishment/getReplenishmentList.do",{uuid:"",search:"",startDate:"",endDate:"",pageNum:1,pageSize:1e3}).then(function(e){if(0==e.status){var a=[];e.data.map(function(t){a.push({value:t.rmNumber,uuid:t.uuid,erpno:t.erpno})}),t.restaurants=a}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},handleSelect:function(t){var e=this;this.selcetRmNumber=t.value;var a={rmNumber:t.value,uuid:t.uuid};this.erpno=t.erpno,this.form.materialCodingName="",o.a.post(s.a.api,"/replenishment/getReplenishmentInfo.do",a).then(function(t){if(0==t.status){var a=[];t.data.rmProductList.map(function(t){a.push({value:t.productName,dproductUuid:t.uuid,quantity:t.quantity})}),e.materielList=a}else e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})},materielSelect:function(t){this.form.dproductUuid=t.dproductUuid,this.form.quantity=t.quantity,this.getPrintableCount()},getPrintableCount:function(){var t=this;u.open();var e={opid:this.form.dproductUuid,deliveryNumber:this.selcetRmNumber,quantity:this.form.quantity};o.a.post(s.a.api,"/barcode/getMaxPrintableCount.do",e).then(function(e){0==e.status?(t.form.printableQuantity=e.data,u.close()):t.$alert(e.msg,{confirmButtonText:"确定",center:!0,callback:function(t){u.close()}})})},mpAmountBlur:function(){this.form.mpCount="Infinity"==Math.ceil(this.form.deliveryCount/this.form.mpAmount)?0:Math.ceil(this.form.deliveryCount/this.form.mpAmount),""!=this.form.mpioQuantity&&this.opCountBlur()},opCountBlur:function(){this.form.opCount="Infinity"==Math.ceil(this.form.mpCount/this.form.mpioQuantity)?0:Math.ceil(this.form.mpCount/this.form.mpioQuantity)},generatingBarcode:function(t){var e=this;this.PrintType="label"==t?"label":"middle"==t?"middle":"accessories",this.$emit("PrintType",this.PrintType),this.$refs.form.validate(function(t){if(t){u.open();var a={deliveryNumber:e.form.rmNumber,printableQuantity:e.form.printableQuantity,mpAmount:e.form.mpAmount,mpioQuantity:e.form.mpioQuantity,remark:e.form.remark,dproductUuid:e.form.dproductUuid,materialCoding:e.form.materialCoding,deliveryCount:e.form.deliveryCount,mpCount:e.form.mpCount,opCount:e.form.opCount,issuanceDate:e.form.issuanceDate,erpno:e.erpno,qgPeriod:e.form.qgPeriod,manufactureDate:e.form.manufactureDate};o.a.post(s.a.api,"/barcode/addBarcodeInformation.do",a).then(function(t){0==t.status?(e.getBarcodeList(t.data),u.close()):e.$alert(t.msg,{confirmButtonText:"确定",center:!0,callback:function(t){u.close()}})})}})},getBarcodeList:function(t){var e=this,a={uuid:t,type:1};o.a.post(s.a.api,"/barcode/getBarcodeDetailList.do",a).then(function(t){0==t.status?(e.changeBarCodeList(t.data),e.$refs.form.resetFields(),e.form.remark="",e.form.mpCount=""):e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})}})},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("div",{staticClass:"register_center"},[a("el-form",{ref:"form",staticClass:"register_center_center",attrs:{"label-width":"150px",model:t.form,rules:t.rules,size:"mini"}},[a("div",{staticClass:"register_center_left"},[a("el-form-item",{attrs:{label:"补货单号",prop:"rmNumber"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":t.querySearch,placeholder:"请输入送货单号"},on:{select:t.handleSelect},model:{value:t.form.rmNumber,callback:function(e){t.$set(t.form,"rmNumber",e)},expression:"form.rmNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可打印数量",prop:"printableQuantity"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"打印数量",readonly:""},model:{value:t.form.printableQuantity,callback:function(e){t.$set(t.form,"printableQuantity",e)},expression:"form.printableQuantity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最小包装量",prop:"mpAmount"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入最小包装数",disabled:""==t.form.deliveryCount},on:{blur:t.mpAmountBlur},model:{value:t.form.mpAmount,callback:function(e){t.$set(t.form,"mpAmount",e)},expression:"form.mpAmount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"外箱含最小包装量",prop:"mpioQuantity"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入外箱含最小包装数",disabled:""==t.form.deliveryCount},on:{blur:t.opCountBlur},model:{value:t.form.mpioQuantity,callback:function(e){t.$set(t.form,"mpioQuantity",e)},expression:"form.mpioQuantity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"保质期",prop:"qgPeriod"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.form.qgPeriod,callback:function(e){t.$set(t.form,"qgPeriod",e)},expression:"form.qgPeriod"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"register_center_right"},[a("el-form-item",{attrs:{label:"物料编码",prop:"materialCodingName"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":t.materielSearch,placeholder:"请输入物料编码"},on:{select:t.materielSelect},model:{value:t.form.materialCodingName,callback:function(e){t.$set(t.form,"materialCodingName",e)},expression:"form.materialCodingName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"送货数",prop:"deliveryCount"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入送货数",disabled:""==t.form.printableQuantity},on:{blur:t.mpAmountBlur},model:{value:t.form.deliveryCount,callback:function(e){t.$set(t.form,"deliveryCount",e)},expression:"form.deliveryCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最小包装数"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"最小包装数",readonly:""},model:{value:t.form.mpCount,callback:function(e){t.$set(t.form,"mpCount",e)},expression:"form.mpCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"外箱包装数",prop:"opCount"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"外箱包装数",readonly:""},model:{value:t.form.opCount,callback:function(e){t.$set(t.form,"opCount",e)},expression:"form.opCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"送货日期",prop:"issuanceDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.form.issuanceDate,callback:function(e){t.$set(t.form,"issuanceDate",e)},expression:"form.issuanceDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"生产日期",prop:"manufactureDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"生产日期"},model:{value:t.form.manufactureDate,callback:function(e){t.$set(t.form,"manufactureDate",e)},expression:"form.manufactureDate"}})],1)],1)]),t._v(" "),a("div",{staticClass:"register_bth_warp"},[a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("label")}}},[t._v("生成条形码(100*70)")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("middle")}}},[t._v("生成条形码（100*60）")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("accessories")}}},[t._v("生成条形码（70*45）")])],1)],1)])},staticRenderFns:[]};var p=a("VU/8")(c,m,!1,function(t){a("5Xyy")},"data-v-557485c6",null);e.default=p.exports},P0oM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),s=a("T452"),o=a("pxwZ"),n=a("/ksa"),l=a("lStc"),d=a("uUlv"),u=new(a("7blw").a),c={name:"normal",data:function(){var t=this;return{form:{deliveryNumber:"",printableQuantity:"",mpAmount:"",mpioQuantity:"",remark:"",dProductUuid:"",materialCodingName:"",materialCoding:"",quantity:"",deliveryCount:"",mpCount:"",opCount:"",issuanceDate:l.a.getToday("-"),qgPeriod:"",manufactureDate:l.a.getToday("-")},restaurants:[],materielList:[],PrintType:"",rules:{deliveryNumber:[{required:!0,message:"请输入送货单号",trigger:["blur","change"]}],deliveryCount:[{validator:function(e,a,r){return""===a?r(new Error("送货数不能为空")):/^[0-9]*[1-9][0-9]*$/.test(a)?Number(t.form.deliveryCount)>Number(t.form.printableQuantity)?r(new Error("送货数不能大于可打印数")):void r():r(new Error("只能输入整数"))},required:!0,trigger:"blur"}],mpAmount:[{validator:n.e,required:!0,trigger:"blur"}],mpioQuantity:[{validator:n.e,required:!0,trigger:"blur"}],issuanceDate:[{required:!0,message:"请选择日期",trigger:["change","blur"]}],materialCodingName:[{required:!0,message:"内容不能为空",trigger:["blur","change"]}],manufactureDate:[{required:!0,message:"请选择日期",trigger:["change","blur"]}],qgPeriod:[{required:!0,message:"请选择日期",trigger:["change","blur"]}]},selcetDeliveryNumber:"",erpno:""}},mounted:function(){this.getDeliveryNote(),this.changeBarCodeList([])},methods:i()({},Object(d.b)(["changeBarCodeList"]),{querySearch:function(t,e){var a=this.restaurants;e(t?a.filter(this.createFilter(t)):a)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},materielSearch:function(t,e){var a=this.materielList;e(t?a.filter(this.materielFilter(t)):a)},materielFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},getDeliveryNote:function(){var t=this;o.a.post(s.a.api,"/delivery/getDeliveryList.do",{uuid:"",search:"",startDate:"",endDate:"",pageNum:1,pageSize:1e3}).then(function(e){if(0==e.status){var a=[];e.data.map(function(t){a.push({value:t.deliveryNumber,uuid:t.uuid,erpno:t.erpno})}),t.restaurants=a}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},handleSelect:function(t){var e=this;this.selcetDeliveryNumber=t.value;var a={deliveryNumber:t.value,uuid:t.uuid};this.erpno=t.erpno,this.form.materialCodingName="",o.a.post(s.a.api,"/barcode/getDeliveryInfo.do",a).then(function(t){if(0==t.status){var a=[];t.data.deliveryProductList.map(function(t){a.push({value:t.productName,dproductUuid:t.uuid,quantity:t.quantity,bpCount:t.bpCount})}),e.materielList=a}else e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})},materielSelect:function(t){var e=this;this.form.dproductUuid=t.dproductUuid,this.materielList.map(function(a){a.dproductUuid==t.dproductUuid&&(e.form.printableQuantity=t.quantity)})},mpAmountBlur:function(){this.form.mpCount="Infinity"==Math.ceil(this.form.deliveryCount/this.form.mpAmount)?0:Math.ceil(this.form.deliveryCount/this.form.mpAmount),""!=this.form.mpioQuantity&&this.opCountBlur()},opCountBlur:function(){this.form.opCount="Infinity"==Math.ceil(this.form.mpCount/this.form.mpioQuantity)?0:Math.ceil(this.form.mpCount/this.form.mpioQuantity)},generatingBarcode:function(t){var e=this;this.PrintType="label"==t?"label":"middle"==t?"middle":"accessories",this.$emit("PrintType",this.PrintType),this.$refs.form.validate(function(t){if(t){u.open();var a={deliveryNumber:e.form.deliveryNumber,printableQuantity:e.form.printableQuantity,mpAmount:e.form.mpAmount,mpioQuantity:e.form.mpioQuantity,remark:e.form.remark,dproductUuid:e.form.dproductUuid,materialCoding:e.form.materialCoding,deliveryCount:e.form.deliveryCount,mpCount:e.form.mpCount,opCount:e.form.opCount,issuanceDate:e.form.issuanceDate,erpno:e.erpno,qgPeriod:e.form.qgPeriod,manufactureDate:e.form.manufactureDate};o.a.post(s.a.api,"/barcode/addBarcodeInformation.do",a).then(function(t){0==t.status?(e.getBarcodeList(t.data),u.close()):e.$alert(t.msg,{confirmButtonText:"确定",center:!0,callback:function(t){u.close()}})})}})},getBarcodeList:function(t){var e=this,a={uuid:t,type:0};o.a.post(s.a.api,"/barcode/getBarcodeDetailList.do",a).then(function(t){0==t.status?(e.changeBarCodeList(t.data),e.$refs.form.resetFields(),e.form.remark="",e.form.mpCount="",e.form.zhengCount="",e.form.beiCount="",e.form.printableQuantity=""):e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})}})},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("div",{staticClass:"register_center"},[a("el-form",{ref:"form",staticClass:"register_center_center",attrs:{"label-width":"150px",model:t.form,rules:t.rules,size:"mini"}},[a("div",{staticClass:"register_center_left"},[a("el-form-item",{attrs:{label:"送货单号",prop:"deliveryNumber"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":t.querySearch,placeholder:"请输入送货单号"},on:{select:t.handleSelect},model:{value:t.form.deliveryNumber,callback:function(e){t.$set(t.form,"deliveryNumber",e)},expression:"form.deliveryNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可打印数量"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"打印数量",readonly:""},model:{value:t.form.printableQuantity,callback:function(e){t.$set(t.form,"printableQuantity",e)},expression:"form.printableQuantity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最小包装量",prop:"mpAmount"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入最小包装数",disabled:""==t.form.deliveryCount},on:{blur:t.mpAmountBlur},model:{value:t.form.mpAmount,callback:function(e){t.$set(t.form,"mpAmount",e)},expression:"form.mpAmount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"外箱含最小包装量",prop:"mpioQuantity"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入外箱含最小包装数",disabled:""==t.form.deliveryCount},on:{blur:t.opCountBlur},model:{value:t.form.mpioQuantity,callback:function(e){t.$set(t.form,"mpioQuantity",e)},expression:"form.mpioQuantity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"保质期",prop:"qgPeriod"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.form.qgPeriod,callback:function(e){t.$set(t.form,"qgPeriod",e)},expression:"form.qgPeriod"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"register_center_right"},[a("el-form-item",{attrs:{label:"物料编码",prop:"materialCodingName"}},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"small","fetch-suggestions":t.materielSearch,placeholder:"请输入物料编码"},on:{select:t.materielSelect},model:{value:t.form.materialCodingName,callback:function(e){t.$set(t.form,"materialCodingName",e)},expression:"form.materialCodingName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"送货数",prop:"deliveryCount"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"请输入送货数",disabled:""==t.form.printableQuantity},on:{blur:t.mpAmountBlur},model:{value:t.form.deliveryCount,callback:function(e){t.$set(t.form,"deliveryCount",e)},expression:"form.deliveryCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最小包装数"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"最小包装数",readonly:""},model:{value:t.form.mpCount,callback:function(e){t.$set(t.form,"mpCount",e)},expression:"form.mpCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"外箱包装数",prop:"opCount"}},[a("el-input",{staticClass:"register_input",attrs:{size:"small",placeholder:"外箱包装数",readonly:""},model:{value:t.form.opCount,callback:function(e){t.$set(t.form,"opCount",e)},expression:"form.opCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"送货日期",prop:"issuanceDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.form.issuanceDate,callback:function(e){t.$set(t.form,"issuanceDate",e)},expression:"form.issuanceDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"生产日期",prop:"manufactureDate"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"生产日期"},model:{value:t.form.manufactureDate,callback:function(e){t.$set(t.form,"manufactureDate",e)},expression:"form.manufactureDate"}})],1)],1)]),t._v(" "),a("div",{staticClass:"register_bth_warp"},[a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("label")}}},[t._v("生成条形码(100*70)")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("middle")}}},[t._v("生成条形码（100*60）")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.generatingBarcode("accessories")}}},[t._v("生成条形码（70*45）")])],1)],1)])},staticRenderFns:[]};var p=a("VU/8")(c,m,!1,function(t){a("B4Vl")},"data-v-391563ee",null);e.default=p.exports},bhzJ:function(t,e){},hwq3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),s=a("T452"),o=a("pxwZ"),n=a("lStc"),l=a("uUlv"),d=a("4HuK"),u={name:"barPrint",data:function(){return{beizhu:"1312",remarkFalse:!1,remarkTrue:!0}},filters:{filterDate:function(t){if(t)return n.a.renderTime(t).slice(0,10)}},computed:i()({},Object(l.c)(["barCodeList","companyName"]),{pages:function(){if(setTimeout(function(){n.a.Font_Max("guige",20),n.a.Font_Max("pinming",24)},700),this.barCodeList.length>0){var t=this.barCodeList.length;return t<=0?1:t}}}),methods:{smallprintPdf:function(){var t=this,e={uuid:this.barCodeList[0].biUuid};o.a.post(s.a.api,"/barcode/updateBarcodeStatus.do",e).then(function(e){if(0==e.status){var a=t;a.remarkTrue=!1,a.remarkFalse=!0,setTimeout(function(){LODOP=Object(d.a)();var t="<head><link href='../../../../static/styles/smallBarPrint6.css' type='text/css' rel='stylesheet'></head><body>"+document.getElementById("samllPrinting").innerHTML+"</body>";LODOP.ADD_PRINT_HTM("1mm","6mm","RightMargin:5cm","1100",t),LODOP.SET_PRINT_MODE("PRINT_PAGE_PERCENT","Auto-Width"),LODOP.SET_PRINT_MODE("RESELECT_PAGESIZE",!0),LODOP.PREVIEW()},500)}else t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.pages>0,expression:"pages>0"}],staticClass:"yulan_warp"},[a("div",{attrs:{id:"samllPrinting"}},t._l(t.pages,function(e,r){return a("div",{key:r,class:[r%2==0?"":["a","margintow"]]},[a("div",{class:[r%2==0?"":["a","tab_company_out"]]},[a("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[a("tr",[t._m(0,!0),t._v(" "),a("td",{staticClass:"imgWarp"},[a("img",{staticClass:"img_code",attrs:{src:t.barCodeList[r].filePath}})])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("二维码")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.barCodeList[r].barcodeNumber))]),t._v(" "),a("td",{attrs:{colspan:"2"}},["0"==t.barCodeList[r].type?a("span",[t._v("外箱码")]):a("span",[t._v("内箱码")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==t.barCodeList[r].isTailbox,expression:'barCodeList[index].isTailbox=="1"'}]},[t._v(" / 尾箱")])])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("供应商")]),t._v(" "),a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].supplierName))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("品名")]),t._v(" "),a("td",{staticClass:"pinming",attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].productName))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("规格")]),t._v(" "),a("td",{staticClass:"guige",attrs:{colspan:"4"}},[t._v(t._s(t.barCodeList[r].specification))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("料号")]),t._v(" "),a("td",{staticClass:"liaohao"},[t._v(t._s(t.barCodeList[r].productNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("订单")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].purchaseOrder))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("数量/单位")]),t._v(" "),a("td",{staticClass:"shuliangdanwei"},[t._v(t._s(t.barCodeList[r].count)+" / "+t._s(t.barCodeList[r].unit))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("日期")]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("filterDate")(t.barCodeList[r].issuanceDate)))])]),t._v(" "),"1"==t.barCodeList[r].type?a("tr",[a("td",{staticClass:"td_width"},[t._v("所属外箱")]),t._v(" "),a("td",[t._v(t._s(t.barCodeList[r].belongBNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("批号")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].batchNumber))])]):a("tr",[a("td",{staticClass:"td_width"},[t._v("内箱数")]),t._v(" "),a("td",[t._v(t._s(t.barCodeList[r].cboxNumber))]),t._v(" "),a("td",{staticClass:"td_width"},[t._v("批号")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.barCodeList[r].batchNumber))])]),t._v(" "),a("tr",[a("td",{staticClass:"td_width"},[t._v("备注")]),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:t.remarkTrue,expression:"remarkTrue"}],attrs:{colspan:"4"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.barCodeList[r].remark,expression:"barCodeList[index].remark"}],staticStyle:{width:"100%",height:"100%",outline:"none",border:"none"},attrs:{type:"text",name:"remark"},domProps:{value:t.barCodeList[r].remark},on:{input:function(e){e.target.composing||t.$set(t.barCodeList[r],"remark",e.target.value)}}})]),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:t.remarkFalse,expression:"remarkFalse"}],attrs:{colspan:"4"}},[a("span",[t._v(t._s(t.barCodeList[r].remark))])])])])])])}),0),t._v(" "),a("div",{staticClass:"printBth"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.smallprintPdf}},[t._v("打印")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"800px",height:"100px"},attrs:{colspan:"3"}},[e("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[e("img",{staticStyle:{width:"60px",height:"60px",position:"absolute",left:"23px",top:"30px"},attrs:{src:a("/kaw")}}),this._v(" "),e("div",{staticStyle:{"margin-left":"20px","font-size":"25px",position:"absolute",left:"76px",top:"30px"}},[e("div",[this._v("东莞市广正模具塑胶有限公司")]),this._v(" "),e("div",[this._v("Greatech Moulding CO.,Ltd")])])])])}]};var m=a("VU/8")(u,c,!1,function(t){a("Cd9F")},"data-v-dd85d638",null);e.default=m.exports},nNSI:function(t,e){}});
//# sourceMappingURL=10.73eddef328494d425198.js.map