{"version":3,"sources":["webpack:///src/commponent/administrator/commponent/UserList.vue","webpack:///./src/commponent/administrator/commponent/UserList.vue?58e6","webpack:///./src/commponent/administrator/commponent/UserList.vue","webpack:///src/commponent/administrator/administrator.vue","webpack:///./src/commponent/administrator/administrator.vue?b0f4","webpack:///./src/commponent/administrator/administrator.vue"],"names":["UserList","name","data","total","currentPage","ShowPage","searchfrom","username","phone","liaisonType","filters","formatState","val","computed","extends_default","Object","vuex_esm","mounted","this","gettableData","getroleList","methods","addUsers","$refs","dialog","hlandDialogs","changeUser","scope","changeDialog","hanldaccessShow","changehlderUserData","hlandEditDialogs","editUserdialog","uuid","_this2","axios","post","config","api","englishName","then","res","ChangeroleList","searchfor","_this3","params","roleuuid","role","loadMack","length","changeloadData","handleCurrentChange","changetableData","_this4","loadData","i","remainder","size","Math","ceil","_i","resetPassword","_this5","status","$alert","confirmButtonText","center","msg","forbiddenUser","_this6","_this","callback","action","components","editUser","UserAdd","commponent_UserList","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","inline","label","staticStyle","width","value","$$v","$set","expression","_v","placeholder","_l","item","key","type","on","click","directives","rawName","modifiers","fullscreen","lock","tableData","border","max-height","element-loading-text","element-loading-spinner","element-loading-background","align","prop","min-width","scopedSlots","_u","fn","class","forbidden","row","_s","_f","$event","userRole","_e","background","page-size","layout","current-page","current-change","update:currentPage","update:current-page","getUserList","upUserList","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","administrator","administrator_administrator"],"mappings":"sPAqIAA,GACAC,KAAA,WACAC,KAFA,WAGA,OAEAC,MAAA,EAEAC,YAAA,EAEAC,SAAA,GAEAC,YAEAC,SAAA,GAEAN,KAAA,GAEAO,MAAA,GAEAC,YAAA,MAIAC,SAEAC,YAAA,SAAAC,GACA,WAAAA,EAAA,aAGAC,SAAAC,OAEAC,OAAAC,EAAA,EAAAD,EAAA,uDAEAE,QAjCA,WAmCAC,KAAAC,eAEAD,KAAAE,eAEAC,QAAAP,OACAC,OAAAC,EAAA,EAAAD,EAAA,wFAEAO,SAHA,WAIAJ,KAAAK,MAAAC,OAAAC,gBAGAC,WAPA,SAOAC,GACAT,KAAAK,MAAAK,aAAAC,kBAEAX,KAAAY,oBAAAH,IAGAI,iBAbA,SAaAJ,GACAT,KAAAK,MAAAS,eAAAD,iBAAAJ,EAAAM,OAGAb,YAjBA,WAiBA,IAAAc,EAAAhB,KAIMiB,EAAA,EAANC,KAAAC,EAAA,EAAAC,IAAA,wBAFAC,YAAA,KAEAC,KAAA,SAAAC,GACAP,EAAAQ,eAAAD,EAAAvC,SAIAyC,UA1BA,WA0BA,IAAAC,EAAA1B,KACA2B,GACAtC,SAAAW,KAAAZ,WAAAC,SACAN,KAAAiB,KAAAZ,WAAAL,KACAO,MAAAU,KAAAZ,WAAAE,MACAsC,SAAA5B,KAAAZ,WAAAyC,MAGAZ,EAAA,EAAAC,KAAAC,EAAA,EAAAC,IAAA,oBAAAO,GAAAL,KAAA,SAAAC,GAEAG,EAAAI,UAAA,GAEA,IAAAP,EAAAvC,KAAA+C,QAEAL,EAAAM,eAAAT,EAAAvC,MAEA0C,EAAAO,uBAGAP,EAAAQ,gBAAA,SAKAjC,aAlDA,WAkDA,IAAAkC,EAAAnC,KAEAA,KAAAkC,gBAAA,MAEAlC,KAAA8B,UAAA,GAOMb,EAAA,EAANC,KAAAC,EAAA,EAAAC,IAAA,qBAJA/B,SAAA,GACAN,KAAA,GACAO,MAAA,KAEAgC,KAAA,SAAAC,GAEAY,EAAAL,UAAA,GAEA,IAAAP,EAAAvC,KAAA+C,QAEAI,EAAAH,eAAAT,EAAAvC,MAEAmD,EAAAF,uBAGAE,EAAAD,gBAAA,SAKAD,oBA7EA,WAmFA,GAJAjC,KAAAkC,gBAAA,MAEAlC,KAAAf,MAAAe,KAAAoC,SAAAL,OAEA/B,KAAAf,MAAAe,KAAAb,UAAA,EACA,QAAAkD,GAAArC,KAAAd,YAAA,GAAAc,KAAAb,SAAAkD,EAAArC,KAAAd,YAAAc,KAAAb,SAAAkD,IACArC,KAAAkC,gBAAAlC,KAAAoC,SAAAC,QAEA,CAEA,IAAAC,EAAAtC,KAAAf,MAAAe,KAAAb,SAEAoD,EAAAvC,KAAAd,YAAAc,KAAAb,SAEAa,KAAAd,cAAAsD,KAAAC,KAAAzC,KAAAf,MAAAe,KAAAb,YACAoD,GAAAvC,KAAAd,YAAA,GAAAc,KAAAb,SAAAmD,GAGA,QAAAI,GAAA1C,KAAAd,YAAA,GAAAc,KAAAb,SAAAuD,EAAAH,EAAAG,IACA1C,KAAAkC,gBAAAlC,KAAAoC,SAAAM,MAKAC,cAvGA,SAuGA3D,GAAA,IAAA4D,EAAA5C,KACA2B,GACAZ,KAAA/B,EAAA+B,MAGAE,EAAA,EAAAC,KAAAC,EAAA,EAAAC,IAAA,yBAAAO,GAAAL,KAAA,SAAAC,GAEA,GAAAA,EAAAsB,OACAD,EAAAE,OAAA,UACAC,kBAAA,KACAC,QAAA,IAGAJ,EAAAE,OAAAvB,EAAA0B,KACAF,kBAAA,KACAC,QAAA,OAOAE,cA7HA,SA6HAlE,GAAA,IAAAmE,EAAAnD,KACA,MAAAhB,EAAA6D,OAAA,CAOA,IAAAlB,GACAZ,KAAA/B,EAAA+B,KACA8B,OAAA7D,EAAA6D,QAGA5B,EAAA,EAAAC,KAAAC,EAAA,EAAAC,IAAA,yBAAAO,GAAAL,KAAA,SAAAC,GAEA,MAAAA,EAAAsB,OAAA,CACA,IAAAO,EAAAD,EACAA,EAAAL,OAAA,QACAC,kBAAA,KACAC,QAAA,EACAK,SAAA,SAAAC,GAEAF,EAAAnD,uBAIAkD,EAAAL,OAAAvB,EAAA0B,KACAF,kBAAA,KACAC,QAAA,WA1BAhD,KAAA8C,OAAA,WACAC,kBAAA,KACAC,QAAA,OA8BAO,YACAC,WAAA,QACAC,UAAA,QACAjD,aAAA,UC3UekD,GADEC,OAFjB,WAA0B,IAAAC,EAAA5D,KAAa6D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,iBAA2BF,EAAA,WAAgBG,IAAA,aAAAC,OAAwBC,MAAAR,EAAAxE,WAAAiF,cAAA,OAAA9B,KAAA,OAAA+B,QAAA,KAAyEP,EAAA,gBAAqBI,OAAOI,MAAA,MAAAF,cAAA,UAAoCN,EAAA,YAAiBS,aAAaC,MAAA,SAAgBL,OAAQM,MAAAd,EAAAxE,WAAA,SAAAiE,SAAA,SAAAsB,GAAyDf,EAAAgB,KAAAhB,EAAAxE,WAAA,WAAAuF,IAA0CE,WAAA,0BAAmC,GAAAjB,EAAAkB,GAAA,KAAAf,EAAA,gBAAqCI,OAAOI,MAAA,SAAeR,EAAA,YAAiBS,aAAaC,MAAA,SAAgBL,OAAQM,MAAAd,EAAAxE,WAAA,KAAAiE,SAAA,SAAAsB,GAAqDf,EAAAgB,KAAAhB,EAAAxE,WAAA,OAAAuF,IAAsCE,WAAA,sBAA+B,GAAAjB,EAAAkB,GAAA,KAAAf,EAAA,gBAAqCI,OAAOI,MAAA,UAAgBR,EAAA,YAAiBS,aAAaC,MAAA,SAAgBL,OAAQM,MAAAd,EAAAxE,WAAA,MAAAiE,SAAA,SAAAsB,GAAsDf,EAAAgB,KAAAhB,EAAAxE,WAAA,QAAAuF,IAAuCE,WAAA,uBAAgC,GAAAjB,EAAAkB,GAAA,KAAAf,EAAA,gBAAqCI,OAAOI,MAAA,QAAcR,EAAA,aAAkBS,aAAaC,MAAA,SAAgBN,OAAQY,YAAA,SAAsBX,OAAQM,MAAAd,EAAAxE,WAAA,KAAAiE,SAAA,SAAAsB,GAAqDf,EAAAgB,KAAAhB,EAAAxE,WAAA,OAAAuF,IAAsCE,WAAA,qBAA+Bd,EAAA,aAAkBI,OAAOI,MAAA,QAAAG,MAAA,MAA4Bd,EAAAkB,GAAA,KAAAlB,EAAAoB,GAAAhF,KAAA,kBAAAiF,GAAoD,OAAAlB,EAAA,aAAuBmB,IAAAD,EAAAlE,KAAAoD,OAAqBI,MAAAU,EAAAlG,KAAA2F,MAAAO,EAAAlE,WAAuC,OAAA6C,EAAAkB,GAAA,KAAAf,EAAA,gBAAAA,EAAA,aAAyDI,OAAOgB,KAAA,WAAiBC,IAAKC,MAAAzB,EAAAnC,aAAuBmC,EAAAkB,GAAA,QAAAlB,EAAAkB,GAAA,KAAAf,EAAA,aAA6CqB,IAAIC,MAAAzB,EAAAxD,YAAsBwD,EAAAkB,GAAA,sBAAAlB,EAAAkB,GAAA,KAAAf,EAAA,YAA0DuB,aAAavG,KAAA,UAAAwG,QAAA,4BAAAb,MAAA1E,KAAA,KAAA6E,WAAA,YAAAW,WAAuGC,YAAA,EAAAC,MAAA,KAA+BlB,aAAeC,MAAA,QAAeN,OAAQnF,KAAAgB,KAAA2F,UAAAC,OAAA,GAAArD,KAAA,OAAAsD,aAAA,MAAAC,uBAAA,QAAAC,0BAAA,kBAAAC,6BAAA,wBAAiMjC,EAAA,mBAAwBI,OAAO8B,MAAA,SAAAd,KAAA,QAAAV,MAAA,QAA8Cb,EAAAkB,GAAA,KAAAf,EAAA,mBAAoCI,OAAO8B,MAAA,SAAAC,KAAA,WAAA3B,MAAA,MAAA4B,YAAA,SAAoEvC,EAAAkB,GAAA,KAAAf,EAAA,mBAAoCI,OAAO8B,MAAA,SAAAC,KAAA,mBAAA3B,MAAA,MAAA4B,YAAA,SAA4EvC,EAAAkB,GAAA,KAAAf,EAAA,mBAAoCI,OAAO8B,MAAA,SAAAC,KAAA,OAAA3B,MAAA,MAAAE,MAAA,SAA4Db,EAAAkB,GAAA,KAAAf,EAAA,mBAAoCI,OAAO8B,MAAA,SAAAC,KAAA,QAAA3B,MAAA,KAAAE,MAAA,SAA4Db,EAAAkB,GAAA,KAAAf,EAAA,mBAAoCI,OAAO8B,MAAA,SAAA1B,MAAA,KAAAE,MAAA,MAA2C2B,YAAAxC,EAAAyC,KAAsBnB,IAAA,UAAAoB,GAAA,SAAA7F,GAAiC,OAAAsD,EAAA,QAAmBwC,OAAOC,UAAA,GAAA/F,EAAAgG,IAAA5D,UAA+Be,EAAAkB,GAAAlB,EAAA8C,GAAA9C,EAAA+C,GAAA,cAAA/C,CAAAnD,EAAAgG,IAAA5D,mBAAiEe,EAAAkB,GAAA,KAAAf,EAAA,mBAAoCI,OAAO8B,MAAA,SAAAC,KAAA,OAAA3B,MAAA,KAAA4B,YAAA,SAA+DvC,EAAAkB,GAAA,KAAAf,EAAA,mBAAoCI,OAAOI,MAAA,KAAAE,MAAA,MAAAwB,MAAA,UAA4CG,YAAAxC,EAAAyC,KAAsBnB,IAAA,UAAAoB,GAAA,SAAA7F,GAAiC,OAAAsD,EAAA,aAAwBI,OAAOgB,KAAA,OAAA5C,KAAA,QAA4B6C,IAAKC,MAAA,SAAAuB,GAAyB,OAAAhD,EAAA/C,iBAAAJ,EAAAgG,SAAyC7C,EAAAkB,GAAA,QAAAlB,EAAAkB,GAAA,mBAAAlB,EAAAiD,SAAA9C,EAAA,aAA0EI,OAAOgB,KAAA,OAAA5C,KAAA,QAA4B6C,IAAKC,MAAA,SAAAuB,GAAyB,OAAAhD,EAAApD,WAAAC,EAAAgG,SAAmC7C,EAAAkB,GAAA,QAAAlB,EAAAkD,KAAAlD,EAAAkB,GAAA,KAAAf,EAAA,aAAsDI,OAAOgB,KAAA,OAAA5C,KAAA,QAA4B6C,IAAKC,MAAA,SAAAuB,GAAyB,OAAAhD,EAAAjB,cAAAlC,EAAAgG,SAAsC7C,EAAAkB,GAAA,QAAAlB,EAAAkB,GAAA,KAAAf,EAAA,aAA6CI,OAAOgB,KAAA,OAAA5C,KAAA,QAA4B6C,IAAKC,MAAA,SAAAuB,GAAyB,OAAAhD,EAAAV,cAAAzC,EAAAgG,SAAsC7C,EAAAkB,GAAA,gBAAsB,GAAAlB,EAAAkB,GAAA,KAAAf,EAAA,OAA4BE,YAAA,aAAuBF,EAAA,iBAAsBI,OAAO4C,WAAA,GAAAC,YAAApD,EAAAzE,SAAA8H,OAAA,oBAAAhI,MAAA2E,EAAA3E,MAAAiI,eAAAtD,EAAA1E,aAAuHkG,IAAK+B,iBAAAvD,EAAA3B,oBAAAmF,qBAAA,SAAAR,GAA+EhD,EAAA1E,YAAA0H,GAAuBS,sBAAA,SAAAT,GAAwChD,EAAA1E,YAAA0H,OAAyB,GAAAhD,EAAAkB,GAAA,KAAAf,EAAA,YAAiCG,IAAA,iBAAAkB,IAAyBkC,YAAA1D,EAAA3D,gBAAgC2D,EAAAkB,GAAA,KAAAf,EAAA,WAA4BG,IAAA,SAAAkB,IAAiBmC,WAAA3D,EAAA3D,gBAA+B2D,EAAAkB,GAAA,KAAAf,EAAA,cAA+BG,IAAA,kBAAmB,IAEprIsD,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE7I,EACA4E,GATF,EAVA,SAAAkE,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB,gGCfhCK,GACA/I,KAAA,aACAwE,YACAzE,mBAAA,UCXeiJ,GADEpE,OAFjB,WAA0B,IAAaE,EAAb7D,KAAa8D,eAAkD,OAA/D9D,KAAuCgE,MAAAD,IAAAF,GAAwB,aAExE2D,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEG,EACAC,GATF,EAVA,SAAAH,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/13.1d6c65bd664014a40b66.js","sourcesContent":["<template>\n  <div>\n    <!--快捷搜索-->\n    <div class='inquiry_warp'>\n     <el-form ref=\"searchfrom\" :model=\"searchfrom\" label-width=\"auto\" size='mini' :inline='true'>\n      <!--用户名-->\n      <el-form-item label=\"用户名\" label-width='80px'>\n        <el-input v-model='searchfrom.username' style='width: 150px;'></el-input>\n      </el-form-item>\n      <!--联系人-->\n      <el-form-item label=\"联系人\">\n        <el-input v-model='searchfrom.name' style='width: 150px;'></el-input>\n      </el-form-item>\n      <!--联系电话-->\n      <el-form-item label=\"联系电话\">\n        <el-input v-model='searchfrom.phone' style='width: 150px;'></el-input>\n      </el-form-item>\n      <!--角色-->\n      <el-form-item label=\"角色\">\n        <el-select v-model=\"searchfrom.role\" placeholder=\"请选择角色\" style='width: 150px;'>\n          <el-option label=\"请选择角色\" value=\"\"></el-option>\n          <el-option v-for=\"item in this.roleList\"\n                     :key=\"item.uuid\"\n                     :label=\"item.name\"\n                     :value=\"item.uuid\"></el-option>\n        </el-select>\n      </el-form-item>\n      <!--按钮-->\n      <el-form-item>\n        <el-button type=\"primary\" @click='searchfor'>搜索</el-button>\n        <el-button @click='addUsers'>新增用户</el-button>\n      </el-form-item>\n    </el-form>\n    </div>\n    <!--用户列表-->\n    <el-table :data=\"this.tableData\" style=\"width: 100%\"\n              border\n              size='mini'\n              max-height=\"415\"\n              v-loading.fullscreen.lock='this.mark'\n              element-loading-text=\"拼命加载中\"\n              element-loading-spinner=\"el-icon-loading\"\n              element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n    >\n      <el-table-column\n        align=\"center\"\n        type=\"index\"\n        width=\"60\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"username\"\n        label=\"用户名\"\n        min-width=\"100\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"manufacturerName\"\n        label=\"公司名\"\n        min-width=\"130\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"name\"\n        label=\"联系人\"\n        width='120'>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"phone\"\n        label=\"电话\"\n        width='110'>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"状态\"\n        width='90'\n      >\n        <template slot-scope=\"scope\">\n          <span :class='{forbidden:scope.row.status==1}'>{{scope.row.status|formatState}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"role\"\n        label=\"角色\"\n        min-width='130'>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"170\" align='center'>\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" @click='hlandEditDialogs(scope.row)'>编辑</el-button>\n          <el-button type=\"text\" size=\"mini\" @click='changeUser(scope.row)' v-if=\"userRole=='ROLE_ADMIN'\">权限</el-button>\n          <el-button type=\"text\" size=\"mini\" @click='resetPassword(scope.row)'>重置</el-button>\n          <el-button type='text' size=\"mini\" @click='forbiddenUser(scope.row)'>禁用</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页-->\n    <div class='page_fen'>\n      <el-pagination\n        background\n        :page-size=\"ShowPage\"\n        layout=\"prev, pager, next\"\n        :total=\"total\"\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"currentPage\">\n      </el-pagination>\n    </div>\n    <!--编辑用户-->\n    <editUser ref='editUserdialog' @getUserList='gettableData'></editUser>\n    <!--新增用户-->\n    <UserAdd ref='dialog' @upUserList='gettableData'></UserAdd>\n    <!--修改具体用户模块-->\n    <changeUser ref='changeDialog'></changeUser>\n  </div>\n</template>\n\n<script>\n  // 引入公共配置\n  import {config} from 'api/config.js';\n  //引入接口文件请求文件\n  import axios from 'api/axios.js'\n  // Vuex语法糖\n  import {mapState,mapMutations} from 'Vuex'\n  // 引入编辑用户模块\n  import editUser from '@/commponent/administrator/commponent/editUser'\n  // 引入新增用户模块\n  import UserAdd from '@/commponent/administrator/commponent/UserAdd'\n  // 引入修改具体用户模块\n  import changeUser from '@/commponent/administrator/commponent/changeUser'\n\n\n\n  export default {\n    name:'UserList',\n    data(){\n      return{\n        // 总条数\n        total: 1,\n        // 当前页\n        currentPage: 1,\n        // 展示条数\n        ShowPage: 15,\n        // 搜索条件\n        searchfrom: {\n          // 用户名\n          username: '',\n          // 联系人\n          name: '',\n          // 联系电话\n          phone: '',\n          // 角色\n          liaisonType: ''\n        }\n      }\n    },\n    filters: {\n      // 用户状态转换\n      formatState: function (val) {\n        return val === 0 ? '使用中' : '禁用'\n      },\n    },\n    computed: {\n      // 获取 遮罩层加载模块、用户后台数据源、展示用户列表中的值、角色列表\n      ...mapState(['mark','loadData','tableData','roleList','userRole']),\n    },\n    mounted(){\n     // 获取用户列表\n      this.gettableData()\n      // 获取角色列表\n      this.getroleList()\n    },\n    methods:{\n      ...mapMutations(['loadMack','changeloadData','changetableData','ChangeroleList','changehlderUserData']),\n      // 显示新增用户\n      addUsers() {\n        this.$refs.dialog.hlandDialogs()\n      },\n      // 显示修改用户\n      changeUser(scope){\n        this.$refs.changeDialog.hanldaccessShow()\n        // 存储选中修改的用户\n        this.changehlderUserData(scope)\n      },\n      // 显示编辑用户\n      hlandEditDialogs(scope){\n        this.$refs.editUserdialog.hlandEditDialogs(scope.uuid)\n      },\n      // 获取角色列表\n      getroleList() {\n        let params = {\n          englishName: ''\n        }\n        axios.post(config.api, '/role/getRoleList.do', params).then((res) => {\n          this.ChangeroleList(res.data)\n        })\n      },\n      // 快捷搜索\n      searchfor() {\n        const params = {\n          username: this.searchfrom.username,\n          name: this.searchfrom.name,\n          phone: this.searchfrom.phone,\n          roleuuid: this.searchfrom.role\n        }\n        // 开始请求\n        axios.post(config.api, '/user/listUser.do', params).then((res) => {\n          // 关闭加载状态\n          this.loadMack(false)\n          // 如果有数据\n          if (res.data.length !== 0) {\n            // 存储本地数据\n            this.changeloadData(res.data)\n            // 分页按钮\n            this.handleCurrentChange()\n          } else {\n            // 没有数据直接返回空\n            this.changetableData(null)\n          }\n        })\n      },\n      // 用户列表\n      gettableData() {\n        // 清空用户管理列表展示数据\n        this.changetableData(null)\n        // 开启加载状态\n        this.loadMack(true)\n        // 开始请求\n        const params = {\n          username: \"\",\n          name: \"\",\n          phone: \"\"\n        }\n        axios.post(config.api, '/user/listUser.do', params).then((res) => {\n          // 关闭加载状态\n          this.loadMack(false)\n          // 判断是否有数据\n          if (res.data.length !== 0) {\n            // 存储本地数据\n            this.changeloadData(res.data)\n            // 分页按钮\n            this.handleCurrentChange()\n          } else {\n            // 没有数据直接返回空\n            this.changetableData(null)\n          }\n        })\n      },\n      // 分页按钮\n      handleCurrentChange() {\n        // 清空用户管理列表展示数据\n        this.changetableData(null)\n        // 用户列表总条数\n        this.total = this.loadData.length\n        // 如果数据刚好能被需要展示的条数整除\n        if (this.total % this.ShowPage === 0) {\n          for (let i = (this.currentPage - 1) * this.ShowPage; i < this.currentPage * this.ShowPage; i++) {\n            this.changetableData(this.loadData[i])\n          }\n        } else {\n          // 如果不够被需要展示的条数整除，获得余数\n          const remainder = this.total % this.ShowPage\n          // 每次取需要展示的条数\n          var size = this.currentPage * this.ShowPage;\n          // 如果当前页等于总页数\n          if (this.currentPage === Math.ceil(this.total / this.ShowPage)) {\n            size = (this.currentPage - 1) * this.ShowPage + remainder\n          }\n          // 从第几条数据开始\n          for (let i = (this.currentPage - 1) * this.ShowPage; i < size; i++) {\n            this.changetableData(this.loadData[i])\n          }\n        }\n      },\n      // 重置密码\n      resetPassword(data){\n        const params={\n          \"uuid\":data.uuid\n        }\n        // 开始请求\n        axios.post(config.api, '/user/resetPassword.do', params).then((res) => {\n            // 如果修改成功\n            if(res.status==0){\n              this.$alert(\"重置密码成功\",{\n                confirmButtonText:'确定',\n                center:true\n              })\n            }else{\n              this.$alert(res.msg,{\n                confirmButtonText:'确定',\n                center:true\n              })\n            }\n\n        })\n      },\n      // 禁用账号\n      forbiddenUser(data){\n        if(data.status==1){\n          this.$alert('该账户已被禁用',{\n            confirmButtonText:'确定',\n            center:true\n          })\n          return\n        }\n        const params={\n          \"uuid\":data.uuid,\n          \"status\":data.status\n        }\n        // 开始请求\n        axios.post(config.api, '/user/forbiddenUser.do', params).then((res) => {\n          // 如果修改成功\n          if(res.status==0){\n            let _this=this\n            this.$alert('禁用成功',{\n              confirmButtonText:'确定',\n              center:true,\n              callback: action => {\n                // 重新获取数据列表\n                _this.gettableData()\n              }\n            })\n          }else{\n            this.$alert(res.msg,{\n              confirmButtonText:'确定',\n              center:true\n            })\n          }\n        })\n      },\n    },\n    components:{\n      editUser,\n      UserAdd,\n      changeUser\n    }\n  }\n</script>\n\n<style lang='stylus' scoped>\n  .inquiry_warp\n    width: 100%;\n    margin-top: 20px;\n    margin-bottom: 10px;\n\n  .el-table >>> thead\n    color: #1f2d3d;\n\n  .el-table\n    border 1px solid #dddddd;\n    overflow hidden;\n\n  // 分页\n  .page_fen\n    width: 100%;\n    height: 60px;\n    background: #f5f5f5;\n    display flex\n    justify-content center\n    align-items: center\n    margin-top: 20px;\n    padding: 0px 20px;\n    box-sizing border-box;\n\n  .forbidden\n    color: #ff6666\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/administrator/commponent/UserList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"inquiry_warp\"},[_c('el-form',{ref:\"searchfrom\",attrs:{\"model\":_vm.searchfrom,\"label-width\":\"auto\",\"size\":\"mini\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"label-width\":\"80px\"}},[_c('el-input',{staticStyle:{\"width\":\"150px\"},model:{value:(_vm.searchfrom.username),callback:function ($$v) {_vm.$set(_vm.searchfrom, \"username\", $$v)},expression:\"searchfrom.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人\"}},[_c('el-input',{staticStyle:{\"width\":\"150px\"},model:{value:(_vm.searchfrom.name),callback:function ($$v) {_vm.$set(_vm.searchfrom, \"name\", $$v)},expression:\"searchfrom.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系电话\"}},[_c('el-input',{staticStyle:{\"width\":\"150px\"},model:{value:(_vm.searchfrom.phone),callback:function ($$v) {_vm.$set(_vm.searchfrom, \"phone\", $$v)},expression:\"searchfrom.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色\"}},[_c('el-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择角色\"},model:{value:(_vm.searchfrom.role),callback:function ($$v) {_vm.$set(_vm.searchfrom, \"role\", $$v)},expression:\"searchfrom.role\"}},[_c('el-option',{attrs:{\"label\":\"请选择角色\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((this.roleList),function(item){return _c('el-option',{key:item.uuid,attrs:{\"label\":item.name,\"value\":item.uuid}})})],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.searchfor}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.addUsers}},[_vm._v(\"新增用户\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(this.mark),expression:\"this.mark\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":this.tableData,\"border\":\"\",\"size\":\"mini\",\"max-height\":\"415\",\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"username\",\"label\":\"用户名\",\"min-width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"manufacturerName\",\"label\":\"公司名\",\"min-width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"name\",\"label\":\"联系人\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"phone\",\"label\":\"电话\",\"width\":\"110\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:{forbidden:scope.row.status==1}},[_vm._v(_vm._s(_vm._f(\"formatState\")(scope.row.status)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"role\",\"label\":\"角色\",\"min-width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"170\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.hlandEditDialogs(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),(_vm.userRole=='ROLE_ADMIN')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.changeUser(scope.row)}}},[_vm._v(\"权限\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.resetPassword(scope.row)}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.forbiddenUser(scope.row)}}},[_vm._v(\"禁用\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"page_fen\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-size\":_vm.ShowPage,\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"current-page\":_vm.currentPage},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1),_vm._v(\" \"),_c('editUser',{ref:\"editUserdialog\",on:{\"getUserList\":_vm.gettableData}}),_vm._v(\" \"),_c('UserAdd',{ref:\"dialog\",on:{\"upUserList\":_vm.gettableData}}),_vm._v(\" \"),_c('changeUser',{ref:\"changeDialog\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-782f487a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/administrator/commponent/UserList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-782f487a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-782f487a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-782f487a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/administrator/commponent/UserList.vue\n// module id = null\n// module chunks = ","<template>\n    <!--用户列表-->\n    <UserList></UserList>\n</template>\n\n<script>\n  // 引入用户列表模块\n  import UserList from '@/commponent/administrator/commponent/UserList.vue'\n\n\n\n  export default {\n    name: 'usermanage',\n    components:{\n      UserList\n    }\n  }\n</script>\n\n<style scoped lang='stylus'>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/administrator/administrator.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('UserList')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d3087778\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/administrator/administrator.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d3087778\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./administrator.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./administrator.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./administrator.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d3087778\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./administrator.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d3087778\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/administrator/administrator.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}