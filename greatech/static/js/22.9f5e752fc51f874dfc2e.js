webpackJsonp([22],{foWY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),i=a("T452"),l=a("pxwZ"),s=a("lStc"),u=a("uUlv"),o={name:"generatedBill",data:function(){return{screen_data:{pageNum:1,pageSize:8,totalNum:1,statementNumber:"",supplierName:""},form:[]}},filters:{filterDate:function(e){if(e)return s.a.renderTime(e).slice(0,10)},filterbillingTime:function(e){var t=e.split("");return t.splice(4,0,"-"),t.join("")}},mounted:function(){this.handleCurrentChange()},methods:r()({},Object(u.b)(["changeUuid"]),{handleCurrentChange:function(e){var t=this;"screen"==e&&(this.screen_data.pageNum=1);var a={pageNum:this.screen_data.pageNum,pageSize:this.screen_data.pageSize,statementNumber:this.screen_data.statementNumber,supplierName:this.screen_data.supplierName};l.a.post(i.a.api,"/aStatement/getGeneratedBillList.do",a).then(function(e){0==e.status?(t.form=e.data,e.data.length>0&&(t.screen_data.totalNum=e.data[0].totalNum)):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},enterPrint:function(e){this.changeUuid(e.uuid),this.$router.push("financialPrinting")},downloadFiles:function(e){var t={uuid:e.row.uuid,search:"",purchaseOrder:"",productNumber:"",productName:""};l.a.getFile(i.a.noNeedLogionApi,"skip/exportGeneratedBillDetail.do",t).then(function(e){var t=document.createElement("a");t.href=window.URL.createObjectURL(new Blob([e])),t.target="_blank",t.download="对账单.xlsx",document.body.appendChild(t),t.click(),document.body.removeChild(t)})}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"inquiry_warp"},[a("el-form",{ref:"screen_data",attrs:{model:e.screen_data,inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"对账单号"}},[a("el-input",{attrs:{placeholder:"请输入对账单号"},model:{value:e.screen_data.statementNumber,callback:function(t){e.$set(e.screen_data,"statementNumber",t)},expression:"screen_data.statementNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商名称","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入供应商名称"},model:{value:e.screen_data.supplierName,callback:function(t){e.$set(e.screen_data,"supplierName",t)},expression:"screen_data.supplierName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"Fuzzy",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleCurrentChange("screen")}}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form,border:"",height:"415px",size:"mini"}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"ERP代码",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.erpno))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"供应商名称",align:"center","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.supplierName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"账单日期",align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("filterbillingTime")(t.row.billingTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"生成日期",align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("filterDate")(t.row.createDate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.enterPrint(t.row)}}},[e._v("\n          打印\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.downloadFiles(t)}}},[e._v("\n          下载\n        ")])]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.form.length>0,expression:"form.length>0"}],staticClass:"page_fen"},[a("el-pagination",{attrs:{background:"","page-size":e.screen_data.pageSize,layout:"prev, pager, next",total:e.screen_data.totalNum,"current-page":e.screen_data.pageNum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.screen_data,"pageNum",t)},"update:current-page":function(t){return e.$set(e.screen_data,"pageNum",t)}}})],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,c,!1,function(e){a("wfYt")},"data-v-fa463e3a",null);t.default=d.exports},wfYt:function(e,t){}});
//# sourceMappingURL=22.9f5e752fc51f874dfc2e.js.map