webpackJsonp([60],{Kbqn:function(t,e){},k6Pb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),n=a.n(i),o=a("T452"),l=a("pxwZ"),r=a("uUlv"),s={name:"mainCustomer",props:{customerList:{type:Array}},data:function(){return{CustomerShow:!1,multipleSelection:[],addCustomerData:{name:"",saleRate:"",productionCapacityRate:""},rules:{name:[{required:!0,message:"客户名称不能为空",trigger:"blur"}],saleRate:[{required:!0,message:"销售占比不能为空",trigger:"blur"}],productionCapacityRate:[{required:!0,message:"占月生产产能不能为空",trigger:"blur"}]}}},computed:n()({},Object(r.c)(["uuid"])),methods:{haldAddBank:function(){this.CustomerShow=!0,this.addCustomerData.name="",this.addCustomerData.saleRate="",this.addCustomerData.productionCapacityRate=""},additions:function(){var t=this;this.$refs.addCustomerData.validate(function(e){if(e){var a={supplierUuid:t.uuid,name:t.addCustomerData.name,saleRate:t.addCustomerData.saleRate,productionCapacityRate:t.addCustomerData.productionCapacityRate};l.a.post(o.a.api,"/supplier/addSupplierCustomer.do",a).then(function(e){0==e.status?t.$alert("保存成功",{confirmButtonText:"确定",center:!0,callback:function(e){t.CustomerShow=!1,t.$emit("againLoad")}}):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})}})},handleSelectionChange:function(t){var e=this;this.multipleSelection=[],t.map(function(t){e.multipleSelection.push(t.uuid)})},fastDeleteBth:function(){var t=this,e={tableName:"supplier_customer",uuidList:this.multipleSelection};l.a.post(o.a.api,"/supplier/deleteSupplierExtraInformation.do",e).then(function(e){0==e.status?t.$alert("删除成功",{confirmButtonText:"确定",center:!0,callback:function(e){t.$emit("againLoad")}}):t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},deleteBth:function(t){var e=this,a={tableName:"supplier_customer",uuidList:Array(t.uuid)};l.a.post(o.a.api,"/supplier/deleteSupplierExtraInformation.do",a).then(function(t){0==t.status?e.$alert("删除成功",{confirmButtonText:"确定",center:!0,callback:function(t){e.$emit("againLoad")}}):e.$alert(t.msg,{confirmButtonText:"确定",center:!0})})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contacTitleWarp"},[a("div",{staticClass:"contacTitle"},[t._v("主要客户")]),t._v(" "),a("div",{staticClass:"contacTitleButton"},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.haldAddBank}},[t._v("新增客户")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.fastDeleteBth}},[t._v("一键删除")])],1)]),t._v(" "),a("div",{staticClass:"contacTinformation"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.customerList,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"客户名称",align:"center",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"saleRate",label:"销售占比",align:"center","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productionCapacityRate",label:"占月生产产能",align:"center","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteBth(e.row)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增主要客户",visible:t.CustomerShow},on:{"update:visible":function(e){t.CustomerShow=e}}},[a("div",{staticClass:"addContactsWarp"},[a("el-form",{ref:"addCustomerData",attrs:{model:t.addCustomerData,rules:t.rules,"label-width":"80px",size:"medium","label-position":"top"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"客户名称"},model:{value:t.addCustomerData.name,callback:function(e){t.$set(t.addCustomerData,"name",e)},expression:"addCustomerData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"销售占比",prop:"saleRate"}},[a("el-input",{attrs:{placeholder:"请输入销售占比"},model:{value:t.addCustomerData.saleRate,callback:function(e){t.$set(t.addCustomerData,"saleRate",e)},expression:"addCustomerData.saleRate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"占月生产产能",prop:"productionCapacityRate"}},[a("el-input",{attrs:{placeholder:"请输入占月生产产能"},model:{value:t.addCustomerData.productionCapacityRate,callback:function(e){t.$set(t.addCustomerData,"productionCapacityRate",e)},expression:"addCustomerData.productionCapacityRate"}})],1)],1),t._v(" "),a("div",{staticClass:"defineWarp"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.additions}},[t._v("确定")])],1)],1)])],1)},staticRenderFns:[]};var c=a("VU/8")(s,u,!1,function(t){a("Kbqn")},"data-v-6d34cb83",null);e.default=c.exports}});
//# sourceMappingURL=60.60bdea45b8b312030efb.js.map