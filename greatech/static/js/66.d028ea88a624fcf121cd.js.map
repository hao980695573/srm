{"version":3,"sources":["webpack:///src/commponent/manifest/manifest.vue","webpack:///./src/commponent/manifest/manifest.vue?f774","webpack:///./src/commponent/manifest/manifest.vue"],"names":["manifest","name","data","screen_list","search","tableData","pageNum","pageSize","totalNum","hladpageSize","a","bb","selectData","computed","extends_default","Object","vuex_esm","filters","filtersPurchaseDate","val","Interface","renderTime","slice","filtersQuantity","Remainder","filterIsGift","filteHurry","mounted","this","getList","changeStateDelivery","methods","type","_this2","Number","params","uuid","axios","post","config","api","then","res","status","map","item","isGift","$alert","msg","confirmButtonText","center","handleSelectionChange","selection","sign","y","length","i","productNumber","purchaseOrder","substr","$refs","toggleRowSelection","AllDetail","clearSelection","generate","$router","push","duplicate","_this3","_this","j","stateDelivery","skip","k","opid","planTime","purchaseDate","cloneObj","JSON","parse","stringify_default","deliverableQuantity","bpCount","index","b","splice","arr","manifest_manifest","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","inline","label-width","size","label","placeholder","value","callback","$$v","$set","expression","_v","on","click","disabled","staticStyle","width","border","heigh","element-loading-background","selection-change","select-all","align","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","class","jinji","row","isHurry","_s","_f","zhensong","min-width","productName","supplierName","unit","count","directives","rawName","background","page-size","layout","total","current-page","current-change","update:currentPage","$event","update:current-page","slot","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/66.d028ea88a624fcf121cd.js","sourcesContent":["<template>\n  <div>\n    <!--搜索框-->\n    <div class='inquiry_warp'>\n      <el-form ref=\"screen_list\" :model=\"screen_list\" :inline=\"true\" label-width=\"80px\" size='mini'>\n        <el-form-item label=\"模糊搜索\">\n          <el-input v-model=\"screen_list.search\" placeholder=\"请输入内容\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"getList\">搜索</el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"success\" @click=\"generate\" :disabled='stateDelivery.length<=\"0\"'>生成送货单</el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"success\" @click=\"duplicate\" :disabled='stateDelivery.length<=\"0\"'>生成赠品</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--表格-->\n    <el-table :data=\"tableData\" style=\"width: 100%\"\n              border\n              heigh='415'\n              element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n              size='mini'\n              ref='tableData'\n              @selection-change=\"handleSelectionChange\"\n              @select-all='AllDetail'\n    >\n      <el-table-column\n        type=\"selection\"\n        width=\"55\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"紧急状态\"\n        show-overflow-tooltip\n        width=\"95\">\n        <template slot-scope=\"scope\">\n          <span :class='[{\"jinji\":scope.row.isHurry==1}]'>{{scope.row.isHurry|filteHurry}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"采购日期\"\n        show-overflow-tooltip\n        width=\"95\">\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.purchaseDate|filtersPurchaseDate}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"排程日期\"\n        width='95'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.planTime}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"采购单号\"\n        width='100'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.purchaseOrder}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"品号\"\n        width='120'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.productNumber}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"品名\"\n        show-overflow-tooltip\n        min-width='140'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.productName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        show-overflow-tooltip\n        label=\"供货商\"\n        min-width='140'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.supplierName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"单位\"\n        width='70'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.unit}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"是否赠送\"\n        width='75'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.isGift|filterIsGift}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"订单数量\"\n        width='110'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.count|filtersQuantity}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"当前可送数量\"\n        show-overflow-tooltip\n        width='100'>\n        <template slot-scope=\"scope\">\n          <span :class='[{\"zhensong\":scope.row.isGift==1}]'>{{scope.row.deliverableQuantity|filtersQuantity}}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!--分页-->\n    <div class='page_fen' v-show='!tableData.length==\"0\"'>\n      <el-pagination\n        background\n        :page-size=\"pageSize\"\n        layout=\"prev, pager, next\"\n        :total=\"totalNum\"\n        @current-change=\"getList\"\n        :current-page.sync=\"pageNum\">\n      </el-pagination>\n      <!--请求条数-->\n      <div class='tiaoshu'>\n        <el-input placeholder=\"请输入内容\" v-model=\"hladpageSize\" size='mini'>\n          <template slot=\"append\">最多{{totalNum}}条</template>\n        </el-input>\n      </div>\n      <div style='margin-left:10px;'>\n        <el-button type=\"primary\" class='Fuzzy' size=\"mini\" @click='getList(\"search\")'\n                   :disabled='hladpageSize>totalNum'>搜索\n        </el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  // 引入公共配置\n  import {config} from 'api/config.js';\n  //引入接口文件请求文件\n  import axios from 'api/axios.js'\n  // 引入公共方法\n  import Interface from 'api/Interface.js'\n  // Vuex语法糖\n  import {mapMutations, mapState} from 'Vuex'\n\n  export default {\n    name: 'manifest',\n    data() {\n      return {\n        // 快捷搜索\n        screen_list: {\n          // 模糊搜索\n          search: '',\n        },\n        // 送货列表\n        tableData: [],\n        // 当前页\n        pageNum: 1,\n        // 请求条数\n        pageSize: 50,\n        // 总条数\n        totalNum: 0,\n        // 手动输入请求条数\n        hladpageSize: 4,\n        // 存储被选中的索引和选中的复制后的值\n        a: [],\n        // 存储被选中的opid\n        bb: [],\n        //已选择\n        selectData: []\n      }\n    },\n    computed: {\n      ...mapState(['stateDelivery'])\n    },\n    filters: {\n      filtersPurchaseDate(val) {\n        if (val) {\n          return Interface.renderTime(val).slice(0, 10)\n        }\n      },\n      filtersQuantity(val) {\n        return Interface.Remainder(val)\n      },\n      filterIsGift(val) {\n        if (val == '0') {\n          return \"否\"\n        } else {\n          return '是'\n        }\n      },\n      filteHurry(val){\n        if (val == '1') {\n          return \"紧急\"\n        } else {\n          return '否'\n        }\n      }\n    },\n    mounted() {\n      // 获取列表\n      this.getList()\n      // 清空生成送货单\n      this.changeStateDelivery([])\n    },\n    methods: {\n      ...mapMutations(['changeStateDelivery']),\n      // 获取列表\n      getList(type) {\n        if (type == 'search') {\n          this.pageNum = 1\n          this.pageSize = Number(this.hladpageSize)\n        }\n        const params = {\n          uuid: '',\n          search: this.screen_list.search,\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }\n        axios.post(config.api, '/delivery/beDeliveryList.do', params).then((res) => {\n          if (res.status == 0) {\n            this.tableData = res.data\n            // 本地新增一个是否正送字段\n            this.tableData.map(item => {\n              item.isGift = '0'\n            })\n\n            // 总条数\n\n            this.totalNum=res.data[0].totalNum\n\n\n          } else {\n            this.$alert(data.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      },\n      // // 单选\n      // handleSelectionChange(val, row) {\n      //   // 是否保存标志\n      //   let sign=true\n      //   for (let i = 0; i < this.tableData.length; i++) {\n      //     // 如果品名相同\n      //     if (this.tableData[i].productNumber == row.productNumber) {\n      //       // 比较采购单号大小\n      //       if (this.tableData[i].purchaseOrder.substr(2)<row.purchaseOrder.substr(2)) {\n      //         // 有更大的值。禁止选中\n      //         this.$refs.tableData.toggleRowSelection(row,false);\n      //         // 不允许保存\n      //         sign=false\n      //         //提示\n      //         this.$alert(`该${this.tableData[i].productNumber}品号下，${this.tableData[i].purchaseOrder}订单还未送完`, {\n      //           confirmButtonText: '确定',\n      //           center: true\n      //         })\n      //       }\n      //     }\n      //   }\n      //\n      //   if(sign){\n      //     this.selectData = val\n      //     this.changeStateDelivery(val)\n      //   }\n      // },\n      // // 单选\n      handleSelectionChange(selection) {\n        // 是否保存标志\n        let sign = true\n        for(let y=0;y<selection.length;y++) {\n          if (selection[y].isGift == 1) {\n            continue;\n          }\n          for (let i = 0; i < this.tableData.length; i++) {\n            // 如果品名相同\n            if (this.tableData[i].productNumber == selection[y].productNumber) {\n              // 比较采购单号大小\n              if (this.tableData[i].purchaseOrder.substr(2) < selection[y].purchaseOrder.substr(2)) {\n                // 有更大的值。禁止选中\n                this.$refs.tableData.toggleRowSelection(selection[y], false);\n                // 不允许保存\n                sign = false\n                //提示\n                this.$alert(`该${this.tableData[i].productNumber}品号下，${this.tableData[i].purchaseOrder}订单还未送完`, {\n                  confirmButtonText: '确定',\n                  center: true\n                })\n              }\n            }\n          }\n        }\n\n          if(sign){\n            this.selectData = selection\n            this.changeStateDelivery(selection)\n          }\n      },\n\n      // 全选详情\n      AllDetail(){\n        this.selectData=''\n        // 清空生成送货单\n        this.changeStateDelivery([])\n        this.$refs.tableData.clearSelection();\n      },\n      // 生成送货单\n      generate() {\n        this.$router.push('deliveryNote')\n      },\n      // 复制赠送列表\n      duplicate() {\n        const _this = this\n        for (var j = 0; j < _this.stateDelivery.length; j++) {\n          var skip = 0\n          for (var k = 0; k < _this.tableData.length; k++) {\n            for (var i = 0; i < _this.bb.length; i++) {\n              if (_this.bb[i].opid == _this.stateDelivery[j].opid && _this.bb[i].planTime == _this.stateDelivery[j].planTime\n                && _this.bb[i].purchaseDate == _this.stateDelivery[j].purchaseDate) {\n                skip = 1\n                break\n              }\n            }\n            if (skip == 1) {\n              break;\n            }\n            if (_this.tableData[k].opid == _this.stateDelivery[j].opid && _this.tableData[k].planTime == _this.stateDelivery[j].planTime\n              && _this.tableData[k].purchaseDate == _this.stateDelivery[j].purchaseDate) {\n              // 深复制\n              const cloneObj = JSON.parse(JSON.stringify(_this.stateDelivery[j]));\n              cloneObj.deliverableQuantity = _this.tableData[k].bpCount\n              cloneObj.isGift = '1'\n              this.a.push({\n                index: k,\n                b: cloneObj\n              })\n            }\n          }\n        }\n        // 遍历数组id\n        this.a.map((item, index) => {\n          for (var i = 0; i < _this.tableData.length; i++) {\n            if (item.b.opid == _this.tableData[i].opid && _this.tableData[i].planTime == item.b.planTime\n              && _this.tableData[i].purchaseDate == item.b.purchaseDate) {\n              // 生成的赠品存入数组\n              this.bb.push(item.b)\n              // 把赠品数组插入列表\n              this.tableData.splice(i + 1, 0, item.b)\n              break\n            }\n          }\n        })\n        this.a = []\n        // 存储已选中的数组\n        var arr = this.selectData\n        this.$refs.tableData.clearSelection()\n        // 把生成的数据也勾选上\n        _this.tableData.map((item, index) => {\n          for (var i = 0; i < arr.length; i++) {\n            if (item.opid == arr[i].opid && item.planTime == arr[i].planTime && item.purchaseDate == arr[i].purchaseDate) {\n              this.$refs.tableData.toggleRowSelection(item);\n              break;\n            }\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style lang='stylus' scoped>\n  /*分页*/\n  .page_fen {\n    width: 100%;\n    height: 50px;\n    background: #f5f5f5;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 20px;\n    padding: 0px 20px;\n    box-sizing: border-box;\n  }\n\n  .inquiry_warp\n    width: 100%;\n    margin-top: 20px;\n    margin-bottom: 10px;\n    .Fuzzy\n      width: 65px;\n      margin: 0px 10px;\n\n  .demo-table-expand {\n    font-size: 0;\n  }\n\n  .demo-table-expand label {\n    width: 90px;\n    color: #99a9bf;\n  }\n\n  .demo-table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 50%;\n  }\n\n  .zhensong\n    color: #409EFF\n\n  .jinji\n    font-size 18px;\n    color:red\n</style>\np\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/manifest/manifest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"inquiry_warp\"},[_c('el-form',{ref:\"screen_list\",attrs:{\"model\":_vm.screen_list,\"inline\":true,\"label-width\":\"80px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"模糊搜索\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.screen_list.search),callback:function ($$v) {_vm.$set(_vm.screen_list, \"search\", $$v)},expression:\"screen_list.search\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getList}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.stateDelivery.length<=\"0\"},on:{\"click\":_vm.generate}},[_vm._v(\"生成送货单\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.stateDelivery.length<=\"0\"},on:{\"click\":_vm.duplicate}},[_vm._v(\"生成赠品\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"tableData\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"heigh\":\"415\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"size\":\"mini\"},on:{\"selection-change\":_vm.handleSelectionChange,\"select-all\":_vm.AllDetail}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"紧急状态\",\"show-overflow-tooltip\":\"\",\"width\":\"95\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"jinji\":scope.row.isHurry==1}]},[_vm._v(_vm._s(_vm._f(\"filteHurry\")(scope.row.isHurry)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"采购日期\",\"show-overflow-tooltip\":\"\",\"width\":\"95\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(_vm._f(\"filtersPurchaseDate\")(scope.row.purchaseDate)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"排程日期\",\"width\":\"95\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(scope.row.planTime))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"采购单号\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(scope.row.purchaseOrder))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"品号\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(scope.row.productNumber))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"品名\",\"show-overflow-tooltip\":\"\",\"min-width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(scope.row.productName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"label\":\"供货商\",\"min-width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(scope.row.supplierName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"单位\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(scope.row.unit))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否赠送\",\"width\":\"75\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(_vm._f(\"filterIsGift\")(scope.row.isGift)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"订单数量\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(_vm._f(\"filtersQuantity\")(scope.row.count)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"当前可送数量\",\"show-overflow-tooltip\":\"\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:[{\"zhensong\":scope.row.isGift==1}]},[_vm._v(_vm._s(_vm._f(\"filtersQuantity\")(scope.row.deliverableQuantity)))])]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tableData.length==\"0\"),expression:\"!tableData.length==\\\"0\\\"\"}],staticClass:\"page_fen\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next\",\"total\":_vm.totalNum,\"current-page\":_vm.pageNum},on:{\"current-change\":_vm.getList,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}}),_vm._v(\" \"),_c('div',{staticClass:\"tiaoshu\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"size\":\"mini\"},model:{value:(_vm.hladpageSize),callback:function ($$v) {_vm.hladpageSize=$$v},expression:\"hladpageSize\"}},[_c('template',{slot:\"append\"},[_vm._v(\"最多\"+_vm._s(_vm.totalNum)+\"条\")])],2)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"10px\"}},[_c('el-button',{staticClass:\"Fuzzy\",attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.hladpageSize>_vm.totalNum},on:{\"click\":function($event){return _vm.getList(\"search\")}}},[_vm._v(\"搜索\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60404ee8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/manifest/manifest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60404ee8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./manifest.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./manifest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./manifest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60404ee8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./manifest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60404ee8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/manifest/manifest.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}