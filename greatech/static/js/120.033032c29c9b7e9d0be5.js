webpackJsonp([120],{D2c6:function(t,e){},QzXl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("Dd8w"),a=i.n(r),l=i("T452"),n=i("pxwZ"),o=i("lStc"),s=i("uUlv"),c={name:"deliveryDetail",data:function(){return{form:{deliveryNumber:"",deliveryDate:"",arrivalDate:"",receivingUnit:"",currency:"",operatorName:"",deliveryProductList:[]},aa:!0,quantityFalse:!1,removeRow:!1}},computed:a()({},Object(s.c)(["uuid"])),mounted:function(){this.getList()},filters:{filterCount:function(t){if(t)return o.a.Remainder(t)},filterisGift:function(t){return 0==t?"否":"是"},filterDate:function(t){if(t)return o.a.renderTime(t).slice(0,10)}},methods:{a:function(){this.aa=!this.aa},getList:function(){var t=this,e={uuid:this.uuid};n.a.post(l.a.api,"/delivery/getDeliveryShowBp.do",e).then(function(e){0==e.status?t.form=e.data:t.$alert(e.msg,{confirmButtonText:"确定",center:!0})})},changeData:function(){this.quantityFalse=!0},saveData:function(){var t=this,e={deliveryDate:this.form.deliveryDate,arrivalDate:this.form.arrivalDate,receivingUnit:this.form.receivingUnit,currency:this.form.currency,deliveryProductList:this.form.deliveryProductList,deliveryNumber:this.form.deliveryNumber,uuid:this.form.uuid};n.a.post(l.a.api,"/delivery/editDelivery.do",e).then(function(e){0==e.status?t.$alert(e.msg,{confirmButtonText:"确定",center:!0,callback:function(e){t.quantityFalse=!1,t.getList(),t.removeRow=!1}}):t.$alert(e.msg,{confirmButtonText:"确定",center:!0,callback:function(e){t.getList()}})})},remove:function(t){var e=this;this.form.deliveryProductList.map(function(i,r){i.uuid==t.row.uuid&&(e.form.deliveryProductList.splice(r,1),e.removeRow=!0)})},enterPint:function(){this.removeRow||this.quantityFalse?this.$alert("修改后请保存",{confirmButtonText:"确定",center:!0}):this.$router.push("deliveryPrint")},enterA4:function(){this.removeRow||this.quantityFalse?this.$alert("修改后请保存",{confirmButtonText:"确定",center:!0}):this.$router.push("deliveryPrintA4")}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"Printing"}},[i("div",{staticClass:"baseWarp"},[i("div",{staticClass:"headerWarp"},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",size:"mini","label-position":"right",inline:!0}},[i("el-form-item",{attrs:{label:"单号"}},[i("el-input",{attrs:{readonly:""},model:{value:t.form.deliveryNumber,callback:function(e){t.$set(t.form,"deliveryNumber",e)},expression:"form.deliveryNumber"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"日期"}},[i("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",readonly:"",placeholder:"选择日期"},model:{value:t.form.deliveryDate,callback:function(e){t.$set(t.form,"deliveryDate",e)},expression:"form.deliveryDate"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"到货日期"}},[i("el-date-picker",{staticStyle:{width:"130px"},attrs:{readonly:"",type:"date",placeholder:"选择日期"},model:{value:t.form.arrivalDate,callback:function(e){t.$set(t.form,"arrivalDate",e)},expression:"form.arrivalDate"}})],1),t._v(" "),i("div",[i("el-form-item",{attrs:{label:"收货单位"}},[i("el-input",{staticStyle:{width:"190px"},attrs:{readonly:""},model:{value:t.form.receivingUnit,callback:function(e){t.$set(t.form,"receivingUnit",e)},expression:"form.receivingUnit"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"币种","label-width":"50px"}},[i("el-input",{staticStyle:{width:"90px"},attrs:{readonly:""},model:{value:t.form.currency,callback:function(e){t.$set(t.form,"currency",e)},expression:"form.currency"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"操作人"}},[i("el-input",{staticStyle:{width:"130px"},attrs:{readonly:""},model:{value:t.form.operatorName,callback:function(e){t.$set(t.form,"operatorName",e)},expression:"form.operatorName"}})],1),t._v(" "),i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:t.saveData}},[t._v("保存")])],1)],1)],1)]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.deliveryProductList,border:"",size:"mini",height:"610"},on:{"row-dblclick":t.changeData}},[i("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),t._v(" "),t.aa?i("el-table-column",{attrs:{prop:"productName",label:"品名",align:"center","show-overflow-tooltip":"","min-width":"100"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{label:"排程时间",align:"center","show-overflow-tooltip":"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("filterDate")(e.row.planTime)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"productNumber",label:"品号",align:"center","show-overflow-tooltip":"",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{label:"数量",align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.quantityFalse?i("span",[i("el-input",{attrs:{onkeyup:"this.value=this.value.replace(/[^\\d.]/g,'');",size:"mini",placeholder:"请输入内容"},model:{value:e.row.quantity,callback:function(i){t.$set(e.row,"quantity",i)},expression:"scope.row.quantity"}})],1):i("span",[t._v(t._s(t._f("filterCount")(e.row.quantity)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"unit",label:"单位",align:"center",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{label:"规格",align:"center","show-overflow-tooltip":"","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.specification))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"是否备品",align:"center","show-overflow-tooltip":"",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("filterisGift")(e.row.isGift)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return t.remove(e)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),t._v(" "),i("div",{staticClass:"Printing_warp"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.enterPint}},[t._v("多联打印")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.enterA4}},[t._v("A4式打印")])],1)])},staticRenderFns:[]};var d=i("VU/8")(c,u,!1,function(t){i("D2c6")},"data-v-014d7368",null);e.default=d.exports}});
//# sourceMappingURL=120.033032c29c9b7e9d0be5.js.map