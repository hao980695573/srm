{"version":3,"sources":["webpack:///src/commponent/warehousingRmProduct/warehousingRmProduct.vue","webpack:///./src/commponent/warehousingRmProduct/warehousingRmProduct.vue?8f3d","webpack:///./src/commponent/warehousingRmProduct/warehousingRmProduct.vue"],"names":["warehousingRmProduct","name","data","screen_data","rmNumber","form","arrivalDate","tableData","CountState","entryEumber","submitState","fullscreenLoading","computed","extends_default","Object","vuex_esm","filters","filtersCount","val","Interface","Remainder","filtersDate","renderTime","slice","filterIsGift","methods","getList","_this2","this","params","axios","post","config","api","then","res","status","username","rmProductList","map","item","wh","getToday","count","quantity","$alert","msg","confirmButtonText","center","saveBth","_this3","i","length","warehouse","stockDate","Date","receivingUnit","currency","useOfDepartmentName","deliveryNumber","erpno","remark","stockProductList","callback","action","stockNumber","warehousingRmProduct_warehousingRmProduct","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","inline","size","label","placeholder","nativeOn","keyup","$event","type","indexOf","_k","keyCode","key","value","$$v","$set","expression","_v","on","click","readonly","label-position","staticStyle","width","value-format","rows","resize","directives","rawName","modifiers","fullscreen","lock","border","element-loading-background","height","align","show-overflow-tooltip","scopedSlots","_u","fn","scope","_s","_f","row","createDate","psNo","prop","min-width","unit","line-height","padding-left","box-sizing","outline","domProps","input","target","composing","font-size","color","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/28.8bec70542c9b181eb1ab.js","sourcesContent":["<template>\n  <div>\n    <!--搜索-->\n    <div class='inquiry_warp'>\n      <el-form ref=\"screen_data\" :model=\"screen_data\" label-width=\"80px\" :inline=\"true\" size='mini'>\n        <el-form-item label=\"补货单号\">\n          <el-input v-model=\"screen_data.rmNumber\" placeholder=\"请输入送货单号\" @keyup.enter.native='getList'></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class='Fuzzy' @click='getList'>搜索</el-button>\n        </el-form-item>\n        <el-form-item label=\"入库单号\">\n          <el-input v-model=\"entryEumber\" placeholder=\"空\" readonly></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--显示订单基础信息-->\n    <div class='baseWarp'>\n      <div class='headerWarp'>\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" size=\"mini\" label-position=\"right\" :inline=\"true\">\n          <el-form-item label=\"补货日期\">\n            <el-date-picker\n              style='width: 100%'\n              v-model=\"form.createDate\"\n              type=\"date\"\n              readonly\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"到货日期\">\n            <el-date-picker\n              style='width: 100%'\n              v-model=\"arrivalDate\"\n              value-format='yyyy-MM-dd'\n              type=\"date\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"收货单位\">\n            <el-input v-model=\"form.receivingUnit\" readonly style='width:190px'></el-input>\n          </el-form-item>\n          <el-form-item label=\"供货商\">\n            <el-input v-model=\"form.supplierName\" readonly style='width:190px'></el-input>\n          </el-form-item>\n          <div>\n            <el-form-item label=\"备注\">\n              <el-input\n                type=\"textarea\"\n                :rows=\"2\"\n                style='width:470px'\n                placeholder=\"请输入内容\"\n                resize=\"none\"\n                v-model=\"form.remark\">\n              </el-input>\n            </el-form-item>\n          </div>\n        </el-form>\n      </div>\n    </div>\n    <!--表格-->\n    <el-table :data=\"tableData\" style=\"width: 100%\"\n              v-loading.fullscreen.lock=\"fullscreenLoading\"\n              border\n              element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n              height='415'\n              size='mini'\n    >\n      <el-table-column\n        align=\"center\"\n        type=\"index\"\n        width=\"55\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"补货日期\"\n        show-overflow-tooltip\n        width=\"100\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.createDate|filtersDate}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"补货单号\"\n        width='110'>\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.psNo}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"productNumber\"\n        label=\"品号\"\n        width='120'>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"productName\"\n        label=\"品名\"\n        min-width='170'>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"单位\"\n        width='70'>\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.unit}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"仓位\"\n        width='80'>\n        <template slot-scope=\"scope\">\n          <input type=\"text\" v-model=\"scope.row.wh\" style='width:100%;line-height: 20px;padding-left:5px;box-sizing:border-box;outline: none'>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"送货数量\"\n        width='110'>\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.quantity|filtersCount}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"收货数量\"\n        show-overflow-tooltip\n        width='100'>\n        <template slot-scope=\"scope\">\n          <input type=\"text\" v-model=\"scope.row.count\" style='width:100%;line-height: 20px;padding-left:5px;box-sizing:border-box;outline: none'>\n          <div style='font-size:9px;color:red' v-show='scope.row.count>scope.row.quantity'>收货数大于送货数</div>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--保存-->\n    <div class='save'>\n      <el-button type=\"primary\" size=\"small\" @click='saveBth' :disabled='tableData.length==\"0\"'>保存</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  // 引入公共配置\n  import {config} from 'api/config.js';\n  //引入接口文件请求文件\n  import axios from 'api/axios.js'\n  // 引入公共方法\n  import Interface from 'api/Interface.js'\n  // Vuex语法糖\n  import {mapState} from 'Vuex'\n\n\n  export default {\n    name: 'inspectRmProduct',\n    data() {\n      return {\n        screen_data: {\n          rmNumber: ''\n        },\n        form: {},\n        // 到货日期\n        arrivalDate:'',\n        // 表格\n        tableData: [],\n        // 收到数量是否大于送货数量\n        CountState:true,\n        // 保存成功后回显进货单号\n        entryEumber:'',\n        // 禁止重复提交\n        submitState:true,\n        // 加载图标\n        fullscreenLoading:false\n      }\n    },\n    computed: {\n      // 获取State中的值\n      ...mapState(['username']),\n    },\n    filters:{\n      filtersCount:function(val){\n        return Interface.Remainder(val)\n      },\n      filtersDate:function(val){\n        if(val){\n          return Interface.renderTime(val).slice(0,10)\n        }\n      },\n      filterIsGift(val){\n        if(val=='0'){\n          return \"否\"\n        }else{\n          return '是'\n        }\n      }\n    },\n    methods: {\n      // 获取列表\n      getList() {\n        const params = {\n          rmNumber: this.screen_data.rmNumber\n        }\n        axios.post(config.api, '/replenishment/getRmProductDetailByNumber.do', params).then((res) => {\n          if (res.status == 0) {\n            if(res.data==null){\n              // 清除缓存\n              this.form = {}\n              this.arrivalDate=''\n              this.tableData = []\n            }else{\n              this.form = res.data\n              if(this.username=='11484'){\n                res.data.rmProductList.map((item)=>{\n                  item.wh='S06'\n                })\n              }if(this.username=='00042'){\n                res.data.rmProductList.map((item)=>{\n                  item.wh='S05'\n                })\n              }\n              this.tableData = res.data.rmProductList\n              console.log(this.username)\n              console.log(this.tableData)\n              // 到货日期\n              this.arrivalDate=Interface.getToday('-')\n\n              // 后台需要修改对象里的字段值\n              res.data.rmProductList.map(function (item) {\n                item.count = item.quantity\n              })\n            }\n          } else {\n            this.$alert(data.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      },\n      // 保存\n      saveBth() {\n        // 是否允许提交\n        if(this.submitState){\n          // 禁止重复提交\n          this.submitState=false\n          // 加载显示\n          this.fullscreenLoading=true\n          // 收货数量判断\n          for(var i=0;i<this.tableData.length;i++){\n            if(this.tableData[i].count>this.tableData[i].quantity){\n              this.CountState=false\n              break\n            }else{\n              this.CountState=true\n            }\n          }\n          // 校验通过\n          if(this.CountState){\n            // 后台需要修改表格里的个别字段再返回去\n            this.tableData.map((item)=>{\n              item.warehouse=item.wh\n            })\n            const params = {\n              // 到货日期\n              stockDate:new Date(this.arrivalDate+\" \"+\"00:00:00\"),\n              receivingUnit: this.form.receivingUnit,\n              currency: this.form.currency,\n              useOfDepartmentName:this.form.useOfDepartmentName,\n              deliveryNumber:this.form.rmNumber,\n              erpno:this.form.erpno,\n              remark:this.form.remark,\n              stockProductList:this.tableData\n            }\n\n            axios.post(config.api, '/replenishment/warehousingRmProduct.do', params).then((res) => {\n              // 允许提交\n              this.submitState=true\n              // 关闭加载显示\n              this.fullscreenLoading=false\n\n              if (res.status == 0) {\n                console.log(res);\n                let _this=this\n                _this.$alert('保存成功', {\n                  confirmButtonText: '确定',\n                  center: true,\n                  callback: action => {\n                    // 清除数据\n                    this.form={}\n                    this.arrivalDate=''\n                    this.screen_data.rmNumber=''\n                    this.tableData=[]\n                    // 回显送检单号\n                    this.entryEumber=res.data.stockNumber\n                  }\n                })\n              }else{\n                this.$alert(res.msg, {\n                  confirmButtonText: '确定',\n                  center: true\n                })\n              }\n            })\n          }\n        }\n      }\n    }\n  }\n</script>\n\n<style lang='stylus' scoped>\n  .inquiry_warp {\n    width: 100%;\n    margin-top 20px;\n  }\n\n  .baseWarp\n    width 100%\n    border-bottom: 1px solid #DDD;\n\n  .headerWarp\n    width 100%\n\n  .save\n    width 100%\n    height 40px;\n    margin-top 20px;\n    display flex\n    justify-content center\n    align-items center\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/warehousingRmProduct/warehousingRmProduct.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"inquiry_warp\"},[_c('el-form',{ref:\"screen_data\",attrs:{\"model\":_vm.screen_data,\"label-width\":\"80px\",\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"补货单号\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入送货单号\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getList($event)}},model:{value:(_vm.screen_data.rmNumber),callback:function ($$v) {_vm.$set(_vm.screen_data, \"rmNumber\", $$v)},expression:\"screen_data.rmNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"Fuzzy\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getList}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"入库单号\"}},[_c('el-input',{attrs:{\"placeholder\":\"空\",\"readonly\":\"\"},model:{value:(_vm.entryEumber),callback:function ($$v) {_vm.entryEumber=$$v},expression:\"entryEumber\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"baseWarp\"},[_c('div',{staticClass:\"headerWarp\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"size\":\"mini\",\"label-position\":\"right\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"补货日期\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"readonly\":\"\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form.createDate),callback:function ($$v) {_vm.$set(_vm.form, \"createDate\", $$v)},expression:\"form.createDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"到货日期\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.arrivalDate),callback:function ($$v) {_vm.arrivalDate=$$v},expression:\"arrivalDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"收货单位\"}},[_c('el-input',{staticStyle:{\"width\":\"190px\"},attrs:{\"readonly\":\"\"},model:{value:(_vm.form.receivingUnit),callback:function ($$v) {_vm.$set(_vm.form, \"receivingUnit\", $$v)},expression:\"form.receivingUnit\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供货商\"}},[_c('el-input',{staticStyle:{\"width\":\"190px\"},attrs:{\"readonly\":\"\"},model:{value:(_vm.form.supplierName),callback:function ($$v) {_vm.$set(_vm.form, \"supplierName\", $$v)},expression:\"form.supplierName\"}})],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{staticStyle:{\"width\":\"470px\"},attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入内容\",\"resize\":\"none\"},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1)],1)],1)]),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"height\":\"415\",\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"type\":\"index\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"补货日期\",\"show-overflow-tooltip\":\"\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"filtersDate\")(scope.row.createDate)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"补货单号\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.psNo))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"productNumber\",\"label\":\"品号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"productName\",\"label\":\"品名\",\"min-width\":\"170\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"单位\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.unit))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"仓位\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.wh),expression:\"scope.row.wh\"}],staticStyle:{\"width\":\"100%\",\"line-height\":\"20px\",\"padding-left\":\"5px\",\"box-sizing\":\"border-box\",\"outline\":\"none\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(scope.row.wh)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"wh\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"送货数量\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"filtersCount\")(scope.row.quantity)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"收货数量\",\"show-overflow-tooltip\":\"\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.count),expression:\"scope.row.count\"}],staticStyle:{\"width\":\"100%\",\"line-height\":\"20px\",\"padding-left\":\"5px\",\"box-sizing\":\"border-box\",\"outline\":\"none\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(scope.row.count)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"count\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.count>scope.row.quantity),expression:\"scope.row.count>scope.row.quantity\"}],staticStyle:{\"font-size\":\"9px\",\"color\":\"red\"}},[_vm._v(\"收货数大于送货数\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"save\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.tableData.length==\"0\"},on:{\"click\":_vm.saveBth}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dfa52806\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/warehousingRmProduct/warehousingRmProduct.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dfa52806\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./warehousingRmProduct.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./warehousingRmProduct.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./warehousingRmProduct.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dfa52806\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./warehousingRmProduct.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dfa52806\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/warehousingRmProduct/warehousingRmProduct.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}