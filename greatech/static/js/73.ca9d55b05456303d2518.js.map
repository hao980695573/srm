{"version":3,"sources":["webpack:///src/commponent/barCodeTsc/commponent/replenish.vue","webpack:///./src/commponent/barCodeTsc/commponent/replenish.vue?580d","webpack:///./src/commponent/barCodeTsc/commponent/replenish.vue"],"names":["loads","replenish","name","data","_this","this","form","rmNumber","printableQuantity","mpAmount","mpioQuantity","remark","dProductUuid","materialCodingName","materialCoding","quantity","deliveryCount","mpCount","opCount","issuanceDate","Interface","getToday","qgPeriod","manufactureDate","restaurants","materielList","PrintType","rules","required","message","trigger","validator","Validate","rule","value","callback","Error","test","Number","selcetRmNumber","erpno","mounted","getDeliveryNote","changeBarCodeList","methods","extends_default","Object","vuex_esm","querySearch","queryString","cb","filter","createFilter","restaurant","toLowerCase","indexOf","materielSearch","materielFilter","_this2","axios","post","config","api","uuid","search","startDate","endDate","pageNum","pageSize","then","res","status","map","item","push","$alert","msg","confirmButtonText","center","handleSelect","_this3","params","Arr","rmProductList","productName","dproductUuid","materielSelect","getPrintableCount","_this4","open","opid","deliveryNumber","close","action","mpAmountBlur","Math","ceil","opCountBlur","generatingBarcode","PrintShowType","_this5","$emit","$refs","validate","valid","getBarcodeList","_this6","type","resetFields","commponent_replenish","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","label-width","model","size","label","prop","staticStyle","width","fetch-suggestions","placeholder","on","select","$$v","$set","expression","_v","readonly","disabled","blur","value-format","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/73.ca9d55b05456303d2518.js","sourcesContent":["<template>\n  <div class='register'>\n    <div class='register_center'>\n      <el-form label-width=\"150px\" :model=\"form\" :rules=\"rules\" ref=\"form\" class='register_center_center' size='mini'>\n        <!--左侧-->\n        <div class='register_center_left'>\n          <el-form-item label=\"补货单号\" prop='rmNumber'>\n            <el-autocomplete\n              size='small'\n              style=\"width:100%\"\n              class=\"inline-input\"\n              v-model=\"form.rmNumber\"\n              :fetch-suggestions=\"querySearch\"\n              placeholder=\"请输入送货单号\"\n              @select=\"handleSelect\"\n            ></el-autocomplete>\n          </el-form-item>\n          <el-form-item label=\"可打印数量\" prop='printableQuantity'>\n            <el-input v-model=\"form.printableQuantity\" size=\"small\" class='register_input' placeholder='打印数量'\n                      readonly></el-input>\n          </el-form-item>\n          <el-form-item label=\"最小包装量\" prop='mpAmount'>\n            <el-input v-model=\"form.mpAmount\" size=\"small\" class='register_input' placeholder='请输入最小包装数'\n                      @blur='mpAmountBlur' :disabled='form.deliveryCount==\"\"'></el-input>\n          </el-form-item>\n          <el-form-item label=\"外箱含最小包装量\" prop='mpioQuantity'>\n            <el-input v-model=\"form.mpioQuantity\" size=\"small\" class='register_input' placeholder='请输入外箱含最小包装数'\n                      :disabled='form.deliveryCount==\"\"' @blur='opCountBlur'></el-input>\n          </el-form-item>\n          <el-form-item label=\"保质期\" prop='qgPeriod'>\n            <el-date-picker\n              v-model=\"form.qgPeriod\"\n              value-format='yyyy-MM-dd'\n              type=\"date\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"备注\">\n            <el-input v-model=\"form.remark\" size=\"small\" class='register_input' placeholder='请输入备注'></el-input>\n          </el-form-item>\n        </div>\n        <!--右侧-->\n        <div class='register_center_right'>\n          <el-form-item label=\"物料编码\" prop='materialCodingName'>\n            <el-autocomplete\n              size='small'\n              style=\"width:100%\"\n              class=\"inline-input\"\n              v-model=\"form.materialCodingName\"\n              :fetch-suggestions=\"materielSearch\"\n              placeholder=\"请输入物料编码\"\n              @select='materielSelect'\n            ></el-autocomplete>\n          </el-form-item>\n          <el-form-item label=\"送货数\" prop='deliveryCount'>\n            <el-input v-model=\"form.deliveryCount\" size=\"small\" class='register_input' placeholder='请输入送货数'\n                      :disabled='form.printableQuantity==\"\"' @blur='mpAmountBlur'></el-input>\n          </el-form-item>\n          <el-form-item label=\"最小包装数\">\n            <el-input v-model=\"form.mpCount\" size=\"small\" class='register_input' placeholder='最小包装数'\n                      readonly></el-input>\n          </el-form-item>\n          <el-form-item label=\"外箱包装数\" prop='opCount'>\n            <el-input v-model=\"form.opCount\" size=\"small\" class='register_input' placeholder='外箱包装数'\n                      readonly></el-input>\n          </el-form-item>\n          <el-form-item label=\"送货日期\" prop='issuanceDate'>\n            <el-date-picker\n              v-model=\"form.issuanceDate\"\n              type=\"date\"\n              value-format='yyyy-MM-dd'\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"生产日期\" prop='manufactureDate'>\n            <el-date-picker\n              v-model=\"form.manufactureDate\"\n              type=\"date\"\n              value-format='yyyy-MM-dd'\n              placeholder=\"生产日期\">\n            </el-date-picker>\n          </el-form-item>\n        </div>\n      </el-form>\n      <!--注册按钮-->\n      <div class='register_bth_warp'>\n        <el-button type=\"success\" @click='generatingBarcode(\"label\")'>生成条形码(100*70)</el-button>\n        <el-button type=\"success\" @click='generatingBarcode(\"middle\")'>生成条形码（100*60）</el-button>\n        <el-button type=\"success\" @click='generatingBarcode(\"accessories\")'>生成条形码（70*45）</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  // 公共配置\n  import {config} from 'api/config.js';\n  // 接口文件请求文件\n  import axios from 'api/axios.js'\n  // 定义验证规则\n  import {validateInteger} from 'api/Validate.js'\n  // 引入公共方法\n  import Interface from 'api/Interface.js'\n  // vuex语法糖\n  import {mapMutations} from 'Vuex'\n  // 引入loading\n  import loadEvents from 'common/loading/loading.js'\n  // 实例化loading加载\n  let loads = new loadEvents();\n\n  export default {\n    name:'replenish',\n    data() {\n      // 送货数不能大于可打印数\n      var validateDeliveries = (rule, value, callback) => {\n        let rest = /^[0-9]*[1-9][0-9]*$/\n        if (value === '') {\n          return callback(new Error('送货数不能为空'))\n        } else if (!rest.test(value)) {\n          return callback(new Error('只能输入整数'))\n        } else if (Number(this.form.deliveryCount) > Number(this.form.printableQuantity)) {\n          return callback(new Error('送货数不能大于可打印数'))\n        } else {\n          callback()\n        }\n      }\n      return {\n        // 条码数量\n        form: {\n          // 补货单号\n          rmNumber: '',\n          // 可打印数量\n          printableQuantity: '',\n          // 最小包装量\n          mpAmount: '',\n          // 外箱含最小包装量\n          mpioQuantity: '',\n          // 备注\n          remark: '',\n          // 产品uuid\n          dProductUuid: '',\n          // 物料编码名称\n          materialCodingName: '',\n          // 物料编码\n          materialCoding: '',\n          // 物料数量\n          quantity: '',\n          // 送货数\n          deliveryCount: '',\n          // 最小包装数\n          mpCount: '',\n          // 外箱包装数\n          opCount: '',\n          // 送货日期\n          issuanceDate: Interface.getToday('-'),\n          // 保质期\n          qgPeriod: '',\n          // 生产日期\n          manufactureDate: Interface.getToday('-')\n        },\n        // 送货单号列表\n        restaurants: [],\n        // 物料编码列表\n        materielList: [],\n        // 生产的条码类型\n        PrintType: '',\n        // 校验\n        rules: {\n          rmNumber: [\n            {required: true, message: '请输入补货单号', trigger: ['blur', 'change']},\n          ],\n          printableQuantity: [\n            {validator: validateInteger, required: true, trigger: 'blur'},\n          ],\n          deliveryCount: [\n            {validator: validateDeliveries, required: true, trigger: 'blur'},\n          ],\n          mpAmount: [\n            {validator: validateInteger, required: true, trigger: 'blur'},\n          ],\n          mpioQuantity: [\n            {validator: validateInteger, required: true, trigger: 'blur'},\n          ],\n          issuanceDate: [\n            {required: true, message: '请选择日期', trigger: ['change', 'blur']}\n          ],\n          materialCodingName: [\n            {required: true, message: '内容不能为空', trigger: ['blur', 'change']}\n          ],\n          manufactureDate: [\n            {required: true, message: '请选择日期', trigger: ['change', 'blur']}\n          ],\n          qgPeriod: [\n            {required: true, message: '请选择日期', trigger: ['change', 'blur']}\n          ]\n        },\n        // 选中的送货单号\n        selcetRmNumber: '',\n        // erpno\n        erpno: ''\n\n      }\n    },\n    mounted(){\n      this.getDeliveryNote()\n      this.changeBarCodeList([])\n    },\n    methods:{\n      ...mapMutations(['changeBarCodeList']),\n      // 送货单号输入建议\n      querySearch(queryString, cb) {\n        var restaurants = this.restaurants;\n        var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\n        // 调用 callback 返回建议列表的数据\n        cb(results);\n      },\n      createFilter(queryString) {\n        return (restaurant) => {\n          return (restaurant.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\n        };\n      },\n      // 物料编码输入建议\n      materielSearch(queryString, cb) {\n        var restaurants = this.materielList;\n        var results = queryString ? restaurants.filter(this.materielFilter(queryString)) : restaurants;\n        // 调用 callback 返回建议列表的数据\n        cb(results);\n      },\n      materielFilter(queryString) {\n        return (restaurant) => {\n          return (restaurant.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\n        };\n      },\n      // 获取补货单列表\n      getDeliveryNote(){\n        const params = {\n          uuid: \"\",\n          search: '',\n          startDate: \"\",\n          endDate: \"\",\n          pageNum: 1,\n          pageSize: 1000\n        }\n        axios.post(config.api, '/replenishment/getReplenishmentList.do', params).then((res) => {\n          if (res.status == 0) {\n            // 送货单号存储数组\n            let rmNumber = []\n            res.data.map((item) => {\n              rmNumber.push({value: item.rmNumber, uuid: item.uuid, erpno: item.erpno})\n            })\n            this.restaurants = rmNumber\n          } else {\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      },\n      // 选择了送货单号\n      handleSelect(data){\n        // 选中的送货单号\n        this.selcetRmNumber = data.value\n        const params = {\n          rmNumber: data.value,\n          uuid: data.uuid\n        }\n        // erpno\n        this.erpno = data.erpno\n        // 清空物料编码\n        this.form.materialCodingName = ''\n        // 获取物料编码接口\n        axios.post(config.api, '/replenishment/getReplenishmentInfo.do', params).then((res) => {\n          if (res.status == 0) {\n            let Arr = []\n            res.data.rmProductList.map((item) => {\n              Arr.push({value: item.productName, dproductUuid: item.uuid, quantity: item.quantity})\n            })\n            this.materielList = Arr\n          } else {\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      },\n      // 选择了物料编码\n      materielSelect(item){\n        // 产品uuid\n        this.form.dproductUuid = item.dproductUuid\n        this.form.quantity = item.quantity\n        this.getPrintableCount()\n      },\n      // 获取可打印数量\n      getPrintableCount(){\n        // 加载loading\n        loads.open()\n        const params = {\n          opid: this.form.dproductUuid,\n          deliveryNumber: this.selcetRmNumber,\n          quantity: this.form.quantity\n        }\n        axios.post(config.api, '/barcode/getMaxPrintableCount.do', params).then((res) => {\n          if (res.status == 0) {\n            this.form.printableQuantity = res.data\n            // 加载关闭\n            loads.close()\n          } else {\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true,\n              callback: action => {\n                // 加载关闭\n                loads.close()\n              }\n            })\n          }\n        })\n      },\n      // 填写了最小包装量\n      mpAmountBlur(){\n        this.form.mpCount = Math.ceil(this.form.deliveryCount / this.form.mpAmount) == 'Infinity' ? 0 : Math.ceil(this.form.deliveryCount / this.form.mpAmount)\n        // 如果外箱含最小包装量有值\n        if (this.form.mpioQuantity != '') {\n          this.opCountBlur()\n        }\n      },\n      // 填写了外箱含最小包装量\n      opCountBlur(){\n        this.form.opCount = Math.ceil(this.form.mpCount / this.form.mpioQuantity) == 'Infinity' ? 0 : Math.ceil(this.form.mpCount / this.form.mpioQuantity)\n      },\n      // 生成条形码的uuid\n      generatingBarcode(PrintShowType){\n        // 判断显示种规格标签\n        if (PrintShowType == \"label\") {\n          this.PrintType = \"label\"\n        }else if(PrintShowType == \"middle\"){\n          this.PrintType = \"middle\"\n        }else {\n          this.PrintType = \"accessories\"\n        }\n\n        // 通知父组件 PrintType 的打印类型\n        this.$emit('PrintType',this.PrintType)\n\n        this.$refs['form'].validate((valid) => {\n          if (valid) {\n            // 加载loading\n            loads.open()\n\n            const params = {\n              // 补货单号\n              deliveryNumber: this.form.rmNumber,\n              // 可打印数量\n              printableQuantity: this.form.printableQuantity,\n              // 最小包装量\n              mpAmount: this.form.mpAmount,\n              // 外箱含最小包装量\n              mpioQuantity: this.form.mpioQuantity,\n              // 备注\n              remark: this.form.remark,\n              // 产品uuid\n              dproductUuid: this.form.dproductUuid,\n              // 物料编码\n              materialCoding: this.form.materialCoding,\n              // 送货数\n              deliveryCount: this.form.deliveryCount,\n              // 最小包装数\n              mpCount: this.form.mpCount,\n              // 外箱包装数\n              opCount: this.form.opCount,\n              // 发货日期\n              issuanceDate: this.form.issuanceDate,\n              // erpno\n              erpno: this.erpno,\n              // 保质期\n              qgPeriod: this.form.qgPeriod,\n              // 生产日期\n              manufactureDate: this.form.manufactureDate,\n            }\n            // 获取生成条码列表的uuid\n            axios.post(config.api, '/barcode/addBarcodeInformation.do', params).then((res) => {\n              if (res.status == 0) {\n                this.getBarcodeList(res.data)\n                // 加载关闭\n                loads.close()\n              } else {\n                this.$alert(res.msg, {\n                  confirmButtonText: '确定',\n                  center: true,\n                  callback: action => {\n                    // 加载关闭\n                    loads.close()\n                  }\n                })\n              }\n            })\n          }\n        })\n      },\n      // 生成条形码的列表\n      getBarcodeList(data){\n        const params = {\n          uuid: data,\n          type:1\n        }\n        axios.post(config.api, '/barcode/getBarcodeDetailList.do', params).then((res) => {\n          if (res.status == 0) {\n            this.changeBarCodeList(res.data)\n            // 清空选择数据\n            this.$refs['form'].resetFields()\n            this.form.remark = ''\n            this.form.mpCount = ''\n          } else {\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      }\n    }\n  }\n</script>\n\n\n<style lang='stylus' scoped>\n  .el-form-item {\n    margin-bottom: 20px;\n  }\n\n  .register\n    margin-left: 20px;\n    .register_center\n      height 500px;\n      border 1px solid #edeff2\n      background #fff\n      padding-top: 40px\n      box-sizing border-box\n      .register_center_center\n        display flex\n        justify-content space-between\n        .register_center_left\n          margin-left 20px\n        .register_center_right\n          margin-right 50px\n        .register_input\n          width 295px\n      .register_bth_warp\n        margin-top 70px;\n        margin-bottom 50px;\n        width 100%\n        display flex\n        justify-content center\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/barCodeTsc/commponent/replenish.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('div',{staticClass:\"register_center\"},[_c('el-form',{ref:\"form\",staticClass:\"register_center_center\",attrs:{\"label-width\":\"150px\",\"model\":_vm.form,\"rules\":_vm.rules,\"size\":\"mini\"}},[_c('div',{staticClass:\"register_center_left\"},[_c('el-form-item',{attrs:{\"label\":\"补货单号\",\"prop\":\"rmNumber\"}},[_c('el-autocomplete',{staticClass:\"inline-input\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"fetch-suggestions\":_vm.querySearch,\"placeholder\":\"请输入送货单号\"},on:{\"select\":_vm.handleSelect},model:{value:(_vm.form.rmNumber),callback:function ($$v) {_vm.$set(_vm.form, \"rmNumber\", $$v)},expression:\"form.rmNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"可打印数量\",\"prop\":\"printableQuantity\"}},[_c('el-input',{staticClass:\"register_input\",attrs:{\"size\":\"small\",\"placeholder\":\"打印数量\",\"readonly\":\"\"},model:{value:(_vm.form.printableQuantity),callback:function ($$v) {_vm.$set(_vm.form, \"printableQuantity\", $$v)},expression:\"form.printableQuantity\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"最小包装量\",\"prop\":\"mpAmount\"}},[_c('el-input',{staticClass:\"register_input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入最小包装数\",\"disabled\":_vm.form.deliveryCount==\"\"},on:{\"blur\":_vm.mpAmountBlur},model:{value:(_vm.form.mpAmount),callback:function ($$v) {_vm.$set(_vm.form, \"mpAmount\", $$v)},expression:\"form.mpAmount\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"外箱含最小包装量\",\"prop\":\"mpioQuantity\"}},[_c('el-input',{staticClass:\"register_input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入外箱含最小包装数\",\"disabled\":_vm.form.deliveryCount==\"\"},on:{\"blur\":_vm.opCountBlur},model:{value:(_vm.form.mpioQuantity),callback:function ($$v) {_vm.$set(_vm.form, \"mpioQuantity\", $$v)},expression:\"form.mpioQuantity\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"保质期\",\"prop\":\"qgPeriod\"}},[_c('el-date-picker',{attrs:{\"value-format\":\"yyyy-MM-dd\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form.qgPeriod),callback:function ($$v) {_vm.$set(_vm.form, \"qgPeriod\", $$v)},expression:\"form.qgPeriod\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{staticClass:\"register_input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入备注\"},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"register_center_right\"},[_c('el-form-item',{attrs:{\"label\":\"物料编码\",\"prop\":\"materialCodingName\"}},[_c('el-autocomplete',{staticClass:\"inline-input\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"fetch-suggestions\":_vm.materielSearch,\"placeholder\":\"请输入物料编码\"},on:{\"select\":_vm.materielSelect},model:{value:(_vm.form.materialCodingName),callback:function ($$v) {_vm.$set(_vm.form, \"materialCodingName\", $$v)},expression:\"form.materialCodingName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"送货数\",\"prop\":\"deliveryCount\"}},[_c('el-input',{staticClass:\"register_input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入送货数\",\"disabled\":_vm.form.printableQuantity==\"\"},on:{\"blur\":_vm.mpAmountBlur},model:{value:(_vm.form.deliveryCount),callback:function ($$v) {_vm.$set(_vm.form, \"deliveryCount\", $$v)},expression:\"form.deliveryCount\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"最小包装数\"}},[_c('el-input',{staticClass:\"register_input\",attrs:{\"size\":\"small\",\"placeholder\":\"最小包装数\",\"readonly\":\"\"},model:{value:(_vm.form.mpCount),callback:function ($$v) {_vm.$set(_vm.form, \"mpCount\", $$v)},expression:\"form.mpCount\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"外箱包装数\",\"prop\":\"opCount\"}},[_c('el-input',{staticClass:\"register_input\",attrs:{\"size\":\"small\",\"placeholder\":\"外箱包装数\",\"readonly\":\"\"},model:{value:(_vm.form.opCount),callback:function ($$v) {_vm.$set(_vm.form, \"opCount\", $$v)},expression:\"form.opCount\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"送货日期\",\"prop\":\"issuanceDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form.issuanceDate),callback:function ($$v) {_vm.$set(_vm.form, \"issuanceDate\", $$v)},expression:\"form.issuanceDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"生产日期\",\"prop\":\"manufactureDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"生产日期\"},model:{value:(_vm.form.manufactureDate),callback:function ($$v) {_vm.$set(_vm.form, \"manufactureDate\", $$v)},expression:\"form.manufactureDate\"}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"register_bth_warp\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.generatingBarcode(\"label\")}}},[_vm._v(\"生成条形码(100*70)\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.generatingBarcode(\"middle\")}}},[_vm._v(\"生成条形码（100*60）\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.generatingBarcode(\"accessories\")}}},[_vm._v(\"生成条形码（70*45）\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-557485c6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/barCodeTsc/commponent/replenish.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-557485c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./replenish.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./replenish.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./replenish.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-557485c6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./replenish.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-557485c6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/barCodeTsc/commponent/replenish.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}