{"version":3,"sources":["webpack:///src/commponent/addReplenishment/addReplenishment.vue","webpack:///./src/commponent/addReplenishment/addReplenishment.vue?4556","webpack:///./src/commponent/addReplenishment/addReplenishment.vue"],"names":["addReplenishment","name","data","addReplenState","screen","item","startPsNo","endPsNo","bilNo","manufacturerList","addFormList","selectReplenlist","defineReplenlist","mounted","this","getSupplierRole","computed","extends_default","Object","vuex_esm","methods","addReplenStateShow","_this2","params","uuid","supplierUUid","pageSize","pageNum","axios","post","config","api","then","res","status","i","length","$alert","msg","confirmButtonText","center","getReplenishment","_this3","erpno","_this","map","index","setTimeout","$refs","tableData","toggleRowSelection","handleSelectionChange","val","saveRelenishment","quantity","qty","replenishedQty","delItem","scope","splice","$index","Savelist","_this4","arr","push","psNo","itm","wh","whName","whname","productNumber","prdno","productName","prdname","characteristics","prdmark","unit","psQuantity","price","up","taxRate","taxrto","purchaseOrder","bilno","estItem","supplierName","companyName","remark","rmProductList","receivingUnit","callback","action","addReplenishment_addReplenishment","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","size","on","click","_v","disabled","staticStyle","width","border","height","align","label","scopedSlots","_u","key","fn","_s","row","min-width","directives","rawName","value","expression","domProps","input","$event","target","composing","$set","title","visible","update:visible","model","label-width","inline","value-key","filterable","placeholder","$$v","_l","ref","selection-change","show-overflow-tooltip","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/74.0463854e354f56d74554.js","sourcesContent":["<template>\n  <div>\n    <div class='addWarp'>\n      <!--新增-->\n      <el-button type=\"primary\" size='mini' @click='addReplenStateShow'>新增</el-button>\n      <!--保存-->\n      <el-button type=\"success\" size='mini' :disabled='defineReplenlist.length==0' @click='Savelist'>保存</el-button>\n    </div>\n    <!--选中后的退补货列表-->\n    <el-table\n      :data=\"defineReplenlist\"\n      border\n      style=\"width: 100%\"\n      height='415px'\n      size='mini'\n    >\n      <el-table-column\n        type=\"index\"\n        align='center'\n        width=\"50\">\n      </el-table-column>\n      <el-table-column\n        label=\"退货单号\"\n        align='center'\n        width=\"110\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.psNo}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"品号\"\n        align='center'\n        width=\"120\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.prdno}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"品名\"\n        align='center'\n        min-width=\"120\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.prdname}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"特征\"\n        align='center'\n        width=\"150\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.prdmark}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"仓库\"\n        align='center'\n        width=\"60\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.wh}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"单位\"\n        align='center'\n        width=\"60\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.unit}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"数量\"\n        align='center'\n        width=\"110\">\n        <template slot-scope=\"scope\">\n          <input type='text' class='input_class' v-model=\"scope.row.quantity\"/>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"操作\"\n        width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" @click='delItem(scope)'>\n            删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n\n    <!--弹出框-->\n    <el-dialog\n      title=\"新增\"\n      :visible.sync=\"addReplenState\"\n      width=\"1200px\"\n    >\n      <!--搜索-->\n      <el-form :model=\"screen\" label-width=\"80px\" :inline=\"true\" size='mini'>\n        <el-form-item label=\"厂商\" label-width=\"50px\">\n          <el-select v-model=\"screen.item\"  value-key=\"uuid\" filterable placeholder=\"请选择厂商\" style='width:200px;' :disabled=\"defineReplenlist.length!=0\">\n            <el-option\n              v-for=\"item in manufacturerList\"\n              :key=\"item.uuid\"\n              :label=\"item.companyName\"\n              :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"转入单号\">\n         <input type='text' v-model='screen.startPsNo' class='screen_number'/> -- <input type='text' v-model='screen.endPsNo' class='screen_number'/>\n        </el-form-item>\n        <el-form-item label=\"订单号\">\n          <el-input v-model=\"screen.bilNo\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click='getReplenishment'>搜索</el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click='saveRelenishment'>确定新增</el-button>\n        </el-form-item>\n      </el-form>\n      <!--新增列表-->\n      <el-table\n        ref='tableData'\n        :data=\"addFormList\"\n        border\n        style=\"width: 100%\"\n        height='415px'\n        size='mini'\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column\n          type=\"selection\"\n          width=\"55\">\n        </el-table-column>\n        <el-table-column\n          type=\"index\"\n          align='center'\n          width=\"50\">\n        </el-table-column>\n        <el-table-column\n          label=\"退货单号\"\n          align='center'\n          width=\"110\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.psNo}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"订单号\"\n          align='center'\n          width=\"100\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.bilno}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"品号\"\n          align='center'\n          width=\"110\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.prdno}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"品名\"\n          show-overflow-tooltip\n          align='center'\n          min-width=\"130\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.prdname}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"特征\"\n          align='center'\n          min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.prdmark}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"仓库\"\n          align='center'\n          width=\"70\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.wh}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"单位\"\n          align='center'\n          width=\"60\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.unit}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"退货数\"\n          align='center'\n          width=\"90\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.qty}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          label=\"已补数\"\n          align='center'\n          width=\"90\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.replenishedQty}}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  // 引入公共配置\n  import {config} from 'api/config.js';\n  //引入接口文件请求文件\n  import axios from 'api/axios.js'\n  // Vuex语法糖\n  import {mapState} from 'Vuex'\n\n  export default {\n    name:'addReplenishment',\n    data(){\n      return{\n        // 新增状态框\n        addReplenState:false,\n        // 搜索\n        screen:{\n          // 厂商代号\n          item:'',\n          // 转入单号\n          startPsNo:'',\n          endPsNo:'',\n          // 订单号\n          bilNo:''\n        },\n        // 厂商角色列表\n        manufacturerList:[],\n        // 新增列表\n        addFormList:[],\n        // 选中后的退补货列表\n        selectReplenlist:[],\n        // 确定已选退补货列表\n        defineReplenlist:[]\n      }\n    },\n    mounted(){\n      this.getSupplierRole()\n    },\n    computed: {\n      // 获取 uuid 角色身份\n      ...mapState(['supplierUUid']),\n    },\n    methods: {\n      // 点击新增退补货\n      addReplenStateShow(){\n        this.addReplenState=true\n      },\n      // 获取厂商角色列表\n      getSupplierRole() {\n        const params = {\n          uuid:this.supplierUUid,\n          // 条数\n          pageSize: 1000,\n          // 当前页码\n          pageNum: 1\n        }\n        axios.post(config.api, '/supplier/getSupplierList.do', params).then((res) => {\n          // 赋值档案列表\n          if(res.status==0){\n            this.manufacturerList = res.data\n            // 默认选中\n            for(let i=0;i<this.manufacturerList.length;i++){\n              if(this.manufacturerList[i].uuid==this.supplierUUid){\n                this.screen.item=this.manufacturerList[i]\n              }\n            }\n          }else{\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      },\n      // 获取退补货列表\n      getReplenishment() {\n        const params = {\n          erpno:this.screen.item.erpno,\n          startPsNo:this.screen.startPsNo,\n          endPsNo:this.screen.endPsNo,\n          bilNo:this.screen.bilNo\n        }\n        axios.post(config.api, '/replenishment/getBeReplenishmentList.do', params).then((res) => {\n          // 赋值档案列表\n          if(res.status==0){\n\n            this.addFormList=res.data\n            // 如果之前已经保存选中有\n            if(this.defineReplenlist.length>0){\n              let _this=this\n              // 把生成的数据也勾选上\n              _this.addFormList.map((item,index)=>{\n                for(var i=0;i<_this.defineReplenlist.length;i++){\n                  if(item.uuid==_this.defineReplenlist[i].uuid){\n                    // 加延迟异步处理，把之前已经保存的也勾上\n                    setTimeout(()=>{\n                      this.$refs.tableData.toggleRowSelection(item);\n                    },200)\n                    break;\n                  }\n                }\n              })\n            }\n          }else{\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      },\n      // 选中需要的退补货列表\n      handleSelectionChange(val){\n        this.selectReplenlist=val\n      },\n      // 确定新增选中后的退补货列表\n      saveRelenishment(){\n        // 计算出补货数量  退货数量-已补货数量\n        this.selectReplenlist.map((item)=>{\n          item.quantity=item.qty-item.replenishedQty\n        })\n        // 确定新增已选中的列表\n        this.defineReplenlist=this.selectReplenlist\n        //关闭弹窗\n        this.addReplenState=false\n        // 清除缓存\n        this.screen.startPsNo=''\n        this.screen.endPsNo=''\n        this.addFormList=[]\n      },\n      // 删除确定已选中的某个\n      delItem(scope){\n        this.defineReplenlist.splice(scope.$index, 1)\n      },\n      // 最后的保存\n      Savelist() {\n        let arr=[]\n        // 因为后台需要传过去的字段和穿过来的字段不一样，需要重新更换字段给他\n        this.defineReplenlist.map((item)=>{\n          arr.push({\n            // 退货单号\n            psNo:item.psNo,\n            // 退货单号item\n            item:item.itm,\n            // 仓库代号\n            wh:item.wh,\n            // 仓库名\n            whName:item.whname,\n            // 产品代号\n            productNumber:item.prdno,\n            // 产品名称\n            productName:item.prdname,\n            // 特征\n            characteristics:item.prdmark,\n            // 单位\n            unit:item.unit,\n            // 数量\n            psQuantity:item.qty,\n            // 单价\n            price:item.up,\n            // 税率\n            taxRate:item.taxrto,\n            // 采购单号\n            purchaseOrder:item.bilno,\n            // 已补货数量\n            replenishedQty:item.replenishedQty,\n            // 数量\n            quantity: item.quantity,\n            estItem:item.estItem\n          })\n        })\n\n        const params = {\n          erpno:this.screen.item.erpno,\n          supplierName:this.screen.item.companyName,\n          remark:'',\n          rmProductList:arr,\n          receivingUnit:'广正模具塑胶有限公司'\n        }\n\n        axios.post(config.api, '/replenishment/addReplenishment.do', params).then((res) => {\n          // 赋值档案列表\n          if (res.status == 0) {\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true,\n              callback: action => {\n                // 清除列表\n                this.defineReplenlist=[]\n              }\n            })\n          } else {\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style lang='stylus' scoped>\n  .addWarp\n    margin-top 10px;\n    margin-bottom:10px;\n\n  .screen_number\n    width 150px;\n    height 27px;\n    outline none;\n    border-radius 3px;\n    border 1px solid #ccc\n    padding-left 15px;\n    box-sizing border-box\n\n  .input_class\n    width 80px;\n    outline none\n    text-align center\n    font-size:14px;\n\n\n\n  .screen_number:focus {\n    outline:none;\n    border: 1px solid #409EFF;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/addReplenishment/addReplenishment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"addWarp\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addReplenStateShow}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"disabled\":_vm.defineReplenlist.length==0},on:{\"click\":_vm.Savelist}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.defineReplenlist,\"border\":\"\",\"height\":\"415px\",\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"退货单号\",\"align\":\"center\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.psNo))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"品号\",\"align\":\"center\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.prdno))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"品名\",\"align\":\"center\",\"min-width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.prdname))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"特征\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.prdmark))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"仓库\",\"align\":\"center\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.wh))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单位\",\"align\":\"center\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.unit))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"数量\",\"align\":\"center\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.quantity),expression:\"scope.row.quantity\"}],staticClass:\"input_class\",attrs:{\"type\":\"text\"},domProps:{\"value\":(scope.row.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"quantity\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.delItem(scope)}}},[_vm._v(\"\\n          删除\\n        \")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.addReplenState,\"width\":\"1200px\"},on:{\"update:visible\":function($event){_vm.addReplenState=$event}}},[_c('el-form',{attrs:{\"model\":_vm.screen,\"label-width\":\"80px\",\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"厂商\",\"label-width\":\"50px\"}},[_c('el-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"value-key\":\"uuid\",\"filterable\":\"\",\"placeholder\":\"请选择厂商\",\"disabled\":_vm.defineReplenlist.length!=0},model:{value:(_vm.screen.item),callback:function ($$v) {_vm.$set(_vm.screen, \"item\", $$v)},expression:\"screen.item\"}},_vm._l((_vm.manufacturerList),function(item){return _c('el-option',{key:item.uuid,attrs:{\"label\":item.companyName,\"value\":item}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"转入单号\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.screen.startPsNo),expression:\"screen.startPsNo\"}],staticClass:\"screen_number\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.screen.startPsNo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.screen, \"startPsNo\", $event.target.value)}}}),_vm._v(\" -- \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.screen.endPsNo),expression:\"screen.endPsNo\"}],staticClass:\"screen_number\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.screen.endPsNo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.screen, \"endPsNo\", $event.target.value)}}})]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"订单号\"}},[_c('el-input',{model:{value:(_vm.screen.bilNo),callback:function ($$v) {_vm.$set(_vm.screen, \"bilNo\", $$v)},expression:\"screen.bilNo\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getReplenishment}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRelenishment}},[_vm._v(\"确定新增\")])],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"tableData\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.addFormList,\"border\":\"\",\"height\":\"415px\",\"size\":\"mini\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"退货单号\",\"align\":\"center\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.psNo))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"订单号\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.bilno))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"品号\",\"align\":\"center\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.prdno))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"品名\",\"show-overflow-tooltip\":\"\",\"align\":\"center\",\"min-width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.prdname))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"特征\",\"align\":\"center\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.prdmark))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"仓库\",\"align\":\"center\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.wh))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单位\",\"align\":\"center\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.unit))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"退货数\",\"align\":\"center\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.qty))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"已补数\",\"align\":\"center\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.replenishedQty))])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f78e990\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/addReplenishment/addReplenishment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f78e990\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addReplenishment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addReplenishment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addReplenishment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f78e990\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addReplenishment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4f78e990\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/addReplenishment/addReplenishment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}