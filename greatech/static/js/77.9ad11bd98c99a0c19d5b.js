webpackJsonp([77],{NywF:function(a,t){},"tvM+":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("Dd8w"),l=e.n(i),r=e("T452"),n=e("pxwZ"),s=e("uUlv"),o={name:"materialSources",props:{materialSourcesList:{type:Array}},data:function(){return{materialShow:!1,multipleSelection:[],addMaterialData:{materialName:"",supplier:"",remark:""},rules:{materialName:[{required:!0,message:"材料名称不能为空",trigger:"blur"}],supplier:[{required:!0,message:"供应厂商不能为空",trigger:"blur"}],remark:[{required:!0,message:"备注不能为空",trigger:"blur"}]}}},computed:l()({},Object(s.c)(["uuid"])),methods:{handleSelectionChange:function(a){var t=this;this.multipleSelection=[],a.map(function(a){t.multipleSelection.push(a.uuid)})},haldAddPmaterial:function(){this.materialShow=!0,this.addMaterialData.materialName="",this.addMaterialData.supplier="",this.addMaterialData.remark=""},additions:function(){var a=this;this.$refs.addMaterialData.validate(function(t){if(t){var e={supplierUuid:a.uuid,materialName:a.addMaterialData.materialName,supplier:a.addMaterialData.supplier,remark:a.addMaterialData.remark};n.a.post(r.a.api,"/supplier/addSupplierMaterialSource.do",e).then(function(t){0==t.status?a.$alert("保存成功",{confirmButtonText:"确定",center:!0,callback:function(t){a.materialShow=!1,a.$emit("againLoad")}}):a.$alert(t.msg,{confirmButtonText:"确定",center:!0})})}})},fastDeleteBth:function(){var a=this,t={tableName:"supplier_material_source",uuidList:this.multipleSelection};n.a.post(r.a.api,"/supplier/deleteSupplierExtraInformation.do",t).then(function(t){0==t.status?a.$alert("删除成功",{confirmButtonText:"确定",center:!0,callback:function(t){a.$emit("againLoad")}}):a.$alert(t.msg,{confirmButtonText:"确定",center:!0})})},deleteBth:function(a){var t=this,e={tableName:"supplier_material_source",uuidList:Array(a.uuid)};n.a.post(r.a.api,"/supplier/deleteSupplierExtraInformation.do",e).then(function(a){0==a.status?t.$alert("删除成功",{confirmButtonText:"确定",center:!0,callback:function(a){t.$emit("againLoad")}}):t.$alert(a.msg,{confirmButtonText:"确定",center:!0})})}}},d={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"contacTitleWarp"},[e("div",{staticClass:"contacTitle"},[a._v("主要材料来源")]),a._v(" "),e("div",{staticClass:"contacTitleButton"},[e("el-button",{attrs:{type:"info",size:"mini"},on:{click:a.haldAddPmaterial}},[a._v("新增材料")]),a._v(" "),e("el-button",{attrs:{type:"danger",size:"mini"},on:{click:a.fastDeleteBth}},[a._v("一键删除")])],1)]),a._v(" "),e("div",{staticClass:"contacTinformation"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.materialSourcesList,border:""},on:{"selection-change":a.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),a._v(" "),e("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),a._v(" "),e("el-table-column",{attrs:{prop:"materialName",label:"材料名称",align:"center",width:"220"}}),a._v(" "),e("el-table-column",{attrs:{prop:"supplier",label:"供应厂商",align:"center","min-width":"120"}}),a._v(" "),e("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center","min-width":"120"}}),a._v(" "),e("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return a.deleteBth(t.row)}}},[a._v("\n            删除\n          ")])]}}])})],1)],1),a._v(" "),e("el-dialog",{attrs:{title:"新增材料来源",visible:a.materialShow,top:"40px"},on:{"update:visible":function(t){a.materialShow=t}}},[e("div",{staticClass:"addContactsWarp"},[e("el-form",{ref:"addMaterialData",attrs:{model:a.addMaterialData,rules:a.rules,"label-width":"80px",size:"medium","label-position":"top"}},[e("el-form-item",{attrs:{label:"材料名称:",prop:"materialName"}},[e("el-input",{attrs:{placeholder:"请输入材料名称"},model:{value:a.addMaterialData.materialName,callback:function(t){a.$set(a.addMaterialData,"materialName",t)},expression:"addMaterialData.materialName"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"供应厂商","label-width":"120px",prop:"supplier"}},[e("el-input",{attrs:{placeholder:"请输入供应厂商"},model:{value:a.addMaterialData.supplier,callback:function(t){a.$set(a.addMaterialData,"supplier",t)},expression:"addMaterialData.supplier"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"备注说明:",prop:"remark"}},[e("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入备注说明",resize:"none"},model:{value:a.addMaterialData.remark,callback:function(t){a.$set(a.addMaterialData,"remark",t)},expression:"addMaterialData.remark"}})],1)],1),a._v(" "),e("div",{staticClass:"defineWarp"},[e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:a.additions}},[a._v("确定")])],1)],1)])],1)},staticRenderFns:[]};var u=e("VU/8")(o,d,!1,function(a){e("NywF")},"data-v-4e1e70f2",null);t.default=u.exports}});
//# sourceMappingURL=77.9ad11bd98c99a0c19d5b.js.map