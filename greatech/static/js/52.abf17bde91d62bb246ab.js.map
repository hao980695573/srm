{"version":3,"sources":["webpack:///src/commponent/inquiryAudit/inquiryAudit.vue","webpack:///./src/commponent/inquiryAudit/inquiryAudit.vue?ed6c","webpack:///./src/commponent/inquiryAudit/inquiryAudit.vue"],"names":["inquiryAudit","name","data","screen_data","tenderId","pageIndex","pageSize","totalNum","formList","yesAbnormal","noAbnormal","dialogVisible","selectId","form","Audit","expands","getRowKeys","row","offeruuid","filters","filterWhetherbid","val","filterApproval","mounted","this","handleCurrentChange","computed","extends_default","Object","vuex_esm","methods","_this","params","fuzzySearch","axios","post","config","api","then","res","status","length","hlderDialogShow","scope","onSubmit","_this2","whetherToAudit","$alert","msg","confirmButtonText","center","callback","action","handleClose","WinningBid","item","type","_this3","uuid","replyUuid","whetherbid","enterDetails","changePagePresentState","changeUuid","$router","push","downloadFiles","pagePresentation","getFile","noNeedLogionApi","response","link","document","createElement","href","window","URL","createObjectURL","Blob","target","download","body","appendChild","click","removeChild","openRowExpansions","expandedRows","inquiryAudit_inquiryAudit","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","inline","size","label","placeholder","value","$$v","$set","expression","_v","on","$event","staticStyle","width","border","element-loading-background","height","row-key","expand-row-keys","expand-change","align","prop","min-width","scopedSlots","_u","key","fn","_s","activityTime","approverName","participants","disabled","approverCount","props","_l","label-position","supplierName","temderNumber","projectName","unitprice","_f","approval","class","isitover","_e","background","page-size","layout","total","current-page","current-change","update:currentPage","update:current-page","title","visible","before-close","update:visible","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/52.abf17bde91d62bb246ab.js","sourcesContent":["<template>\n  <div>\n    <!--搜索-->\n    <div class='inquiry_warp'>\n      <el-form ref=\"screen_data\" :model=\"screen_data\" label-width=\"80px\" :inline=\"true\" size='mini'>\n        <el-form-item label=\"报价编号\">\n          <el-input v-model=\"screen_data.tenderId\" placeholder=\"请输入报价标号\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" class='Fuzzy' @click='handleCurrentChange(\"screen\")'>搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--表单-->\n    <el-table :data=\"formList\" style=\"width: 100%\"\n              border\n              element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n              height='415'\n              size='mini'\n              ref='table'\n              :row-key=\"getRowKeys\"\n              :expand-row-keys=\"expands\"\n              @expand-change='openRowExpansions'\n    >\n      <el-table-column\n        type=\"index\"\n        align='center'\n        width=\"50\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"tenderId\"\n        label=\"询报价编号\"\n        width=\"150\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"项目名称\"\n        prop='projectName'\n        min-width='220'>\n      </el-table-column>\n      <el-table-column\n        prop=\"tenderingType\"\n        label=\"询报价类别\"\n        align='center'\n        width=\"100\">\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"活动时间\"\n        min-width='240'>\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.activityTime}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"username\"\n        label=\"发起人\"\n        width='100'>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"已审核人\"\n        width='100'>\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.approverName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"参与人数\"\n        width='80'>\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.participants}}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        align='center'\n        label=\"操作\"\n        width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"text\"\n            size=\"small\"\n            @click='hlderDialogShow(scope)'\n            :disabled='scope.row.participants==0||scope.row.approverCount==3'\n          >\n            审批\n          </el-button>\n        </template>\n      </el-table-column>\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <div v-if=\"props.row.approverCount==3\">\n            <div v-for=\"item in props.row.managementSpecificVOList\" :key='item.replyUuid' class='xiala'>\n              <el-form label-position=\"center\" inline class=\"demo-table-expand\">\n                <el-form-item label=\"询报价编号\">\n                  <span>{{item.tenderId}}</span>\n                </el-form-item>\n                <el-form-item label=\"投标公司\">\n                  <span>{{item.supplierName}}</span>\n                </el-form-item>\n                <el-form-item label=\"轮次\">\n                  <span>{{item.temderNumber}}</span>\n                </el-form-item>\n                <el-form-item label=\"项目名称\">\n                  <span>{{item.projectName}}</span>\n                </el-form-item>\n                <el-form-item label=\"单价\">\n                  <span>{{item.unitprice}}</span>\n                </el-form-item>\n                <el-form-item label=\"是否参与竞标\">\n                  <span>{{item.approval|filterApproval}}</span>\n                </el-form-item>\n                <el-form-item label=\"中标状态\">\n                  <span\n                    :class=\"[item.whetherbid=='1'?'yesAbnormal':'noAbnormal']\">{{item.whetherbid|filterWhetherbid}}</span>\n                </el-form-item>\n                <el-form-item>\n                  <el-button type=\"danger\" size='mini' @click='WinningBid(item,1)' :disabled='props.row.isitover==1'>\n                    中标\n                  </el-button>\n                  <el-button type=\"info\" size='mini' @click='enterDetails(item)'>详情</el-button>\n                  <el-button type=\"success\" size='mini' @click='downloadFiles(item)'>下载</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n          </div>\n          <div v-if=\"props.row.participants==0\" class=\"zanwu\">暂无</div>\n          <div v-if='props.row.approverCount!=3&&props.row.participants!=0' class=\"zanwu\">全部人审核后方可查看</div>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页-->\n    <div class='page_fen'>\n      <el-pagination\n        background\n        :page-size=\"screen_data.pageSize\"\n        layout=\"prev, pager, next\"\n        :total=\"screen_data.totalNum\"\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"screen_data.pageIndex\">\n      </el-pagination>\n    </div>\n\n    <!--审核弹窗-->\n    <el-dialog\n      title=\"询报价审核\"\n      :visible.sync=\"dialogVisible\"\n      width=\"400px\"\n      :before-close=\"handleClose\"\n    >\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" :inline=\"true\" size='mini'>\n        <el-form-item label=\"审核状态\">\n          <el-select v-model=\"form.Audit\" placeholder=\"请选择活动区域\">\n            <el-option label=\"未选择\" value=\"0\"></el-option>\n            <el-option label=\"通过\" value=\"1\"></el-option>\n            <el-option label=\"不通过\" value=\"2\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmit\">确定</el-button>\n        </el-form-item>\n      </el-form>\n\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  // 引入公共配置\n  import {config} from 'api/config.js';\n  //引入接口文件请求文件\n  import axios from 'api/axios.js'\n  // Vuex语法糖\n  import {mapMutations, mapState} from 'Vuex'\n\n  export default {\n    name: 'inquiryAudit',\n    data() {\n      return {\n        // 搜索\n        screen_data: {\n          // 询报价编码\n          tenderId: '',\n          // 当前页\n          pageIndex: 1,\n          // 请求条数\n          pageSize: 10,\n          //总数\n          totalNum: 0,\n        },\n        // 列表\n        formList: [],\n        // 中标颜色状态\n        yesAbnormal: 'yesAbnormal',\n        noAbnormal: 'noAbnormal',\n        // 审核弹窗显示状态\n        dialogVisible: false,\n        // 选中的审核内容\n        selectId: '',\n        // 审核状态\n        form: {\n          Audit: '0'\n        },\n        // 一次只能展开一行\n        expands: [],\n        getRowKeys(row) {\n          return row.offeruuid\n        }\n      }\n    },\n    filters: {\n      // 中标状态\n      filterWhetherbid: (val) => {\n        if (val == 0) {\n          return '未选择'\n        } else if (val == 1) {\n          return '中标'\n        } else if (val == 2) {\n          return '未中标'\n        }\n      },\n      // 参与状态\n      filterApproval: (val) => {\n        if (val == 0) {\n          return '未选择'\n        } else if (val == 1) {\n          return '参与竞标'\n        } else if (val == 2) {\n          return '放弃竞标'\n        }\n      }\n    },\n    mounted() {\n      this.handleCurrentChange()\n    },\n    computed: {\n      ...mapState(['uuid'])\n    },\n    methods: {\n      ...mapMutations(['changeUuid', 'changePagePresentState']),\n      // 获取列表数据\n      handleCurrentChange(data) {\n        if (data == 'screen') {\n          this.screen_data.pageIndex = 1\n        }\n        const params = {\n          tenderId: this.screen_data.tenderId,\n          fuzzySearch: this.screen_data.fuzzySearch,\n          pageIndex: this.screen_data.pageIndex,\n          pageSize: this.screen_data.pageSize,\n        }\n        axios.post(config.api, '/replymanagement/listByInquiryVo.do', params).then((res) => {\n          if (res.status == 0) {\n            this.formList = res.data\n            if (res.data.length > 0) {\n              this.screen_data.totalNum = res.data[0].totalNum\n            }\n          }\n        })\n      },\n      // 审核状态显示\n      hlderDialogShow(scope) {\n        // 存储选中的id\n        this.selectId = scope.row.offeruuid\n        // 显示审核弹窗\n        this.dialogVisible = true\n      },\n      // 审核状态\n      onSubmit() {\n        const params = {\n          offeruuid: this.selectId,\n          whetherToAudit: this.form.Audit\n        }\n        console.log(params)\n        axios.post(config.api, '/replymanagement/insertAndUpdateInquiryVo.do', params).then((res) => {\n          console.log(res)\n          if (res.status == 0) {\n            // 错误提示\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true,\n              callback: action => {\n                // 重新获取数据\n                this.handleCurrentChange()\n                // 关闭审核\n                this.handleClose()\n              }\n            })\n          } else {\n            // 错误提示\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true,\n              callback: action => {\n                // 关闭审核\n                this.handleClose()\n              }\n            })\n          }\n        })\n      },\n      // 关闭审核状态显示\n      handleClose() {\n        this.form.Audit = '0'\n        this.dialogVisible = false\n      },\n      // 中标\n      WinningBid(item, type) {\n        const params = {\n          uuid: item.replyUuid,\n          whetherbid: type\n        }\n        axios.post(config.api, '/replymanagement/updateByWhetherbid.do', params).then((res) => {\n          console.log(res)\n          if (res.status == 0) {\n            // 错误提示\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true,\n              callback: action => {\n                // 重新获取数据\n                this.handleCurrentChange()\n              }\n            })\n          } else {\n            // 错误提示\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      },\n      // 进入详情\n      enterDetails(item) {\n        // 改变查看详情类型状态\n        this.changePagePresentState('Choice')\n        this.changeUuid(item.replyUuid)\n        this.$router.push('selectView')\n      },\n      // 下载文件\n      downloadFiles(item) {\n        const params = {\n          pagePresentation: \"Details\",\n          uuid: item.replyUuid\n        }\n        axios.getFile(config.noNeedLogionApi, 'skip/exportData.do', params).then((response) => {\n          let link = document.createElement(\"a\");\n          link.href = window.URL.createObjectURL(new Blob([response]));\n          link.target = \"_blank\";\n          link.download = '报价单.xls';\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        })\n      },\n      // 记录展开的是哪一行\n      openRowExpansions(row, expandedRows){\n        var that = this\n        if (expandedRows.length) {\n          that.expands = []\n          if (row) {\n            that.expands.push(row.offeruuid)// 每次push进去的是每行的ID\n          }\n        } else {\n          that.expands = []// 默认不展开\n        }\n      }\n    }\n  }\n</script>\n\n<style lang='stylus' scoped>\n  .inquiry_warp\n    width: 100%;\n    margin-top: 20px;\n    margin-bottom: 10px;\n\n\n\n  .xiala {\n    margin 10px 0px;\n    padding 10px 20px;\n    background #f5f5f5;\n  }\n\n  .yesAbnormal {\n    color: #F56C6C\n  }\n\n  .noAbnormal {\n    color: #ccc;\n  }\n\n  .zanwu\n    width 100%\n    text-align center\n\n\n  .demo-table-expand {\n    font-size: 0;\n  }\n  .demo-table-expand label {\n    width: 90px;\n    color: #99a9bf;\n  }\n  .demo-table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 50%;\n  }\n\n  /*分页*/\n  .page_fen {\n    width: 100%;\n    height: 50px;\n    background: #f5f5f5;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 20px;\n    padding: 0px 20px;\n    box-sizing: border-box;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/inquiryAudit/inquiryAudit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"inquiry_warp\"},[_c('el-form',{ref:\"screen_data\",attrs:{\"model\":_vm.screen_data,\"label-width\":\"80px\",\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"报价编号\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入报价标号\"},model:{value:(_vm.screen_data.tenderId),callback:function ($$v) {_vm.$set(_vm.screen_data, \"tenderId\", $$v)},expression:\"screen_data.tenderId\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"Fuzzy\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleCurrentChange(\"screen\")}}},[_vm._v(\"搜索\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.formList,\"border\":\"\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"height\":\"415\",\"size\":\"mini\",\"row-key\":_vm.getRowKeys,\"expand-row-keys\":_vm.expands},on:{\"expand-change\":_vm.openRowExpansions}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"tenderId\",\"label\":\"询报价编号\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"项目名称\",\"prop\":\"projectName\",\"min-width\":\"220\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tenderingType\",\"label\":\"询报价类别\",\"align\":\"center\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"活动时间\",\"min-width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.activityTime))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"username\",\"label\":\"发起人\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"已审核人\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.approverName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"参与人数\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.participants))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":scope.row.participants==0||scope.row.approverCount==3},on:{\"click\":function($event){return _vm.hlderDialogShow(scope)}}},[_vm._v(\"\\n          审批\\n        \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(props.row.approverCount==3)?_c('div',_vm._l((props.row.managementSpecificVOList),function(item){return _c('div',{key:item.replyUuid,staticClass:\"xiala\"},[_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"center\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"询报价编号\"}},[_c('span',[_vm._v(_vm._s(item.tenderId))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"投标公司\"}},[_c('span',[_vm._v(_vm._s(item.supplierName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"轮次\"}},[_c('span',[_vm._v(_vm._s(item.temderNumber))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"项目名称\"}},[_c('span',[_vm._v(_vm._s(item.projectName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"单价\"}},[_c('span',[_vm._v(_vm._s(item.unitprice))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否参与竞标\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"filterApproval\")(item.approval)))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"中标状态\"}},[_c('span',{class:[item.whetherbid=='1'?'yesAbnormal':'noAbnormal']},[_vm._v(_vm._s(_vm._f(\"filterWhetherbid\")(item.whetherbid)))])]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"disabled\":props.row.isitover==1},on:{\"click\":function($event){return _vm.WinningBid(item,1)}}},[_vm._v(\"\\n                  中标\\n                \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.enterDetails(item)}}},[_vm._v(\"详情\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.downloadFiles(item)}}},[_vm._v(\"下载\")])],1)],1)],1)}),0):_vm._e(),_vm._v(\" \"),(props.row.participants==0)?_c('div',{staticClass:\"zanwu\"},[_vm._v(\"暂无\")]):_vm._e(),_vm._v(\" \"),(props.row.approverCount!=3&&props.row.participants!=0)?_c('div',{staticClass:\"zanwu\"},[_vm._v(\"全部人审核后方可查看\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"page_fen\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-size\":_vm.screen_data.pageSize,\"layout\":\"prev, pager, next\",\"total\":_vm.screen_data.totalNum,\"current-page\":_vm.screen_data.pageIndex},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.screen_data, \"pageIndex\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.screen_data, \"pageIndex\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"询报价审核\",\"visible\":_vm.dialogVisible,\"width\":\"400px\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"审核状态\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择活动区域\"},model:{value:(_vm.form.Audit),callback:function ($$v) {_vm.$set(_vm.form, \"Audit\", $$v)},expression:\"form.Audit\"}},[_c('el-option',{attrs:{\"label\":\"未选择\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"通过\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"不通过\",\"value\":\"2\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7be7c915\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/inquiryAudit/inquiryAudit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7be7c915\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./inquiryAudit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./inquiryAudit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./inquiryAudit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7be7c915\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./inquiryAudit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7be7c915\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/inquiryAudit/inquiryAudit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}