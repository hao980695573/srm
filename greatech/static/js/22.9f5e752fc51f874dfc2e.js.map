{"version":3,"sources":["webpack:///src/commponent/generatedBill/generatedBill.vue","webpack:///./src/commponent/generatedBill/generatedBill.vue?e24c","webpack:///./src/commponent/generatedBill/generatedBill.vue"],"names":["generatedBill","name","data","screen_data","pageNum","pageSize","totalNum","statementNumber","supplierName","form","filters","filterDate","val","Interface","renderTime","slice","filterbillingTime","timeDate","split","splice","join","mounted","this","handleCurrentChange","methods","extends_default","Object","vuex_esm","_this","params","axios","post","config","api","then","res","status","length","$alert","msg","confirmButtonText","center","enterPrint","scope","changeUuid","uuid","$router","push","downloadFiles","row","search","purchaseOrder","productNumber","productName","getFile","noNeedLogionApi","response","link","document","createElement","href","window","URL","createObjectURL","Blob","target","download","body","appendChild","click","removeChild","generatedBill_generatedBill","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","inline","size","label","placeholder","value","callback","$$v","$set","expression","_v","label-width","type","on","$event","staticStyle","width","border","height","align","scopedSlots","_u","key","fn","_s","erpno","min-width","_f","billingTime","createDate","directives","rawName","background","page-size","layout","total","current-page","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.9f5e752fc51f874dfc2e.js","sourcesContent":["<template>\n  <div>\n    <!--搜索-->\n    <div class='inquiry_warp'>\n      <el-form ref=\"screen_data\" :model=\"screen_data\" :inline=\"true\" size='mini'>\n        <el-form-item label=\"对账单号\">\n          <el-input v-model=\"screen_data.statementNumber\" placeholder=\"请输入对账单号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"供应商名称\" label-width='100px'>\n          <el-input v-model=\"screen_data.supplierName\" placeholder=\"请输入供应商名称\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\"  class='Fuzzy' size=\"mini\" @click='handleCurrentChange(\"screen\")'>搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--列表-->\n    <el-table\n      :data=\"form\"\n      border\n      style=\"width: 100%\"\n      height='415px'\n      size='mini'\n    >\n      <el-table-column\n        type=\"index\"\n        align='center'\n        width=\"50\">\n      </el-table-column>\n      <el-table-column\n        label=\"ERP代码\"\n        align='center'\n        width=\"150\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.erpno}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"供应商名称\"\n        align='center'\n        min-width=\"140\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.supplierName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"账单日期\"\n        align='center'\n        width=\"140\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.billingTime|filterbillingTime}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"生成日期\"\n        align='center'\n        width=\"140\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.createDate|filterDate}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align='center'\n        label=\"操作\"\n        width=\"200\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"text\"\n            size=\"small\" @click='enterPrint(scope.row)'>\n            打印\n          </el-button>\n          <el-button\n            type=\"text\"\n            size=\"small\" @click='downloadFiles(scope)'>\n            下载\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页-->\n    <div class='page_fen' v-show='form.length>0'>\n      <el-pagination\n        background\n        :page-size=\"screen_data.pageSize\"\n        layout=\"prev, pager, next\"\n        :total=\"screen_data.totalNum\"\n        @current-change=\"handleCurrentChange\"\n        :current-page.sync=\"screen_data.pageNum\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  // 引入公共配置\n  import {config} from 'api/config.js';\n  //引入接口文件请求文件\n  import axios from 'api/axios.js'\n  // 引入公共方法\n  import Interface from 'api/Interface.js'\n  // Vuex语法糖\n  import {mapMutations} from 'Vuex'\n  export default {\n    name:'generatedBill',\n    data(){\n      return{\n        // 搜索\n        screen_data:{\n          // 当前页\n          pageNum:1,\n          // 请求条数参数\n          pageSize:8,\n          // 总条数\n          totalNum:1,\n          // 对账单号\n          statementNumber: '',\n          // 供应商名称\n          supplierName: '',\n        },\n        // 列表\n        form:[]\n      }\n    },\n    filters:{\n      filterDate(val){\n        if(val){\n          return Interface.renderTime(val).slice(0,10)\n        }\n      },\n      filterbillingTime(val){\n        // 日期\n        var timeDate=val.split('')\n        timeDate.splice(4, 0, \"-\")\n        return timeDate.join('')\n      }\n    },\n    mounted(){\n      this.handleCurrentChange()\n    },\n    methods:{\n      ...mapMutations(['changeUuid']),\n      // 获取列表\n      handleCurrentChange(data){\n        if(data==\"screen\"){\n          this.screen_data.pageNum=1\n        }\n        const params={\n          pageNum:this.screen_data.pageNum,\n          pageSize:this.screen_data.pageSize,\n          // 对账单号\n          statementNumber: this.screen_data.statementNumber,\n          // 供应商名称\n          supplierName: this.screen_data.supplierName,\n        }\n        axios.post(config.api, '/aStatement/getGeneratedBillList.do',params).then((res) => {\n          if (res.status == 0) {\n              console.log(res)\n              this.form=res.data\n\n              // 分页\n              if(res.data.length>0){\n                this.screen_data.totalNum=res.data[0].totalNum\n              }\n          }else{\n            this.$alert(res.msg, {\n              confirmButtonText: '确定',\n              center: true\n            })\n          }\n        })\n      },\n      // 进入打印\n      enterPrint(scope){\n        this.changeUuid(scope.uuid)\n        this.$router.push('financialPrinting')\n      },\n      // 下载文件\n      downloadFiles(scope){\n        const params={\n          uuid:scope.row.uuid,\n          search:'',\n          purchaseOrder:\"\",\n          productNumber:'',\n          productName:\"\"\n        }\n        axios.getFile(config.noNeedLogionApi, 'skip/exportGeneratedBillDetail.do', params).then((response) => {\n          console.log(response);\n          let link = document.createElement(\"a\");\n          link.href = window.URL.createObjectURL(new Blob([response]));\n          link.target = \"_blank\";\n          link.download = '对账单.xlsx';\n          document.body.appendChild(link);\n          link.click();\n          console.log('aaaa')\n          document.body.removeChild(link);\n        })\n      }\n    }\n  }\n</script>\n\n<style lang='stylus' scoped>\n  .inquiry_warp{\n    width: 100%;\n    margin-top: 20px;\n    margin-bottom: 10px;\n  }\n  /*分页*/\n  .page_fen {\n    width: 100%;\n    height: 50px;\n    background: #f5f5f5;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 20px;\n    padding: 0px 20px;\n    box-sizing: border-box;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/commponent/generatedBill/generatedBill.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"inquiry_warp\"},[_c('el-form',{ref:\"screen_data\",attrs:{\"model\":_vm.screen_data,\"inline\":true,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"对账单号\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入对账单号\"},model:{value:(_vm.screen_data.statementNumber),callback:function ($$v) {_vm.$set(_vm.screen_data, \"statementNumber\", $$v)},expression:\"screen_data.statementNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供应商名称\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入供应商名称\"},model:{value:(_vm.screen_data.supplierName),callback:function ($$v) {_vm.$set(_vm.screen_data, \"supplierName\", $$v)},expression:\"screen_data.supplierName\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"Fuzzy\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleCurrentChange(\"screen\")}}},[_vm._v(\"搜索\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.form,\"border\":\"\",\"height\":\"415px\",\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"ERP代码\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.erpno))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"供应商名称\",\"align\":\"center\",\"min-width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.supplierName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"账单日期\",\"align\":\"center\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"filterbillingTime\")(scope.row.billingTime)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"生成日期\",\"align\":\"center\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"filterDate\")(scope.row.createDate)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.enterPrint(scope.row)}}},[_vm._v(\"\\n          打印\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.downloadFiles(scope)}}},[_vm._v(\"\\n          下载\\n        \")])]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.length>0),expression:\"form.length>0\"}],staticClass:\"page_fen\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"page-size\":_vm.screen_data.pageSize,\"layout\":\"prev, pager, next\",\"total\":_vm.screen_data.totalNum,\"current-page\":_vm.screen_data.pageNum},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.screen_data, \"pageNum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.screen_data, \"pageNum\", $event)}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fa463e3a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/commponent/generatedBill/generatedBill.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fa463e3a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./generatedBill.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./generatedBill.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./generatedBill.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fa463e3a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./generatedBill.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fa463e3a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/commponent/generatedBill/generatedBill.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}